{"version":3,"file":"index.js","sources":["../src/styles/theme.js","../src/components/Avatar.js","../src/components/MentionsItem.js","../src/components/CommandsItem.js","../src/utils/renderText.js","../src/utils/index.js","../src/components/AutoCompleteInput.js","../src/assets/Poweredby_100px-White_VertText.png","../src/context.js","../src/components/Card.js","../src/components/DateSeparator.js","../src/components/EmptyStateIndicator.js","../src/components/EventIndicator.js","../src/images/PDF.png","../src/images/DOC.png","../src/images/PPT.png","../src/images/XLS.png","../src/images/TAR.png","../src/components/FileIcon.js","../src/components/AttachmentActions.js","../src/images/icons/close-round.png","../src/components/CloseButton.js","../src/components/Gallery.js","../src/components/Attachment.js","../src/components/FileAttachmentGroup.js","../src/images/reload1.png","../src/components/UploadProgressIndicator.js","../src/components/FileUploadPreview.js","../src/components/IconSquare.js","../src/components/ImageUploadPreview.js","../src/components/KeyboardCompatibleView.js","../src/components/LoadingErrorIndicator.js","../src/components/Spinner.js","../src/components/LoadingIndicator.js","../src/images/loading.gif","../src/images/icons/delivered_unseen.png","../src/components/MessageSimple/MessageStatus.js","../src/images/reactionlist/left-tail.png","../src/images/reactionlist/left-center.png","../src/images/reactionlist/left-end.png","../src/images/reactionlist/right-tail.png","../src/images/reactionlist/right-center.png","../src/images/reactionlist/right-end.png","../src/components/ReactionList.js","../src/components/ReactionPicker.js","../src/components/MessageSimple/MessageTextContainer.js","../src/images/icons/icon_path.png","../src/components/MessageSimple/MessageReplies.js","../src/components/MessageSimple/MessageContent.js","../src/components/MessageSimple/MessageAvatar.js","../src/components/MessageSystem.js","../src/components/MessageSimple/index.js","../src/components/Message.js","../src/components/MessageNotification.js","../src/components/SuggestionsProvider.js","../src/native.js","../src/components/Chat.js","../src/components/ChannelInner.js","../src/components/Channel.js","../src/components/TypingIndicator.js","../src/components/MessageList.js","../src/images/icons/icon_edit.png","../src/images/icons/icon_new_message.png","../src/components/SendButton.js","../src/images/icons/plus-outline.png","../src/images/icons/icon_attach-media.png","../src/images/icons/icon_folder.png","../src/images/icons/icon_close.png","../src/components/MessageInput.js","../src/components/ChannelPreviewMessenger.js","../src/components/ChannelPreview.js","../src/components/ChannelListMessenger.js","../src/components/ChannelList.js","../src/components/Thread.js","../src/components/IconBadge.js","../src/components/ReactionPickerWrapper.js"],"sourcesContent":["import React from 'react';\nimport { ThemeProvider, ThemeConsumer } from '@stream-io/styled-components';\nimport merge from 'lodash/merge';\nimport lodashSet from 'lodash/set';\nimport lodashGet from 'lodash/get';\nimport mapValues from 'lodash/mapValues';\nimport isPlainObject from 'lodash/isPlainObject';\n\nexport const BASE_FONT_SIZE = 16;\n\nexport const Colors = {\n  primary: '#006cff',\n  secondary: '#111',\n  danger: '#EDD8DD',\n  light: '#EBEBEB',\n  textLight: 'white',\n  textDark: 'rgba(0,0,0,1)',\n  textGrey: 'rgba(0,0,0,0.5)',\n  transparent: 'transparent',\n};\n\nexport const defaultTheme = {\n  colors: {\n    ...Colors,\n  },\n  avatar: {\n    container: {},\n    image: {},\n    text: {},\n    fallback: {},\n  },\n\n  channelPreview: {\n    container: {},\n    details: {},\n    detailsTop: {},\n    title: {},\n    date: {},\n    message: {\n      color: '#767676',\n      unreadColor: '#000',\n      fontWeight: 'normal',\n      unreadFontWeight: 'bold',\n    },\n  },\n\n  closeButton: {\n    container: {},\n  },\n\n  iconBadge: {\n    container: {},\n    icon: {},\n    iconInner: {},\n    unreadCount: {},\n  },\n\n  message: {\n    container: {},\n    content: {\n      container: {\n        borderRadiusL: 16,\n        borderRadiusS: 2,\n      },\n      containerInner: {},\n      metaContainer: {},\n      metaText: {},\n      errorContainer: {\n        backgroundColor: Colors.danger,\n      },\n      deletedContainer: {},\n      deletedText: {},\n      textContainer: {\n        borderRadiusL: 16,\n        borderRadiusS: 2,\n        leftBorderWidth: 0.5,\n        leftBorderColor: 'rgba(0,0,0,0.08)',\n        rightBorderWidth: 0,\n        rightBorderColor: 'transparent',\n      },\n      // Available options for styling text: https://github.com/CharlesMangwa/react-native-simple-markdown/tree/next#styles-1\n      markdown: {},\n    },\n    status: {\n      spacer: {},\n      deliveredContainer: {},\n      deliveredCircle: {},\n      checkMark: {},\n      sendingContainer: {},\n      sendingImage: {},\n      readByContainer: {},\n      readByCount: {},\n    },\n    avatarWrapper: {\n      container: {},\n      spacer: {},\n    },\n    replies: {\n      container: {},\n      messageRepliesText: {},\n      image: {},\n    },\n    file: {\n      container: {},\n      details: {},\n      title: {},\n      size: {},\n    },\n    actions: {\n      container: {},\n      button: {\n        primaryBackgroundColor: Colors.primary,\n        defaultBackgroundColor: 'white',\n        primaryBorderColor: Colors.light,\n        defaultBorderColor: 'transparent',\n      },\n      buttonText: {\n        primaryColor: 'white',\n        defaultColor: 'black',\n      },\n    },\n    card: {\n      container: {},\n      cover: {},\n      footer: {},\n    },\n\n    gallery: {\n      width: 240,\n      size: 120,\n      halfSize: 80,\n      doubleSize: 240,\n\n      single: {},\n      imageContainer: {},\n      galleryContainer: {},\n      header: {\n        container: {},\n        button: {},\n      },\n    },\n    reactionList: {\n      container: {},\n      reactionCount: {},\n    },\n\n    reactionPicker: {\n      container: {},\n      containerView: {},\n      column: {},\n      emoji: {},\n      reactionCount: {},\n      text: {},\n    },\n    actionSheet: {\n      titleContainer: {},\n      titleText: {},\n      buttonContainer: {},\n      buttonText: {},\n      cancelButtonContainer: {},\n      cancelButtonText: {},\n    },\n  },\n\n  messageInput: {\n    container: {\n      conditionalPadding: 20,\n    },\n    inputBox: {},\n    inputBoxContainer: {},\n    attachButton: {},\n    attachButtonIcon: {},\n    sendButton: {},\n    sendButtonIcon: {},\n    imageUploadPreview: {\n      container: {},\n      itemContainer: {},\n      dismiss: {},\n      dismissImage: {},\n      upload: {},\n    },\n    uploadProgressIndicator: {\n      overlay: {},\n      container: {},\n    },\n\n    suggestions: {\n      wrapper: {},\n      container: {\n        maxHeight: 250,\n        itemHeight: 50,\n      },\n      title: {},\n      separator: {},\n      item: {},\n      mention: {\n        container: {},\n        name: {},\n      },\n      command: {\n        container: {},\n        top: {},\n        title: {},\n      },\n    },\n    actionSheet: {\n      titleContainer: {},\n      titleText: {},\n      buttonContainer: {},\n      buttonText: {},\n    },\n  },\n\n  messageList: {\n    listContainer: {},\n    messageNotification: {\n      container: {},\n      text: {},\n    },\n    errorNotification: {},\n    errorNotificationText: {},\n    dateSeparator: {\n      container: {},\n      line: {},\n      date: {},\n      dateText: {},\n    },\n    messageSystem: {\n      container: {},\n      line: {},\n      text: {},\n      textContainer: {},\n      dateText: {},\n    },\n    eventIndicator: {\n      date: {},\n      memberUpdateContainer: {},\n      memberUpdateTextContainer: {},\n      memberUpdateText: {},\n    },\n    typingIndicatorContainer: {},\n  },\n\n  spinner: {},\n\n  thread: {\n    newThread: {\n      text: {},\n    },\n  },\n\n  typingIndicator: {\n    text: {\n      fontSize: 14,\n      color: Colors.textGrey,\n    },\n  },\n};\n\nexport const themed = (OriginalComponent) => {\n  if (OriginalComponent.themePath == null) {\n    throw Error('Only use themed on components that have a static themePath');\n  }\n  const ThemedComponent = ({ style, ...props }) => (\n    <ThemeConsumer>\n      {(themeProviderTheme) => {\n        if (!style && themeProviderTheme) {\n          return <OriginalComponent {...props} />;\n        }\n        let modifiedTheme = themeProviderTheme || defaultTheme;\n        if (style) {\n          const themeDiff = {};\n          const path = [];\n\n          // replaces\n          // { 'avatar.fallback': 'background-color: red;' }\n          // with\n          // { 'avatar.fallback': { css: 'background-color: red;' } }\n          const replaceCssShorthand = (v) => {\n            if (isPlainObject(v)) {\n              const m = mapValues(v, (v, k) => {\n                path.push(k);\n                return replaceCssShorthand(v);\n              });\n              path.pop();\n              return m;\n            }\n            if (isPlainObject(lodashGet(defaultTheme, path.join('.')))) {\n              path.pop();\n              return { css: v };\n            }\n            path.pop();\n            return v;\n          };\n\n          style = replaceCssShorthand(style);\n          for (const k in style) {\n            if (\n              lodashGet(defaultTheme, OriginalComponent.themePath + '.' + k)\n            ) {\n              merge(\n                themeDiff,\n                lodashSet({}, OriginalComponent.themePath + '.' + k, style[k]),\n              );\n            } else if (lodashGet(defaultTheme, k)) {\n              merge(themeDiff, lodashSet({}, k, style[k]));\n            } else {\n              throw Error(`Unknown theme key ${k}`);\n            }\n          }\n\n          modifiedTheme = merge({}, modifiedTheme, themeDiff);\n        }\n        return (\n          <ThemeProvider theme={modifiedTheme}>\n            <OriginalComponent {...props} />\n          </ThemeProvider>\n        );\n      }}\n    </ThemeConsumer>\n  );\n  ThemedComponent.themePath = OriginalComponent.themePath;\n  ThemedComponent.extraThemePaths = OriginalComponent.extraThemePaths;\n  ThemedComponent.displayName = `Themed${getDisplayName(OriginalComponent)}`;\n  return ThemedComponent;\n};\n\n// Copied from here:\n// https://reactjs.org/docs/higher-order-components.html#convention-wrap-the-display-name-for-easy-debugging\nfunction getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\n\nexport const originalCSS = {};\n\nexport function setOriginalCSS(path, string) {\n  // remove junk at the start and end of the code snippet\n  string = string\n    .split('`')[1]\n    .split('\\n')\n    .slice(1, -2)\n    .join('\\n');\n  lodashSet(originalCSS, path + '.defaultCSS', string);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\n\nconst BASE_AVATAR_FALLBACK_TEXT_SIZE = 14;\nconst BASE_AVATAR_SIZE = 32;\n\nconst AvatarContainer = styled.View`\n  display: flex;\n  align-items: center;\n  ${({ theme }) => theme.avatar.container.css}\n`;\n\nconst AvatarImage = styled.Image`\n  border-radius: ${({ size }) => size / 2};\n  width: ${({ size }) => size};\n  height: ${({ size }) => size};\n  ${({ theme }) => theme.avatar.image.css}\n`;\n\nconst AvatarFallback = styled.View`\n  border-radius: ${({ size }) => size / 2};\n  width: ${({ size }) => size};\n  height: ${({ size }) => size};\n  background-color: ${({ theme }) => theme.colors.primary};\n  justify-content: center;\n  align-items: center;\n  ${({ theme }) => theme.avatar.fallback.css}\n`;\n\nconst AvatarText = styled.Text`\n  color: ${({ theme }) => theme.colors.textLight};\n  text-transform: uppercase;\n  font-size: ${({ fontSize }) => fontSize};\n  font-weight: bold;\n  ${({ theme }) => theme.avatar.text.css}\n`;\n\n/**\n * Avatar - A round avatar image with fallback to user's initials\n *\n * @example ./docs/Avatar.md\n * @extends PureComponent\n */\nexport const Avatar = themed(\n  class Avatar extends React.PureComponent {\n    static themePath = 'avatar';\n    static propTypes = {\n      /** image url */\n      image: PropTypes.string,\n      /** name of the picture, used for title tag fallback */\n      name: PropTypes.string,\n      /** size in pixels */\n      size: PropTypes.number,\n      /** Style overrides */\n      style: PropTypes.object,\n    };\n\n    static defaultProps = {\n      size: 32,\n    };\n\n    state = {\n      imageError: false,\n    };\n\n    setError = () => {\n      this.setState({\n        imageError: true,\n      });\n    };\n\n    getInitials = (name) =>\n      name\n        ? name\n            .split(' ')\n            .slice(0, 2)\n            .map((name) => name.charAt(0))\n        : null;\n\n    render() {\n      const { size, name, image } = this.props;\n      const initials = this.getInitials(name);\n      const fontSize =\n        BASE_AVATAR_FALLBACK_TEXT_SIZE * (size / BASE_AVATAR_SIZE);\n\n      return (\n        <AvatarContainer>\n          {image && !this.state.imageError ? (\n            <AvatarImage\n              size={size}\n              source={{ uri: image }}\n              accessibilityLabel=\"initials\"\n              resizeMethod=\"resize\"\n              onError={this.setError}\n            />\n          ) : (\n            <AvatarFallback size={size}>\n              <AvatarText fontSize={fontSize}>{initials}</AvatarText>\n            </AvatarFallback>\n          )}\n        </AvatarContainer>\n      );\n    }\n  },\n);\n","import React from 'react';\nimport { Avatar } from './Avatar';\nimport PropTypes from 'prop-types';\n\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\n\nconst Container = styled.View`\n  flex-direction: row;\n  align-items: center;\n  padding: 10px;\n  ${({ theme }) => theme.messageInput.suggestions.mention.container.css}\n`;\n\nconst Name = styled.Text`\n  padding: 10px;\n  color: black;\n  font-weight: bold;\n  ${({ theme }) => theme.messageInput.suggestions.mention.name.css}\n`;\n\nexport const MentionsItem = themed(\n  class MentionsItem extends React.Component {\n    static themePath = 'messageInput.suggestions.mention';\n    render() {\n      const {\n        item: { name, icon, id },\n      } = this.props;\n      return (\n        <Container>\n          <Avatar image={icon} />\n          <Name>{name || id}</Name>\n        </Container>\n      );\n    }\n  },\n);\n\nMentionsItem.propTypes = {\n  name: PropTypes.string,\n  icon: PropTypes.string,\n  id: PropTypes.string,\n};\n","import React from 'react';\nimport { Text } from 'react-native';\nimport styled from '@stream-io/styled-components';\nimport PropTypes from 'prop-types';\nimport { themed } from '../styles/theme';\n\nconst Container = styled.View`\n  flex-direction: column;\n  padding: 10px;\n  ${({ theme }) => theme.messageInput.suggestions.command.container.css}\n`;\n\nconst Top = styled.View`\n  flex-direction: row;\n  align-items: center;\n  ${({ theme }) => theme.messageInput.suggestions.command.top.css}\n`;\n\nconst Title = styled.Text`\n  font-weight: bold;\n  ${({ theme }) => theme.messageInput.suggestions.command.title.css}\n`;\n\n/**\n * @example ./docs/CommandsItem.md\n * @extends PureComponent\n */\nexport const CommandsItem = themed(\n  class CommandsItem extends React.Component {\n    static themePath = 'messageInput.suggestions.command';\n    static propTypes = {\n      name: PropTypes.string,\n      args: PropTypes.string,\n      description: PropTypes.string,\n    };\n\n    render() {\n      const {\n        item: { name, args, description },\n      } = this.props;\n\n      return (\n        <Container>\n          <Top>\n            <Title>/{name} </Title>\n            <Text>{args}</Text>\n          </Top>\n          <Text>{description}</Text>\n        </Container>\n      );\n    }\n  },\n);\n","import Markdown from '@stream-io/react-native-simple-markdown';\nimport { truncate } from 'lodash-es';\nimport anchorme from 'anchorme';\nimport React from 'react';\n\nexport const renderText = (message, styles) => {\n  // take the @ mentions and turn them into markdown?\n  // translate links\n  let { text } = message;\n  const { mentioned_users = [] } = message;\n\n  if (!text) {\n    return;\n  }\n  text = text.trim();\n  const urls = anchorme(text, {\n    list: true,\n  });\n  for (const urlInfo of urls) {\n    const displayLink = truncate(urlInfo.encoded.replace(/^(www\\.)/, ''), {\n      length: 20,\n      omission: '...',\n    });\n    const mkdown = `[${displayLink}](${urlInfo.protocol}${urlInfo.encoded})`;\n    text = text.replace(urlInfo.raw, mkdown);\n  }\n  let newText = text;\n  if (mentioned_users.length) {\n    for (let i = 0; i < mentioned_users.length; i++) {\n      const username = mentioned_users[i].name || mentioned_users[i].id;\n      const mkdown = `**@${username}**`;\n      const re = new RegExp(`@${username}`, 'g');\n      newText = newText.replace(re, mkdown);\n    }\n  }\n\n  newText = newText.replace(/[<&\"'>]/g, '\\\\$&');\n  const markdownStyles = {\n    ...defaultMarkdownStyles,\n    ...styles,\n  };\n\n  return <Markdown styles={markdownStyles}>{newText}</Markdown>;\n};\n\nconst defaultMarkdownStyles = {\n  link: {\n    color: 'blue',\n    textDecorationLine: 'underline',\n  },\n  url: {\n    color: 'blue',\n    textDecorationLine: 'underline',\n  },\n};\n","import { MentionsItem } from '../components/MentionsItem';\nimport { CommandsItem } from '../components/CommandsItem';\n\nimport { withTranslation } from 'react-i18next';\nimport hoistStatics from 'hoist-non-react-statics';\n\nexport { renderText } from './renderText';\n\nexport const emojiData = [\n  {\n    id: 'like',\n    icon: 'ðŸ‘',\n  },\n  {\n    id: 'love',\n    icon: 'â¤ï¸ï¸',\n  },\n  {\n    id: 'haha',\n    icon: 'ðŸ˜‚',\n  },\n  {\n    id: 'wow',\n    icon: 'ðŸ˜®',\n  },\n  {\n    id: 'sad',\n    icon: 'ðŸ˜”',\n  },\n  {\n    id: 'angry',\n    icon: 'ðŸ˜ ',\n  },\n];\n\nexport const capitalize = (s) => {\n  if (typeof s !== 'string') return '';\n  return s.charAt(0).toUpperCase() + s.slice(1);\n};\n\nexport const FileState = Object.freeze({\n  NO_FILE: 'no_file',\n  UPLOADING: 'uploading',\n  UPLOADED: 'uploaded',\n  UPLOAD_FAILED: 'upload_failed',\n});\n\nexport const ProgressIndicatorTypes = Object.freeze({\n  IN_PROGRESS: 'in_progress',\n  RETRY: 'retry',\n});\n\n// ACI = AutoCompleteInput\nexport const ACITriggerSettings = ({\n  users,\n  onMentionSelectItem,\n  commands,\n}) => ({\n  '@': {\n    dataProvider: (q) => {\n      const matchingUsers = users.filter((user) => {\n        if (!q) return true;\n        if (\n          user.name !== undefined &&\n          user.name.toLowerCase().indexOf(q.toLowerCase()) !== -1\n        ) {\n          return true;\n        } else if (user.id.toLowerCase().indexOf(q.toLowerCase()) !== -1) {\n          return true;\n        } else {\n          return false;\n        }\n      });\n      return matchingUsers.slice(0, 10);\n    },\n    component: MentionsItem,\n    title: 'Searching for people',\n    output: (entity) => ({\n      key: entity.id,\n      text: `@${entity.name || entity.id}`,\n      caretPosition: 'next',\n    }),\n    callback: (item) => {\n      onMentionSelectItem(item);\n    },\n  },\n  '/': {\n    dataProvider: (q, text) => {\n      if (text.indexOf('/') !== 0) {\n        return [];\n      }\n\n      const selectedCommands = commands.filter((c) => c.name.indexOf(q) !== -1);\n\n      // sort alphabetically unless the you're matching the first char\n      selectedCommands.sort((a, b) => {\n        let nameA = a.name.toLowerCase();\n        let nameB = b.name.toLowerCase();\n        if (nameA.indexOf(q) === 0) {\n          nameA = `0${nameA}`;\n        }\n        if (nameB.indexOf(q) === 0) {\n          nameB = `0${nameB}`;\n        }\n        if (nameA < nameB) {\n          return -1;\n        }\n        if (nameA > nameB) {\n          return 1;\n        }\n\n        return 0;\n      });\n\n      return selectedCommands.slice(0, 10);\n    },\n    title: 'Commands',\n    component: CommandsItem,\n    output: (entity) => ({\n      key: entity.id,\n      text: `/${entity.name}`,\n      caretPosition: 'next',\n    }),\n  },\n});\n\nexport const MESSAGE_ACTIONS = {\n  edit: 'edit',\n  delete: 'delete',\n  reactions: 'reactions',\n  reply: 'reply',\n};\n\nexport const makeImageCompatibleUrl = (url) => {\n  if (!url) return url;\n\n  let newUrl = url;\n  if (url.indexOf('//') === 0) newUrl = 'https:' + url;\n\n  return newUrl;\n};\n\nexport const withTranslationAndStatics = (ns, options = {}) => (component) =>\n  hoistStatics(\n    withTranslation(ns, {\n      withRef: true,\n      ...options,\n    })(component),\n    component,\n  );\n","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport PropTypes from 'prop-types';\nimport { withTranslationAndStatics } from '../utils';\n\nconst InputBox = styled.TextInput`\n  max-height: 60px;\n  margin: -5px;\n  flex: 1;\n  ${({ theme }) => theme.messageInput.inputBox.css}\n`;\n\nexport const AutoCompleteInput = withTranslationAndStatics()(\n  class AutoCompleteInput extends React.PureComponent {\n    static propTypes = {\n      value: PropTypes.string,\n      /** @see See [suggestions context](https://getstream.github.io/stream-chat-react-native/#suggestionscontext) */\n      openSuggestions: PropTypes.func,\n      /** @see See [suggestions context](https://getstream.github.io/stream-chat-react-native/#suggestionscontext) */\n      closeSuggestions: PropTypes.func,\n      /** @see See [suggestions context](https://getstream.github.io/stream-chat-react-native/#suggestionscontext) */\n      updateSuggestions: PropTypes.func,\n      triggerSettings: PropTypes.object,\n      setInputBoxRef: PropTypes.func,\n      /**\n       * @param text string\n       */\n      onChange: PropTypes.func,\n      /**\n       * Additional props for underlying TextInput component. These props will be forwarded as it is to TextInput component.\n       *\n       * @see See https://facebook.github.io/react-native/docs/textinput#reference\n       */\n      additionalTextInputProps: PropTypes.object,\n    };\n\n    static defaultProps = {\n      value: '',\n    };\n\n    constructor(props) {\n      super(props);\n\n      this.state = {\n        text: props.value,\n        selectionStart: 0,\n        selectionEnd: 0,\n        currentTrigger: null,\n      };\n\n      this.isTrackingStarted = false;\n      this.previousChar = ' ';\n\n      this._createRegExp();\n    }\n\n    componentDidUpdate(prevProps) {\n      // console.log('in component did update: ' + prevProps.value);\n      if (prevProps.value !== this.props.value) {\n        this.setState({ text: this.props.value });\n        this.handleChange(this.props.value, true);\n      }\n    }\n\n    startTracking = () => {\n      this.isTrackingStarted = true;\n      const { component, title } = this.props.triggerSettings[\n        this.state.currentTrigger\n      ];\n      this.props.openSuggestions(title, component);\n      // console.log('start TRACKING');\n    };\n\n    stopTracking = () => {\n      this.isTrackingStarted = false;\n      // console.log('STOP TRACKING');\n      this.props.closeSuggestions();\n    };\n\n    updateSuggestions(q) {\n      const triggers = this.props.triggerSettings;\n      this.props.updateSuggestions({\n        data: triggers[this.state.currentTrigger].dataProvider(\n          q,\n          this.state.text,\n        ),\n        onSelect: this.onSelectSuggestion,\n      });\n    }\n\n    handleChange = (text, fromUpdate = false) => {\n      // console.log('in handle change: ' + text + ' from update: ' + fromUpdate);\n      if (!fromUpdate) {\n        this.props.onChange(text);\n        return;\n      }\n\n      this.handleSuggestions(text);\n    };\n\n    handleSelectionChange = ({\n      nativeEvent: {\n        selection: { start, end },\n      },\n    }) => {\n      // console.log('in handle selection: ', start, end);\n      this.setState({ selectionStart: start, selectionEnd: end });\n    };\n\n    onSelectSuggestion = (item) => {\n      const { text, currentTrigger } = this.state;\n      const { selectionEnd } = this.state;\n      const triggers = this.props.triggerSettings;\n      const newToken = triggers[currentTrigger].output(item);\n      // const { onChange, trigger } = this.props;\n\n      if (!currentTrigger) return;\n\n      const computeCaretPosition = (token, startToken) =>\n        startToken + token.length;\n\n      const textToModify = text.slice(0, selectionEnd);\n\n      const startOfTokenPosition = textToModify.search(\n        /**\n         * It's important to escape the currentTrigger char for chars like [, (,...\n         */\n        new RegExp(\n          `\\\\${currentTrigger}${`[^\\\\${currentTrigger}${\n            triggers[currentTrigger].allowWhitespace ? '' : '\\\\s'\n          }]`}*$`,\n        ),\n      );\n\n      // we add space after emoji is selected if a caret position is next\n      const newTokenString = `${newToken.text} `;\n\n      const newCaretPosition = computeCaretPosition(\n        newTokenString,\n        startOfTokenPosition,\n      );\n      const modifiedText =\n        textToModify.substring(0, startOfTokenPosition) + newTokenString;\n\n      this.stopTracking();\n      this.props.onChange(text.replace(textToModify, modifiedText));\n\n      this.syncCaretPosition(newCaretPosition);\n\n      if (triggers[currentTrigger].callback)\n        triggers[currentTrigger].callback(item);\n    };\n\n    syncCaretPosition = async (position = 0) => {\n      // console.log('syncing carret position: ' + position);\n      await this.setState({ selectionStart: position, selectionEnd: position });\n    };\n\n    _createRegExp = () => {\n      const triggers = this.props.triggerSettings;\n\n      // negative lookahead to match only the trigger + the actual token = \"bladhwd:adawd:word test\" => \":word\"\n      // https://stackoverflow.com/a/8057827/2719917\n      this.tokenRegExp = new RegExp(\n        `([${Object.keys(triggers).join('')}])(?:(?!\\\\1)[^\\\\s])*$`,\n      );\n    };\n\n    handleSuggestions = (text) => {\n      // react native is not consistent in order of execution of onSelectionChange and onTextChange\n      // with android and iOS. onSelectionChange gets executed first on iOS (which is ideal for our scenario)\n      // Although on android, this order is reveresed. So need to add following 0 timeout to make sure that\n      // onSelectionChange is executed first before we proceed with handleSuggestions.\n      setTimeout(async () => {\n        const { selectionEnd: selectionEnd } = this.state;\n        // TODO: Move these const to props\n        const minChar = 0;\n\n        let tokenMatch = this.tokenRegExp.exec(text.slice(0, selectionEnd));\n        // console.log(tokenMatch);\n        let lastToken = tokenMatch && tokenMatch[0];\n        const triggers = this.props.triggerSettings;\n\n        let currentTrigger =\n          (lastToken &&\n            Object.keys(triggers).find((a) => a === lastToken[0])) ||\n          null;\n\n        /*\n          if we lost the trigger token or there is no following character we want to close\n          the autocomplete\n        */\n        if (\n          (!lastToken || lastToken.length <= minChar) &&\n          // check if our current trigger disallows whitespace\n          ((this.state.currentTrigger &&\n            !triggers[this.state.currentTrigger].allowWhitespace) ||\n            !this.state.currentTrigger)\n        ) {\n          // console.log('here 1');\n          this.stopTracking();\n          return;\n        }\n\n        /**\n         * This code has to be sync that is the reason why we obtain the currentTrigger\n         * from currentTrigger not this.state.currentTrigger\n         *\n         * Check if the currently typed token has to be afterWhitespace, or not.\n         */\n        if (\n          currentTrigger &&\n          text[tokenMatch.index - 1] &&\n          triggers[currentTrigger].afterWhitespace &&\n          !text[tokenMatch.index - 1].match(/\\s/)\n        ) {\n          // console.log('here 2');\n          this.stopTracking();\n          return;\n        }\n\n        /**\n        If our current trigger allows whitespace\n        get the correct token for DataProvider, so we need to construct new RegExp\n       */\n        if (\n          this.state.currentTrigger &&\n          triggers[this.state.currentTrigger].allowWhitespace\n        ) {\n          tokenMatch = new RegExp(\n            `\\\\${this.state.currentTrigger}[^${this.state.currentTrigger}]*$`,\n          ).exec(text.slice(0, selectionEnd));\n          lastToken = tokenMatch && tokenMatch[0];\n\n          if (!lastToken) {\n            // console.log('here 3');\n            this.stopTracking();\n            return;\n          }\n\n          currentTrigger =\n            Object.keys(triggers).find((a) => a === lastToken[0]) || null;\n        }\n\n        const actualToken = lastToken.slice(1);\n\n        // if trigger is not configured step out from the function, otherwise proceed\n        if (!currentTrigger) {\n          return;\n        }\n\n        await this.setState({ currentTrigger });\n\n        if (!this.isTrackingStarted) this.startTracking();\n        // console.log('from handle suggestions: ' + currentTrigger);\n        this.updateSuggestions(actualToken);\n      });\n    };\n\n    render() {\n      return (\n        <InputBox\n          ref={this.props.setInputBoxRef}\n          placeholder={this.props.t('chat.messageInput.placeholder')}\n          onChangeText={(text) => {\n            this.handleChange(text);\n          }}\n          value={this.state.text}\n          onSelectionChange={this.handleSelectionChange}\n          multiline\n          {...this.props.additionalTextInputProps}\n        />\n      );\n    }\n  },\n);\n","const img = require('.//assets/Poweredby_100px-White_VertText.png'); export default img;","import React from 'react';\n\nexport const ChatContext = React.createContext({ client: null });\n\nexport function withChatContext(OriginalComponent) {\n  const ContextAwareComponent = getContextAwareComponent(\n    ChatContext,\n    OriginalComponent,\n  );\n  return ContextAwareComponent;\n}\n\nexport const ChannelContext = React.createContext({});\n\nexport function withChannelContext(OriginalComponent) {\n  const ContextAwareComponent = getContextAwareComponent(\n    ChannelContext,\n    OriginalComponent,\n  );\n  return ContextAwareComponent;\n}\n\nexport const SuggestionsContext = React.createContext({});\n\nexport function withSuggestionsContext(OriginalComponent) {\n  return getContextAwareComponent(SuggestionsContext, OriginalComponent);\n}\n\nexport const MessageContentContext = React.createContext({});\n\nexport function withMessageContentContext(OriginalComponent) {\n  return getContextAwareComponent(MessageContentContext, OriginalComponent);\n}\n\nexport const KeyboardContext = React.createContext({});\n\nexport function withKeyboardContext(OriginalComponent) {\n  return getContextAwareComponent(KeyboardContext, OriginalComponent);\n}\n\nconst getContextAwareComponent = function(context, originalComponent) {\n  const Context = context;\n  const OriginalComponent = originalComponent;\n  const ContextAwareComponent = function(props) {\n    return (\n      <Context.Consumer>\n        {(c) => <OriginalComponent {...c} {...props} />}\n      </Context.Consumer>\n    );\n  };\n\n  ContextAwareComponent.themePath = OriginalComponent.themePath;\n  ContextAwareComponent.extraThemePaths = OriginalComponent.extraThemePaths;\n  ContextAwareComponent.displayName =\n    OriginalComponent.displayName || OriginalComponent.name || 'Component';\n  ContextAwareComponent.displayName = ContextAwareComponent.displayName.replace(\n    'Base',\n    '',\n  );\n\n  return ContextAwareComponent;\n};\n","import React from 'react';\nimport { Image, Text, View, Linking } from 'react-native';\nimport PropTypes from 'prop-types';\nimport giphyLogo from '../assets/Poweredby_100px-White_VertText.png';\nimport { themed } from '../styles/theme';\nimport { withMessageContentContext } from '../context';\n\nimport styled from '@stream-io/styled-components';\nimport { makeImageCompatibleUrl } from '../utils';\n\nconst Container = styled.TouchableOpacity`\n  border-top-left-radius: 16;\n  border-top-right-radius: 16;\n  overflow: hidden;\n  border-bottom-left-radius: ${({ alignment }) =>\n    alignment === 'right' ? 16 : 2};\n  border-bottom-right-radius: ${({ alignment }) =>\n    alignment === 'left' ? 16 : 2};\n  background-color: ${({ theme }) => theme.colors.light};\n  width: 250;\n  ${({ theme }) => theme.message.card.container.css}\n`;\n\nconst Footer = styled.View`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding: 10px;\n  ${({ theme }) => theme.message.card.footer.css}\n`;\n\nconst Cover = styled.Image`\n  display: flex;\n  height: 150;\n  ${({ theme }) => theme.message.card.cover.css}\n`;\n\n/**\n * UI component for card in attachments.\n *\n * @example ./docs/Card.md\n * @extends PureComponent\n */\nexport const Card = withMessageContentContext(\n  themed(\n    class Card extends React.Component {\n      static themePath = 'card';\n      static propTypes = {\n        /** Title retured by the OG scraper */\n        title: PropTypes.string,\n        /** Link retured by the OG scraper */\n        title_link: PropTypes.string,\n        /** The scraped url, used as a fallback if the OG-data doesnt include a link */\n        og_scrape_url: PropTypes.string,\n        /** The url of the full sized image */\n        image_url: PropTypes.string,\n        /** The url for thumbnail sized image*/\n        thumb_url: PropTypes.string,\n        /** Description retured by the OG scraper */\n        text: PropTypes.string,\n        type: PropTypes.string,\n        alignment: PropTypes.string,\n        onLongPress: PropTypes.func,\n      };\n\n      constructor(props) {\n        super(props);\n      }\n\n      trimUrl = (url) => {\n        let trimmedUrl;\n        if (url !== undefined && url !== null) {\n          trimmedUrl = url\n            .replace(/^(?:https?:\\/\\/)?(?:www\\.)?/i, '')\n            .split('/')[0];\n        }\n        return trimmedUrl;\n      };\n\n      _goToURL = (url) => {\n        Linking.canOpenURL(url).then((supported) => {\n          if (supported) {\n            Linking.openURL(url);\n          } else {\n            console.log(\"Don't know how to open URI: \" + url);\n          }\n        });\n      };\n\n      render() {\n        const {\n          image_url,\n          thumb_url,\n          title,\n          text,\n          title_link,\n          og_scrape_url,\n          type,\n          alignment,\n          onLongPress,\n        } = this.props;\n        return (\n          <Container\n            onPress={() => {\n              this._goToURL(og_scrape_url || image_url || thumb_url);\n            }}\n            onLongPress={onLongPress}\n            alignment={alignment}\n          >\n            <Cover\n              source={{ uri: makeImageCompatibleUrl(image_url || thumb_url) }}\n              resizMode=\"cover\"\n            />\n            <Footer>\n              <View\n                style={{\n                  display: 'flex',\n                  flexDirection: 'column',\n                  backgroundColor: 'transperant',\n                }}\n              >\n                {title && <Text>{title}</Text>}\n                {text && <Text>{text}</Text>}\n                <Text>{this.trimUrl(title_link || og_scrape_url)}</Text>\n              </View>\n              {type === 'giphy' && <Image source={giphyLogo} />}\n            </Footer>\n          </Container>\n        );\n      }\n    },\n  ),\n);\n","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport Moment from 'moment';\nimport { themed } from '../styles/theme';\nimport PropTypes from 'prop-types';\n\nconst Container = styled.View`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  margin-top: 20;\n  margin-bottom: 20;\n  ${({ theme }) => theme.messageList.dateSeparator.container.css}\n`;\n\nconst Line = styled.View`\n  flex: 1;\n  height: 0.5;\n  background-color: ${({ theme }) => theme.colors.light};\n  ${({ theme }) => theme.messageList.dateSeparator.line.css}\n`;\n\nconst DateText = styled.Text`\n  margin-left: 5;\n  margin-right: 5;\n  text-align: center;\n  text-transform: uppercase;\n  font-size: 10;\n  opacity: 0.8;\n  ${({ theme }) => theme.messageList.dateSeparator.dateText.css}\n`;\n\nconst Date = styled.Text`\n  font-weight: 700;\n  font-size: 10;\n  text-transform: uppercase;\n  opacity: 0.8;\n  ${({ theme }) => theme.messageList.dateSeparator.date.css}\n`;\n\n/**\n * @extends PureComponent\n * @example ./docs/DateSeparator.md\n */\n\nexport const DateSeparator = themed(\n  class DateSeparator extends React.PureComponent {\n    static propTypes = {\n      message: PropTypes.object.isRequired,\n      /**\n       * Formatter function for date object.\n       *\n       * @param date Date object of message\n       * @returns string\n       */\n      formatDate: PropTypes.func,\n    };\n\n    static themePath = 'messageList.dateSeparator';\n\n    render() {\n      const { message, formatDate } = this.props;\n\n      return (\n        <Container>\n          <Line />\n          <DateText>\n            {formatDate ? (\n              formatDate(message.date)\n            ) : (\n              <React.Fragment>\n                <Date>{Moment(message.date).format('dddd')}</Date> at{' '}\n                {Moment(message.date).format('hh:mm A')}\n              </React.Fragment>\n            )}\n          </DateText>\n          <Line />\n        </Container>\n      );\n    }\n  },\n);\n","import React from 'react';\nimport { Text } from 'react-native';\nimport { withTranslationAndStatics } from '../utils';\n\nlet EmptyStateIndicator = ({ listType, t }) => {\n  let Indicator;\n  switch (listType) {\n    case 'channel':\n      Indicator = <Text>{t('chat.channel.noChannels')}</Text>;\n      break;\n    case 'message':\n      Indicator = null;\n      break;\n    default:\n      Indicator = <Text>{t('chat.channel.noItems')}</Text>;\n      break;\n  }\n\n  return Indicator;\n};\n\nEmptyStateIndicator = withTranslationAndStatics()(EmptyStateIndicator);\nexport { EmptyStateIndicator };\n","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport Moment from 'moment';\nimport { Avatar } from './Avatar';\nimport PropTypes from 'prop-types';\nimport { withTranslationAndStatics } from '../utils';\n\nconst Date = styled.Text`\n  font-size: 10;\n  color: rgba(0, 0, 0, 0.5);\n  ${({ theme }) => theme.messageList.eventIndicator.date.css}\n`;\n\nconst MemberUpdateContainer = styled.View`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  padding: 10px;\n  ${({ theme }) => theme.messageList.eventIndicator.memberUpdateContainer.css}\n`;\n\nconst MemberUpdateTextContainer = styled.View`\n  display: flex;\n  flex-direction: column;\n  margin-left: 10px;\n  ${({ theme }) =>\n    theme.messageList.eventIndicator.memberUpdateTextContainer.css}\n`;\n\nconst MemberUpdateText = styled.Text`\n  font-size: 13px;\n  font-style: italic;\n  color: rgba(0, 0, 0, 0.5);\n  ${({ theme }) => theme.messageList.eventIndicator.memberUpdateText.css}\n`;\n\n/**\n * A component to display a message regarding channel notifications such as\n * 'member.added', 'member.removed' etc.\n */\nlet EventIndicator = ({ event, t }) => {\n  if (event.type === 'member.added' || event.type === 'member.removed') {\n    return (\n      <MemberUpdateContainer>\n        <Avatar name={event.user.name} image={event.user.image} />\n        <MemberUpdateTextContainer>\n          <MemberUpdateText>\n            {event.type === 'member.added'\n              ? t('chat.channel.memberAdded', { username: event.user.name })\n              : t('chat.channel.memberAdded', { username: event.user.name })}\n          </MemberUpdateText>\n          <Date>{Moment(event.received_at).format('hh:mm A')}</Date>\n        </MemberUpdateTextContainer>\n      </MemberUpdateContainer>\n    );\n  }\n\n  return null;\n};\n\nEventIndicator.propTypes = {\n  event: PropTypes.object,\n};\n\nEventIndicator = withTranslationAndStatics(EventIndicator);\nexport { EventIndicator };\n","const img = require('.//images/PDF.png'); export default img;","const img = require('.//images/DOC.png'); export default img;","const img = require('.//images/PPT.png'); export default img;","const img = require('.//images/XLS.png'); export default img;","const img = require('.//images/TAR.png'); export default img;","import * as React from 'react';\nimport { Image } from 'react-native';\n\nimport iconPDF from '../images/PDF.png';\nimport iconDOC from '../images/DOC.png';\nimport iconPPT from '../images/PPT.png';\nimport iconXLS from '../images/XLS.png';\nimport iconTAR from '../images/TAR.png';\n\n// Partially based on:\n// https://stackoverflow.com/a/4212908/2570866\n\nconst wordMimeTypes = [\n  // Microsoft Word\n  // .doc .dot\n  'application/msword',\n  // .doc .dot\n  'application/msword-template',\n  // .docx\n  'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  // .dotx (no test)\n  'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\n  // .docm\n  'application/vnd.ms-word.document.macroEnabled.12',\n  // .dotm (no test)\n  'application/vnd.ms-word.template.macroEnabled.12',\n\n  // LibreOffice/OpenOffice Writer\n  // .odt\n  'application/vnd.oasis.opendocument.text',\n  // .ott\n  'application/vnd.oasis.opendocument.text-template',\n  // .fodt\n  'application/vnd.oasis.opendocument.text-flat-xml',\n  // .uot\n  // NOTE: firefox doesn't know mimetype so maybe ignore\n];\n\nconst excelMimeTypes = [\n  // .csv\n  'text/csv',\n  // TODO: maybe more data files\n\n  // Microsoft Excel\n  // .xls .xlt .xla (no test for .xla)\n  'application/vnd.ms-excel',\n  // .xlsx\n  'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n  // .xltx (no test)\n  'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\n  // .xlsm\n  'application/vnd.ms-excel.sheet.macroEnabled.12',\n  // .xltm (no test)\n  'application/vnd.ms-excel.template.macroEnabled.12',\n  // .xlam (no test)\n  'application/vnd.ms-excel.addin.macroEnabled.12',\n  // .xlsb (no test)\n  'application/vnd.ms-excel.addin.macroEnabled.12',\n\n  // LibreOffice/OpenOffice Calc\n  // .ods\n  'application/vnd.oasis.opendocument.spreadsheet',\n  // .ots\n  'application/vnd.oasis.opendocument.spreadsheet-template',\n  // .fods\n  'application/vnd.oasis.opendocument.spreadsheet-flat-xml',\n  // .uos\n  // NOTE: firefox doesn't know mimetype so maybe ignore\n];\n\nconst powerpointMimeTypes = [\n  // Microsoft Word\n  // .ppt .pot .pps .ppa (no test for .ppa)\n  'application/vnd.ms-powerpoint',\n  // .pptx\n  'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n  // .potx (no test)\n  'application/vnd.openxmlformats-officedocument.presentationml.template',\n  // .ppsx\n  'application/vnd.openxmlformats-officedocument.presentationml.slideshow',\n  // .ppam\n  'application/vnd.ms-powerpoint.addin.macroEnabled.12',\n  // .pptm\n  'application/vnd.ms-powerpoint.presentation.macroEnabled.12',\n  // .potm\n  'application/vnd.ms-powerpoint.template.macroEnabled.12',\n  // .ppsm\n  'application/vnd.ms-powerpoint.slideshow.macroEnabled.12',\n\n  // LibreOffice/OpenOffice Writer\n  // .odp\n  'application/vnd.oasis.opendocument.presentation',\n  // .otp\n  'application/vnd.oasis.opendocument.presentation-template',\n  // .fodp\n  'application/vnd.oasis.opendocument.presentation-flat-xml',\n  // .uop\n  // NOTE: firefox doesn't know mimetype so maybe ignore\n];\n\nconst archiveFileTypes = [\n  // .zip\n  'application/zip',\n  // .z7\n  'application/x-7z-compressed',\n  // .ar\n  'application/x-archive',\n  // .tar\n  'application/x-tar',\n  // .tar.gz\n  'application/gzip',\n  // .tar.Z\n  'application/x-compress',\n  // .tar.bz2\n  'application/x-bzip',\n  // .tar.lz\n  'application/x-lzip',\n  // .tar.lz4\n  'application/x-lz4',\n  // .tar.lzma\n  'application/x-lzma',\n  // .tar.lzo (no test)\n  'application/x-lzop',\n  // .tar.xz\n  'application/x-xz',\n  // .war\n  'application/x-webarchive',\n  // .rar\n  'application/vnd.rar',\n];\n\nconst codeFileTypes = [\n  // .html .htm\n  'text/html',\n  // .css\n  'text/css',\n  // .js\n  'application/x-javascript',\n  // .json\n  'application/json',\n  // .py\n  'text/x-python',\n  // .go\n  'text/x-go',\n  // .c\n  'text/x-csrc',\n  // .cpp\n  'text/x-c++src',\n  // .rb\n  'application/x-ruby',\n  // .rust\n  'text/rust',\n  // .java\n  'text/x-java',\n  // .php\n  'application/x-php',\n  // .cs\n  'text/x-csharp',\n  // .scala\n  'text/x-scala',\n  // .erl\n  'text/x-erlang',\n  // .sh\n  'application/x-shellscript',\n];\n\nconst mimeTypeToIconMap = {\n  'application/pdf': iconPDF,\n};\n\nfor (const type of wordMimeTypes) {\n  mimeTypeToIconMap[type] = iconDOC;\n}\n\nfor (const type of excelMimeTypes) {\n  mimeTypeToIconMap[type] = iconXLS;\n}\n\nfor (const type of powerpointMimeTypes) {\n  mimeTypeToIconMap[type] = iconPPT;\n}\n\nfor (const type of archiveFileTypes) {\n  mimeTypeToIconMap[type] = iconTAR;\n}\n\nfor (const type of codeFileTypes) {\n  mimeTypeToIconMap[type] = iconDOC;\n}\n\nfunction mimeTypeToIcon(mimeType) {\n  if (mimeType == null) {\n    return iconDOC;\n  }\n\n  const icon = mimeTypeToIconMap[mimeType];\n  if (icon) {\n    return icon;\n  }\n\n  return iconDOC;\n}\n\nexport class FileIcon extends React.Component {\n  render() {\n    const { mimeType, size } = this.props;\n    return (\n      <Image\n        source={mimeTypeToIcon(mimeType)}\n        style={{ height: size, width: size }}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Text, TouchableOpacity } from 'react-native';\n\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\nimport registerCSS from '../css.macro';\n\nconst Container = registerCSS(\n  'message.actions.container',\n  styled.View`\n    flex-direction: row;\n    justify-content: space-between;\n    padding: 5px;\n    ${({ theme }) => theme.message.actions.container.css}\n  `,\n);\n\nconst Button = registerCSS(\n  'message.actions.button',\n  styled(({ buttonStyle, ...rest }) => <TouchableOpacity {...rest} />)`\n    background-color: ${({ theme, buttonStyle }) =>\n      buttonStyle === 'primary'\n        ? theme.message.actions.button.primaryBackgroundColor\n        : theme.message.actions.button.defaultBackgroundColor};\n    border-color: ${({ theme, buttonStyle }) =>\n      buttonStyle === 'primary'\n        ? theme.message.actions.button.primaryBorderColor\n        : theme.message.actions.button.defaultBorderColor};\n    border-width: 1;\n    border-radius: 20;\n    padding-top: 5px;\n    padding-bottom: 5px;\n    padding-left: 10px;\n    padding-right: 10px;\n    ${({ theme }) => theme.message.actions.button.css}\n  `,\n);\n\nconst ButtonText = registerCSS(\n  'message.actions.buttonText',\n  styled(({ buttonStyle, ...rest }) => <Text {...rest} />)`\n    color: ${({ theme, buttonStyle }) =>\n      buttonStyle === 'primary'\n        ? theme.message.actions.buttonText.primaryColor\n        : theme.message.actions.buttonText.defaultColor};\n    ${({ theme }) => theme.message.actions.buttonText.css}\n  `,\n);\n\n/**\n * AttachmentActions - The actions you can take on an attachment.\n * Actions in combination with attachments can be used to build [commands](https://getstream.io/chat/docs/#channel_commands).\n *\n * @example ./docs/AttachmentActions.md\n * @extends PureComponent\n */\nexport const AttachmentActions = themed(\n  class AttachmentActions extends React.PureComponent {\n    static themePath = 'message.actions';\n    static propTypes = {\n      // /** The id of the form input */\n      // id: PropTypes.string.isRequired,\n      /** The text for the form input */\n      text: PropTypes.string,\n      /** A list of actions */\n      actions: PropTypes.array.isRequired,\n      /** The handler to execute after selecting an action */\n      actionHandler: PropTypes.func.isRequired,\n    };\n\n    render() {\n      const { id, actions, actionHandler } = this.props;\n      return (\n        <Container>\n          {actions.map((action) => (\n            <Button\n              key={`${id}-${action.value}`}\n              buttonStyle={action.style}\n              onPress={actionHandler.bind(this, action.name, action.value)}\n            >\n              <ButtonText buttonStyle={action.style}>{action.text}</ButtonText>\n            </Button>\n          ))}\n        </Container>\n      );\n    }\n  },\n);\n","const img = require('.//images/icons/close-round.png'); export default img;","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\nimport { Image } from 'react-native';\nimport closeRound from '../images/icons/close-round.png';\n\nconst Container = styled.View`\n  width: 30;\n  height: 30;\n  border-radius: 3;\n  align-items: center;\n  justify-content: center;\n  background-color: white;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  ${({ theme }) => theme.closeButton.container.css}\n`;\n\nexport const CloseButton = themed(\n  class CloseButton extends React.PureComponent {\n    static themePath = 'closeButton';\n    render() {\n      return (\n        <Container>\n          <Image source={closeRound} />\n        </Container>\n      );\n    }\n  },\n);\n\nCloseButton.propTypes = {};\n","import React from 'react';\nimport { Text, View, Modal, Image } from 'react-native';\nimport ImageViewer from 'react-native-image-zoom-viewer';\nimport PropTypes from 'prop-types';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\nimport { withMessageContentContext } from '../context';\nimport { makeImageCompatibleUrl, withTranslationAndStatics } from '../utils';\n\nimport { CloseButton } from './CloseButton';\n\nconst Single = styled.TouchableOpacity`\n  display: flex;\n  height: 200px;\n  width: ${({ theme }) => theme.message.gallery.width};\n  border-top-left-radius: 16;\n  border-top-right-radius: 16;\n  border-bottom-left-radius: ${({ alignment }) =>\n    alignment === 'right' ? 16 : 2};\n  border-bottom-right-radius: ${({ alignment }) =>\n    alignment === 'left' ? 16 : 2};\n  overflow: hidden;\n  ${({ theme }) => theme.message.gallery.single.css}\n`;\n\nconst GalleryContainer = styled.View`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  width: ${({ theme }) => theme.message.gallery.width};\n\n  height: ${({ theme, length }) =>\n    length >= 4\n      ? theme.message.gallery.doubleSize\n      : length === 3\n      ? theme.message.gallery.halfSize\n      : theme.message.gallery.size};\n\n  overflow: hidden;\n  border-radius: 16;\n  border-bottom-right-radius: ${({ alignment }) =>\n    alignment === 'left' ? 16 : 2};\n  border-bottom-left-radius: ${({ alignment }) =>\n    alignment === 'right' ? 16 : 2};\n  ${({ theme }) => theme.message.gallery.galleryContainer.css}\n`;\n\nconst ImageContainer = styled.TouchableOpacity`\n  display: flex;\n  height: ${({ theme, length }) =>\n    length !== 3 ? theme.message.gallery.size : theme.message.gallery.halfSize};\n  width: ${({ theme, length }) =>\n    length !== 3 ? theme.message.gallery.size : theme.message.gallery.halfSize};\n  ${({ theme }) => theme.message.gallery.imageContainer.css}\n`;\n/**\n * UI component for card in attachments.\n *\n * @example ./docs/Gallery.md\n */\n\nexport const Gallery = withTranslationAndStatics()(\n  withMessageContentContext(\n    themed(\n      class Gallery extends React.PureComponent {\n        static themePath = 'message.gallery';\n        static propTypes = {\n          /** The images to render */\n          images: PropTypes.arrayOf(\n            PropTypes.shape({\n              image_url: PropTypes.string,\n              thumb_url: PropTypes.string,\n            }),\n          ),\n          onLongPress: PropTypes.func,\n          alignment: PropTypes.string,\n        };\n\n        constructor(props) {\n          super(props);\n          this.state = {\n            viewerModalOpen: false,\n            pictureIndex: 0,\n          };\n        }\n\n        render() {\n          if (!this.props.images || this.props.images.length === 0) return null;\n\n          const images = [...this.props.images].map((i) => ({\n            url: makeImageCompatibleUrl(i.image_url || i.thumb_url),\n          }));\n\n          if (images.length === 1) {\n            return (\n              <React.Fragment>\n                <Single\n                  onPress={() => {\n                    this.setState({ viewerModalOpen: true });\n                  }}\n                  onLongPress={() => {\n                    this.props.onLongPress();\n                  }}\n                  alignment={this.props.alignment}\n                >\n                  <Image\n                    style={{\n                      width: 100 + '%',\n                      height: 100 + '%',\n                    }}\n                    resizeMode=\"cover\"\n                    source={{ uri: images[0].url }}\n                  />\n                </Single>\n                <Modal\n                  visible={this.state.viewerModalOpen}\n                  transparent={true}\n                  onRequestClose={() => {\n                    this.setState({ viewerModalOpen: false });\n                  }}\n                >\n                  <ImageViewer\n                    imageUrls={images}\n                    // TODO: We don't have 'save image' functionality.\n                    // Until we do, lets disable this feature. saveToLocalByLongPress prop basically\n                    // opens up popup menu to with an option \"Save to the album\", which basically does nothing.\n                    saveToLocalByLongPress={false}\n                    onCancel={() => {\n                      this.setState({ viewerModalOpen: false });\n                    }}\n                    enableSwipeDown\n                    renderHeader={() => (\n                      <GalleryHeader\n                        handleDismiss={() => {\n                          this.setState({ viewerModalOpen: false });\n                        }}\n                      />\n                    )}\n                  />\n                </Modal>\n              </React.Fragment>\n            );\n          }\n\n          return (\n            <React.Fragment>\n              <GalleryContainer\n                length={images.length}\n                alignment={this.props.alignment}\n              >\n                {images.slice(0, 4).map((image, i) => (\n                  <ImageContainer\n                    key={`gallery-item-${i}`}\n                    length={images.length}\n                    activeOpacity={0.8}\n                    onPress={() => {\n                      this.setState({ viewerModalOpen: true, pictureIndex: i });\n                    }}\n                    onLongPress={this.props.onLongPress}\n                  >\n                    {i === 3 && images.length > 4 ? (\n                      <View\n                        style={{\n                          width: '100%',\n                          height: '100%',\n                        }}\n                      >\n                        <Image\n                          style={{\n                            width: 100 + '%',\n                            height: 100 + '%',\n                          }}\n                          resizeMode=\"cover\"\n                          source={{ uri: images[3].url }}\n                        />\n                        <View\n                          style={{\n                            position: 'absolute',\n                            height: '100%',\n                            width: '100%',\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            backgroundColor: 'rgba(0,0,0,0.69)',\n                          }}\n                        >\n                          <Text\n                            style={{\n                              color: 'white',\n                              fontWeight: '700',\n                              fontSize: 22,\n                            }}\n                          >\n                            {' ' +\n                              this.props.t('chat.gallery.picturesMore', {\n                                count: images.length - 3,\n                              })}\n                          </Text>\n                        </View>\n                      </View>\n                    ) : (\n                      <Image\n                        style={{\n                          width: 100 + '%',\n                          height: 100 + '%',\n                        }}\n                        resizeMode=\"cover\"\n                        source={{ uri: image.url }}\n                      />\n                    )}\n                  </ImageContainer>\n                ))}\n              </GalleryContainer>\n              <Modal\n                onRequestClose={() => {\n                  this.setState({ viewerModalOpen: false });\n                }}\n                visible={this.state.viewerModalOpen}\n                transparent={true}\n              >\n                <ImageViewer\n                  imageUrls={images}\n                  index={this.state.pictureIndex}\n                  onCancel={() => {\n                    this.setState({ viewerModalOpen: false });\n                  }}\n                  enableSwipeDown\n                  renderHeader={() => (\n                    <GalleryHeader\n                      handleDismiss={() => {\n                        this.setState({ viewerModalOpen: false });\n                      }}\n                    />\n                  )}\n                />\n              </Modal>\n            </React.Fragment>\n          );\n        }\n      },\n    ),\n  ),\n);\n\nconst HeaderContainer = styled.View`\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  position: absolute;\n  width: 100%;\n  z-index: 1000;\n  ${({ theme }) => theme.message.gallery.header.container.css}\n`;\n\nconst HeaderButton = styled.TouchableOpacity`\n  width: 30;\n  height: 30;\n  margin-right: 20;\n  margin-top: 20;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 20;\n  ${({ theme }) => theme.message.gallery.header.button.css}\n`;\n\nconst GalleryHeader = ({ handleDismiss }) => (\n  <HeaderContainer>\n    <HeaderButton onPress={handleDismiss}>\n      <CloseButton />\n    </HeaderButton>\n  </HeaderContainer>\n);\n","import React from 'react';\nimport { View, TouchableOpacity, Linking } from 'react-native';\n\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\n\nimport PropTypes from 'prop-types';\nimport { Card } from './Card';\nimport { FileIcon } from './FileIcon';\nimport { AttachmentActions } from './AttachmentActions';\nimport { Gallery } from './Gallery';\n\nimport { withMessageContentContext } from '../context';\n\nconst FileContainer = styled.View`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  background-color: #ebebeb;\n  padding: 10px;\n  border-radius: ${({ groupStyle }) => {\n    if (groupStyle === 'middle' || groupStyle === 'bottom') return 0;\n\n    return 16;\n  }};\n  border-bottom-left-radius: ${({ alignment, groupStyle }) => {\n    if (groupStyle === 'top' || groupStyle === 'middle') return 0;\n\n    return alignment === 'right' ? 16 : 2;\n  }};\n  border-bottom-right-radius: ${({ alignment, groupStyle }) => {\n    if (groupStyle === 'top' || groupStyle === 'middle') return 0;\n\n    return alignment === 'left' ? 16 : 2;\n  }};\n  ${({ theme }) => theme.message.file.container.css}\n`;\n\nconst FileDetails = styled.View`\n  display: flex;\n  flex-direction: column;\n  padding-left: 10px;\n  ${({ theme }) => theme.message.file.details.css}\n`;\n\nconst FileTitle = styled.Text`\n  font-weight: 700;\n  ${({ theme }) => theme.message.file.title.css}\n`;\n\nconst FileSize = styled.Text`\n  ${({ theme }) => theme.message.file.size.css}\n`;\n\n/**\n * Attachment - The message attachment\n *\n * @example ./docs/Attachment.md\n * @extends PureComponent\n */\nexport const Attachment = withMessageContentContext(\n  themed(\n    class Attachment extends React.PureComponent {\n      static themePath = 'attachment';\n      static propTypes = {\n        /** The attachment to render */\n        attachment: PropTypes.object.isRequired,\n        /**\n         * Position of message. 'right' | 'left'\n         * 'right' message belongs with current user while 'left' message belonds to other users.\n         * */\n        alignment: PropTypes.string,\n        /** Handler for actions. Actions in combination with attachments can be used to build [commands](https://getstream.io/chat/docs/#channel_commands). */\n        actionHandler: PropTypes.func,\n        /**\n         * Position of message in group - top, bottom, middle, single.\n         *\n         * Message group is a group of consecutive messages from same user. groupStyles can be used to style message as per their position in message group\n         * e.g., user avatar (to which message belongs to) is only showed for last (bottom) message in group.\n         */\n        groupStyle: PropTypes.oneOf(['single', 'top', 'middle', 'bottom']),\n        /** Handler for long press event on attachment */\n        onLongPress: PropTypes.func,\n        /**\n         * Custom UI component for attachment icon for type 'file' attachment.\n         * Defaults to and accepts same props as: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileIcon.js\n         */\n        AttachmentFileIcon: PropTypes.oneOfType([\n          PropTypes.node,\n          PropTypes.elementType,\n        ]),\n      };\n      static defaultProps = {\n        AttachmentFileIcon: FileIcon,\n      };\n\n      constructor(props) {\n        super(props);\n      }\n\n      _goToURL = (url) => {\n        Linking.canOpenURL(url).then((supported) => {\n          if (supported) {\n            Linking.openURL(url);\n          } else {\n            console.log(\"Don't know how to open URI: \" + url);\n          }\n        });\n      };\n\n      render() {\n        const { attachment: a } = this.props;\n        if (!a) {\n          return null;\n        }\n\n        let type;\n\n        if (a.type === 'giphy' || a.type === 'imgur') {\n          type = 'card';\n        } else if (a.type === 'image' && (a.title_link || a.og_scrape_url)) {\n          type = 'card';\n        } else if (a.type === 'image') {\n          type = 'image';\n        } else if (a.type === 'file') {\n          type = 'file';\n        } else if (a.type === 'audio') {\n          type = 'audio';\n        } else if (a.type === 'video') {\n          type = 'media';\n        } else if (a.type === 'product') {\n          type = 'product';\n        } else {\n          type = 'card';\n          // extra = 'no-image';\n        }\n\n        const AttachmentFileIcon = this.props.AttachmentFileIcon;\n        if (type === 'image') {\n          return (\n            <React.Fragment>\n              <Gallery alignment={this.props.alignment} images={[a]} />\n              {a.actions && a.actions.length > 0 && (\n                <AttachmentActions\n                  key={'key-actions-' + a.id}\n                  {...a}\n                  actionHandler={this.props.actionHandler}\n                />\n              )}\n            </React.Fragment>\n          );\n        }\n        if (a.type === 'giphy' || type === 'card') {\n          if (a.actions && a.actions.length) {\n            return (\n              <View>\n                <Card {...a} alignment={this.props.alignment} />\n                {a.actions && a.actions.length > 0 && (\n                  <AttachmentActions\n                    key={'key-actions-' + a.id}\n                    {...a}\n                    actionHandler={this.props.actionHandler}\n                  />\n                )}\n              </View>\n            );\n          } else {\n            return <Card alignment={this.props.alignment} {...a} />;\n          }\n        }\n\n        if (a.type === 'file') {\n          return (\n            <TouchableOpacity\n              onPress={() => {\n                this._goToURL(a.asset_url);\n              }}\n              onLongPress={this.props.onLongPress}\n            >\n              <FileContainer\n                alignment={this.props.alignment}\n                groupStyle={this.props.groupStyle}\n              >\n                <AttachmentFileIcon\n                  filename={a.title}\n                  mimeType={a.mime_type}\n                  size={50}\n                />\n                <FileDetails>\n                  <FileTitle ellipsizeMode=\"tail\" numberOfLines={2}>\n                    {a.title}\n                  </FileTitle>\n                  <FileSize>{a.file_size} KB</FileSize>\n                </FileDetails>\n              </FileContainer>\n              {a.actions && a.actions.length > 0 && (\n                <AttachmentActions\n                  key={'key-actions-' + a.id}\n                  {...a}\n                  actionHandler={this.props.actionHandler}\n                />\n              )}\n            </TouchableOpacity>\n          );\n        }\n\n        if (a.type === 'video' && a.asset_url && a.image_url) {\n          return (\n            // TODO: Put in video component\n            <Card alignment={this.props.alignment} {...a} />\n          );\n        }\n\n        return false;\n      }\n    },\n  ),\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from '@stream-io/styled-components';\nimport { Attachment } from './Attachment';\n\nconst Container = styled.View`\n  display: flex;\n  align-items: stretch;\n`;\n\nexport class FileAttachmentGroup extends React.PureComponent {\n  static propTypes = {\n    messageId: PropTypes.string,\n    files: PropTypes.array,\n    handleAction: PropTypes.func,\n    alignment: PropTypes.oneOf(['right', 'left']),\n    /**\n     * Custom UI component for attachment icon for type 'file' attachment.\n     * Defaults to: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileIcon.js\n     */\n    AttachmentFileIcon: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n  };\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {\n      messageId,\n      files,\n      handleAction,\n      alignment,\n      AttachmentFileIcon,\n    } = this.props;\n\n    return (\n      <Container>\n        {files &&\n          files.map((file, index, files) => {\n            let groupStyle;\n\n            if (files.length === 1) groupStyle = 'single';\n            else if (index === 0) {\n              groupStyle = 'top';\n            } else if (index < files.length - 1 && index > 0) {\n              groupStyle = 'middle';\n            } else if (index === files.length - 1) groupStyle = 'bottom';\n\n            return (\n              <Attachment\n                key={`${messageId}-${index}`}\n                attachment={file}\n                actionHandler={handleAction}\n                alignment={alignment}\n                groupStyle={groupStyle}\n                AttachmentFileIcon={AttachmentFileIcon}\n              />\n            );\n          })}\n      </Container>\n    );\n  }\n}\n","const img = require('.//images/reload1.png'); export default img;","import React from 'react';\nimport { View, ActivityIndicator, Image, TouchableOpacity } from 'react-native';\nimport iconReload from '../images/reload1.png';\nimport PropTypes from 'prop-types';\nimport styled from '@stream-io/styled-components';\nimport { ProgressIndicatorTypes } from '../utils';\nimport { themed } from '../styles/theme';\n\nconst Overlay = styled.View`\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(0, 0, 0, 0.3);\n  opacity: 0;\n  ${({ theme }) => theme.messageInput.uploadProgressIndicator.overlay.css};\n`;\n\nconst Container = styled.View`\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(255, 255, 255, 0);\n  ${({ theme }) => theme.messageInput.uploadProgressIndicator.container.css};\n`;\n\nexport const UploadProgressIndicator = themed(\n  class UploadProgressIndicator extends React.PureComponent {\n    static themePath = 'messageInput.uploadProgressIndicator';\n    constructor(props) {\n      super(props);\n    }\n\n    static propTypes = {\n      active: PropTypes.bool,\n      type: PropTypes.oneOf([\n        ProgressIndicatorTypes.IN_PROGRESS,\n        ProgressIndicatorTypes.RETRY,\n      ]),\n      action: PropTypes.func,\n    };\n\n    render() {\n      const { active, children, type } = this.props;\n      if (!active) {\n        return <View>{children}</View>;\n      }\n\n      return (\n        <TouchableOpacity onPress={this.props.action}>\n          {children}\n          <Overlay />\n          <Container>\n            {type === ProgressIndicatorTypes.IN_PROGRESS && (\n              <View\n                style={{\n                  position: 'absolute',\n                  top: 0,\n                  left: 0,\n                  right: 0,\n                  bottom: 0,\n                  justifyContent: 'center',\n                  alignItems: 'center',\n                }}\n              >\n                <ActivityIndicator style={{}} color=\"white\" />\n              </View>\n            )}\n            {type === ProgressIndicatorTypes.RETRY && (\n              <Image source={iconReload} style={{ height: 18, width: 18 }} />\n            )}\n          </Container>\n        </TouchableOpacity>\n      );\n    }\n  },\n);\n","import React from 'react';\nimport { View, Text, FlatList } from 'react-native';\nimport PropTypes from 'prop-types';\nimport { FileIcon } from './FileIcon';\nimport { UploadProgressIndicator } from './UploadProgressIndicator';\nimport { FileState, ProgressIndicatorTypes } from '../utils';\n/**\n * FileUploadPreview\n *\n * @example ./docs/FileUploadPreview.md\n * @extends PureComponent\n */\nconst FILE_PREVIEW_HEIGHT = 50;\nconst FILE_PREVIEW_PADDING = 10;\n\n/**\n * UI Component to preview the files set for upload\n *\n * @example ./docs/FileUploadPreview.md\n * @extends PureComponent\n */\nexport class FileUploadPreview extends React.PureComponent {\n  constructor(props) {\n    super(props);\n  }\n  static propTypes = {\n    fileUploads: PropTypes.array.isRequired,\n    removeFile: PropTypes.func,\n    retryUpload: PropTypes.func,\n    /**\n     * Custom UI component for attachment icon for type 'file' attachment.\n     * Defaults to and accepts same props as: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileIcon.js\n     */\n    AttachmentFileIcon: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.elementType,\n    ]),\n  };\n\n  static defaultProps = {\n    AttachmentFileIcon: FileIcon,\n  };\n\n  _renderItem = ({ item }) => {\n    let type;\n\n    if (item.state === FileState.UPLOADING)\n      type = ProgressIndicatorTypes.IN_PROGRESS;\n\n    if (item.state === FileState.UPLOAD_FAILED)\n      type = ProgressIndicatorTypes.RETRY;\n\n    const AttachmentFileIcon = this.props.AttachmentFileIcon;\n    return (\n      <UploadProgressIndicator\n        active={item.state !== FileState.UPLOADED}\n        type={type}\n        action={this.props.retryUpload.bind(this, item.id)}\n      >\n        <View\n          style={{\n            height: FILE_PREVIEW_HEIGHT,\n            padding: FILE_PREVIEW_PADDING,\n            display: 'flex',\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: 5,\n            borderColor: '#EBEBEB',\n            borderWidth: 0.5,\n          }}\n        >\n          <View style={{ flexDirection: 'row', alignItems: 'center' }}>\n            <AttachmentFileIcon mimeType={item.file.type} size={20} />\n            <Text style={{ paddingLeft: 10 }}>\n              {item.file.name.length > 35\n                ? item.file.name.substring(0, 35).concat('...')\n                : item.file.name}\n            </Text>\n          </View>\n          <Text onPress={this.props.removeFile.bind(this, item.id)}>X</Text>\n        </View>\n      </UploadProgressIndicator>\n    );\n  };\n\n  render() {\n    if (!this.props.fileUploads || this.props.fileUploads.length === 0)\n      return null;\n\n    return (\n      <View\n        style={{\n          display: 'flex',\n          height: this.props.fileUploads.length * (FILE_PREVIEW_HEIGHT + 5),\n          marginRight: 10,\n          marginLeft: 10,\n        }}\n      >\n        <FlatList\n          style={{ flex: 1 }}\n          data={this.props.fileUploads}\n          keyExtractor={(item) => item.id}\n          renderItem={this._renderItem}\n        />\n      </View>\n    );\n  }\n}\n","import React from 'react';\nimport { View, TouchableOpacity, Image } from 'react-native';\nimport PropTypes from 'prop-types';\n\nexport const IconSquare = ({ icon, onPress }) => {\n  if (onPress)\n    return (\n      <TouchableOpacity\n        style={{\n          padding: 5,\n          backgroundColor: 'rgba(0,0,0,0.05)',\n          borderRadius: 5,\n        }}\n        onPress={onPress}\n      >\n        <Image source={icon} style={{ height: 15, width: 15 }} />\n      </TouchableOpacity>\n    );\n  else\n    return (\n      <View\n        style={{\n          padding: 5,\n          backgroundColor: 'rgba(0,0,0,0.05)',\n          borderRadius: 5,\n        }}\n      >\n        <Image source={icon} style={{ height: 15, width: 15 }} />\n      </View>\n    );\n};\n\nIconSquare.propTypes = {\n  icon: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  onPress: PropTypes.func,\n};\n","import React from 'react';\nimport { FlatList } from 'react-native';\nimport { UploadProgressIndicator } from './UploadProgressIndicator';\nimport PropTypes from 'prop-types';\nimport { FileState, ProgressIndicatorTypes } from '../utils';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\n\nimport closeRound from '../images/icons/close-round.png';\n\nconst Container = styled.View`\n  height: 70;\n  display: flex;\n  padding: 10px;\n  ${({ theme }) => theme.messageInput.imageUploadPreview.container.css};\n`;\n\nconst ItemContainer = styled.View`\n  display: flex;\n  height: 50;\n  flex-direction: row;\n  align-items: flex-start;\n  margin-left: 5;\n  ${({ theme }) => theme.messageInput.imageUploadPreview.itemContainer.css};\n`;\n\nconst Dismiss = styled.TouchableOpacity`\n  position: absolute;\n  top: 5;\n  right: 5;\n  background-color: #fff;\n  width: 20;\n  height: 20;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 20;\n  ${({ theme }) => theme.messageInput.imageUploadPreview.dismiss.css};\n`;\n\nconst Upload = styled.Image`\n  width: 50;\n  height: 50;\n  border-radius: 10;\n  ${({ theme }) => theme.messageInput.imageUploadPreview.upload.css};\n`;\n\nconst DismissImage = styled.Image`\n  width: 10;\n  height: 10;\n  ${({ theme }) => theme.messageInput.imageUploadPreview.dismissImage.css};\n`;\n\n/**\n * UI Component to preview the images set for upload\n *\n * @example ./docs/ImageUploadPreview.md\n * @extends PureComponent\n */\nexport const ImageUploadPreview = themed(\n  class ImageUploadPreview extends React.PureComponent {\n    static themePath = 'messageInput.imageUploadPreview';\n    constructor(props) {\n      super(props);\n    }\n    static propTypes = {\n      /**\n       * Its an object/map of id vs image objects which are set for upload. It has following structure:\n       *\n       * ```json\n       *  {\n       *    \"randomly_generated_temp_id_1\": {\n       *        \"id\": \"randomly_generated_temp_id_1\",\n       *        \"file\": // File object\n       *        \"status\": \"Uploading\" // or \"Finished\"\n       *      },\n       *    \"randomly_generated_temp_id_2\": {\n       *        \"id\": \"randomly_generated_temp_id_2\",\n       *        \"file\": // File object\n       *        \"status\": \"Uploading\" // or \"Finished\"\n       *      },\n       *  }\n       * ```\n       *\n       * */\n      imageUploads: PropTypes.array.isRequired,\n      /**\n       * @param id Index of image in `imageUploads` array in state of MessageInput.\n       */\n      removeImage: PropTypes.func,\n      /**\n       * @param id Index of image in `imageUploads` array in state of MessageInput.\n       */\n      retryUpload: PropTypes.func,\n    };\n\n    _renderItem = ({ item }) => {\n      let type;\n\n      const { retryUpload } = this.props;\n\n      if (item.state === FileState.UPLOADING)\n        type = ProgressIndicatorTypes.IN_PROGRESS;\n\n      if (item.state === FileState.UPLOAD_FAILED)\n        type = ProgressIndicatorTypes.RETRY;\n      return (\n        <React.Fragment>\n          <ItemContainer>\n            <UploadProgressIndicator\n              active={item.state !== FileState.UPLOADED}\n              type={type}\n              action={retryUpload && retryUpload.bind(this, item.id)}\n            >\n              <Upload\n                resizeMode=\"cover\"\n                source={{ uri: item.url || item.file.uri }}\n              />\n            </UploadProgressIndicator>\n            <Dismiss\n              onPress={() => {\n                this.props.removeImage(item.id);\n              }}\n            >\n              <DismissImage source={closeRound} />\n            </Dismiss>\n          </ItemContainer>\n        </React.Fragment>\n      );\n    };\n\n    render() {\n      if (!this.props.imageUploads || this.props.imageUploads.length === 0)\n        return null;\n\n      return (\n        <Container>\n          <FlatList\n            horizontal\n            style={{ flex: 1 }}\n            data={this.props.imageUploads}\n            keyExtractor={(item) => item.id}\n            renderItem={this._renderItem}\n          />\n        </Container>\n      );\n    }\n  },\n);\n","import React from 'react';\nimport {\n  Platform,\n  View,\n  Keyboard,\n  Animated,\n  Dimensions,\n  StatusBar,\n} from 'react-native';\nimport { KeyboardContext } from '../context';\n\n/**\n * KeyboardCompatibleView is HOC component similar to [KeyboardAvoidingView](https://facebook.github.io/react-native/docs/keyboardavoidingview),\n * designed to work with MessageInput and MessageList component.\n *\n * Main motivation of writing this our own component was to get rid of issues that come with KeyboardAvoidingView from react-native\n * when used with components of fixed height. [Channel](https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/ChannelInner.js) component\n * uses `KeyboardCompatibleView` internally, so you don't need to explicitely add it.\n *\n * ```json\n * <KeyboardCompatibleView>\n *  <MessageList />\n *  <MessageInput />\n * </KeyboardCompatibleView>\n * ```\n */\nexport class KeyboardCompatibleView extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      channelHeight: new Animated.Value('100%'),\n    };\n\n    if (Platform.OS === 'ios') {\n      this.keyboardDidShowListener = Keyboard.addListener(\n        'keyboardWillShow',\n        this.keyboardDidShow,\n      );\n    } else {\n      // Android doesn't support keyboardWillShow event.\n      this.keyboardDidShowListener = Keyboard.addListener(\n        'keyboardDidShow',\n        this.keyboardDidShow,\n      );\n    }\n\n    // We dismiss the keyboard manually (along with keyboardWillHide function) when message is touched.\n    // Following listener is just for a case when keyboard gets dismissed due to something besides message touch.\n    this.keyboardDidHideListener = Keyboard.addListener(\n      'keyboardDidHide',\n      this.keyboardDidHide,\n    );\n\n    this._keyboardOpen = false;\n    // Following variable takes care of race condition between keyboardDidHide and keyboardDidShow.\n    this._hidingKeyboardInProgress = false;\n    this.rootChannelView = false;\n    this.initialHeight = undefined;\n  }\n\n  componentWillUnmount() {\n    this.keyboardDidShowListener.remove();\n    this.keyboardDidHideListener.remove();\n  }\n\n  // TODO: Better to extract following functions to different HOC.\n  keyboardDidShow = (e) => {\n    const keyboardHidingInProgressBeforeMeasure = this\n      ._hidingKeyboardInProgress;\n    const keyboardHeight = e.endCoordinates.height;\n\n    this.rootChannelView.measureInWindow((x, y) => {\n      // In case if keyboard was closed in meanwhile while\n      // this measure function was being executed, then we\n      // should abort further execution and let the event callback\n      // keyboardDidHide proceed.\n      if (\n        !keyboardHidingInProgressBeforeMeasure &&\n        this._hidingKeyboardInProgress\n      ) {\n        console.log(\n          'Aborting keyboardDidShow operation since hide is in progress!',\n        );\n        return;\n      }\n\n      const { height: windowHeight } = Dimensions.get('window');\n      let finalHeight;\n\n      if (Platform.OS === 'android') {\n        finalHeight =\n          windowHeight - y - keyboardHeight - StatusBar.currentHeight;\n      } else {\n        finalHeight = windowHeight - y - keyboardHeight;\n      }\n\n      Animated.timing(this.state.channelHeight, {\n        toValue: finalHeight,\n        duration: 500,\n      }).start(() => {\n        // Force the final value, in case animation halted in between.\n        this.state.channelHeight.setValue(finalHeight);\n      });\n    });\n    this._keyboardOpen = true;\n  };\n\n  keyboardDidHide = () => {\n    this._hidingKeyboardInProgress = true;\n    Animated.timing(this.state.channelHeight, {\n      toValue: this.initialHeight,\n      duration: 500,\n    }).start(() => {\n      // Force the final value, in case animation halted in between.\n      this.state.channelHeight.setValue(this.initialHeight);\n      this._hidingKeyboardInProgress = false;\n      this._keyboardOpen = false;\n    });\n  };\n\n  keyboardWillDismiss = () =>\n    new Promise((resolve) => {\n      if (!this._keyboardOpen) {\n        resolve();\n        return;\n      }\n\n      Animated.timing(this.state.channelHeight, {\n        toValue: this.initialHeight,\n        duration: 500,\n      }).start((response) => {\n        this.state.channelHeight.setValue(this.initialHeight);\n        if (response && !response.finished) {\n          // If by some chance animation didn't go smooth or had some issue,\n          // then simply defer promise resolution until after 500 ms.\n          // This is the time we perform animation for adjusting animation of Channel component height\n          // during keyboard dismissal.\n          setTimeout(() => {\n            resolve();\n          }, 500);\n          return;\n        }\n\n        resolve();\n      });\n    });\n\n  setRootChannelView = (o) => {\n    this.rootChannelView = o;\n  };\n\n  onLayout = ({\n    nativeEvent: {\n      layout: { height },\n    },\n  }) => {\n    // Not to set initial height again.\n    if (!this.initialHeight) {\n      this.initialHeight = height;\n      this.state.channelHeight.setValue(this.initialHeight);\n    }\n  };\n\n  dismissKeyboard = async () => {\n    Keyboard.dismiss();\n    await this.keyboardWillDismiss();\n  };\n\n  getContext = () => ({\n    dismissKeyboard: this.dismissKeyboard,\n  });\n\n  render() {\n    const height = this.initialHeight\n      ? { height: this.state.channelHeight }\n      : {};\n\n    return (\n      <Animated.View\n        style={{ display: 'flex', ...height }}\n        onLayout={this.onLayout}\n      >\n        <KeyboardContext.Provider value={this.getContext()}>\n          <View ref={this.setRootChannelView} collapsable={false}>\n            {this.props.children}\n          </View>\n        </KeyboardContext.Provider>\n      </Animated.View>\n    );\n  }\n}\n","import React from 'react';\nimport { Text } from 'react-native';\nimport PropTypes from 'prop-types';\nimport { withTranslationAndStatics } from '../utils';\n\nlet LoadingErrorIndicator = ({ listType, t }) => {\n  let Loader;\n  switch (listType) {\n    case 'channel':\n      Loader = <Text>{t('chat.error.loadingError.channel')}</Text>;\n      break;\n    case 'message':\n      Loader = <Text>{t('chat.error.loadingError.message')}</Text>;\n      break;\n    default:\n      Loader = <Text>{t('chat.error.loadingError.default')}</Text>;\n      break;\n  }\n\n  return Loader;\n};\n\nLoadingErrorIndicator.propTypes = {\n  listType: PropTypes.oneOf(['channel', 'message', 'default']),\n};\n\nLoadingErrorIndicator = withTranslationAndStatics(LoadingErrorIndicator);\nexport { LoadingErrorIndicator };\n","import React from 'react';\nimport { View, Animated, Easing } from 'react-native';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\n\nconst AnimatedView = Animated.createAnimatedComponent(View);\n\nconst Circle = styled(AnimatedView)`\n  height: 30px;\n  width: 30px;\n  margin: 5px;\n  border-width: 2px;\n  border-radius: 30px;\n  justify-content: center;\n  border-color: ${({ theme }) => theme.colors.primary};\n  border-right-color: transparent;\n  ${({ theme }) => theme.spinner.css}\n`;\n/**\n * @example ./docs/Spinner.md\n * @extends PureComponent\n */\nexport const Spinner = themed(\n  class Spinner extends React.PureComponent {\n    static themePath = 'spinner';\n    state = {\n      rotateValue: new Animated.Value(0),\n    };\n\n    componentDidMount() {\n      this._start();\n    }\n\n    _start = () => {\n      Animated.loop(\n        Animated.timing(this.state.rotateValue, {\n          toValue: 1,\n          duration: 800,\n          easing: Easing.linear,\n          useNativeDriver: true,\n        }),\n      ).start();\n    };\n\n    render() {\n      return (\n        <Circle\n          style={{\n            transform: [\n              {\n                rotate: this.state.rotateValue.interpolate({\n                  inputRange: [0, 1],\n                  outputRange: ['0deg', '360deg'],\n                }),\n              },\n            ],\n          }}\n        />\n      );\n    }\n  },\n);\n","import React from 'react';\nimport { View } from 'react-native';\nimport styled from '@stream-io/styled-components';\nimport PropTypes from 'prop-types';\nimport { Spinner } from './Spinner';\nimport { withTranslationAndStatics } from '../utils';\n\nconst LoadingText = styled.Text`\n  margin-top: 20px;\n  font-size: 14px;\n  font-weight: 600;\n`;\n\nexport const LoadingIndicator = withTranslationAndStatics()(\n  class LoadingIndicator extends React.PureComponent {\n    static propTypes = {\n      listType: PropTypes.oneOf(['channel', 'message', 'default']),\n    };\n\n    static defaultProps = {\n      listType: 'default',\n    };\n\n    render() {\n      switch (this.props.listType) {\n        case 'channel':\n          return (\n            <View\n              style={{\n                flex: 1,\n                justifyContent: 'center',\n                alignItems: 'center',\n              }}\n            >\n              <Spinner />\n              <LoadingText>\n                {this.props.t('chat.loadingIndicator.channel')}\n              </LoadingText>\n            </View>\n          );\n        case 'message':\n          return (\n            <View\n              style={{\n                flex: 1,\n                justifyContent: 'center',\n                alignItems: 'center',\n              }}\n            >\n              <Spinner />\n              <LoadingText>\n                {this.props.t('chat.loadingIndicator.message')}\n              </LoadingText>\n            </View>\n          );\n        case 'default':\n        default:\n          return (\n            <View\n              style={{\n                flex: 1,\n                justifyContent: 'center',\n                alignItems: 'center',\n              }}\n            >\n              <Spinner />\n              <LoadingText>\n                {this.props.t('chat.loadingIndicator.default')}\n              </LoadingText>\n            </View>\n          );\n      }\n    }\n  },\n);\n","const img = require('.//images/loading.gif'); export default img;","const img = require('.//images/icons/delivered_unseen.png'); export default img;","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport loadingGif from '../../images/loading.gif';\nimport iconDeliveredUnseen from '../../images/icons/delivered_unseen.png';\nimport { Avatar } from '../Avatar';\nimport PropTypes from 'prop-types';\n\nconst Spacer = styled.View`\n  height: 10;\n`;\n\nconst StatusContainer = styled.View`\n  width: 20;\n  flex-direction: row;\n  justify-content: center;\n`;\n\nconst DeliveredContainer = styled.View`\n  display: flex;\n  align-items: center;\n  height: 20;\n  ${({ theme }) => theme.message.status.deliveredContainer.css};\n`;\n\nconst DeliveredCircle = styled.View`\n  width: 16;\n  height: 16;\n  border-radius: 16;\n  background-color: ${({ theme }) => theme.colors.primary};\n  align-items: center;\n  justify-content: center;\n  padding: 6px;\n  ${({ theme }) => theme.message.status.deliveredCircle.css};\n`;\n\nconst CheckMark = styled.Image`\n  width: 8;\n  height: 6;\n  ${({ theme }) => theme.message.status.checkMark.css};\n`;\n\nconst SendingContainer = styled.View`\n  display: flex;\n  align-items: center;\n  ${({ theme }) => theme.message.status.sendingContainer.css};\n`;\n\nconst SendingImage = styled.View`\n  height: 10;\n  width: 10;\n  ${({ theme }) => theme.message.status.sendingImage.css};\n`;\n\nconst ReadByContainer = styled.View`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  ${({ theme }) => theme.message.status.readByContainer.css};\n`;\n\nexport const MessageStatus = ({\n  client,\n  readBy,\n  message,\n  lastReceivedId,\n  threadList,\n}) => {\n  const renderStatus = () => {\n    const justReadByMe = readBy.length === 1 && readBy[0].id === client.user.id;\n\n    if (message.status === 'sending') {\n      return (\n        <SendingContainer>\n          <SendingImage source={loadingGif} />\n        </SendingContainer>\n      );\n    } else if (\n      readBy.length !== 0 &&\n      !threadList &&\n      message.id === lastReceivedId &&\n      !justReadByMe\n    ) {\n      const lastReadUser = readBy.filter(\n        (item) => item.id !== client.user.id,\n      )[0];\n      return (\n        <ReadByContainer>\n          <Avatar\n            name={lastReadUser.name || lastReadUser.id}\n            image={lastReadUser.image}\n            size={16}\n          />\n        </ReadByContainer>\n      );\n    } else if (\n      message.status === 'received' &&\n      message.type !== 'ephemeral' &&\n      message.id === lastReceivedId &&\n      !threadList\n    ) {\n      return (\n        <DeliveredContainer>\n          <DeliveredCircle>\n            <CheckMark source={iconDeliveredUnseen} />\n          </DeliveredCircle>\n        </DeliveredContainer>\n      );\n    } else {\n      return <Spacer />;\n    }\n  };\n\n  return <StatusContainer>{renderStatus()}</StatusContainer>;\n};\n\nMessageStatus.propTypes = {\n  /** @see See [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n  client: PropTypes.object,\n  /** A list of users who have read the message */\n  readBy: PropTypes.array,\n  /** Current [message object](https://getstream.io/chat/docs/#message_format) */\n  message: PropTypes.object,\n  /** Latest message id on current channel */\n  lastReceivedId: PropTypes.string,\n  /** Boolean if current message is part of thread */\n  isThreadList: PropTypes.bool,\n};\n","const img = require('.//images/reactionlist/left-tail.png'); export default img;","const img = require('.//images/reactionlist/left-center.png'); export default img;","const img = require('.//images/reactionlist/left-end.png'); export default img;","const img = require('.//images/reactionlist/right-tail.png'); export default img;","const img = require('.//images/reactionlist/right-center.png'); export default img;","const img = require('.//images/reactionlist/right-end.png'); export default img;","import React from 'react';\nimport { Text } from 'react-native';\nimport styled from '@stream-io/styled-components';\nimport { emojiData } from '../utils';\nimport PropTypes from 'prop-types';\nimport { themed } from '../styles/theme';\n\nimport leftTail from '../images/reactionlist/left-tail.png';\nimport leftCenter from '../images/reactionlist/left-center.png';\nimport leftEnd from '../images/reactionlist/left-end.png';\n\nimport rightTail from '../images/reactionlist/right-tail.png';\nimport rightCenter from '../images/reactionlist/right-center.png';\nimport rightEnd from '../images/reactionlist/right-end.png';\n\nconst TouchableWrapper = styled.TouchableOpacity`\n  position: relative;\n  ${(props) => (props.position === 'left' ? 'left: -10px;' : 'right: -10px;')}\n  height: 28px;\n  z-index: 10;\n`;\n\nconst Container = styled.View`\n  opacity: ${({ visible }) => (visible ? 1 : 0)};\n  z-index: 10;\n  height: 24px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding-left: 5px;\n  padding-right: 5px;\n  ${({ theme }) => theme.message.reactionList.container.css}\n`;\n\nconst ReactionCount = styled(({ reactionCounts, ...rest }) => (\n  <Text {...rest} />\n))`\n  color: white;\n  font-size: 12;\n  ${({ reactionCounts }) => (reactionCounts < 10 ? null : 'min-width: 20px;')}\n  ${({ theme }) => theme.message.reactionList.reactionCount.css}\n`;\n\nconst ImageWrapper = styled.View`\n  display: flex;\n  flex-direction: row;\n  top: -23px;\n  opacity: ${({ visible }) => (visible ? 1 : 0)};\n`;\n\nconst LeftTail = styled.Image`\n  width: 25px;\n  height: 33px;\n`;\n\nconst LeftCenter = styled.Image`\n  height: 33;\n  flex: 1;\n`;\n\nconst LeftEnd = styled.Image`\n  width: 14px;\n  height: 33px;\n`;\n\nconst RightTail = styled.Image`\n  width: 25px;\n  height: 33px;\n`;\n\nconst RightCenter = styled.Image`\n  height: 33;\n  flex: 1;\n`;\n\nconst RightEnd = styled.Image`\n  width: 14px;\n  height: 33px;\n`;\n\nconst Reactions = styled.View`\n  flex-direction: row;\n`;\n\n/**\n * @example ./docs/ReactionList.md\n * @extends PureComponent\n */\n\nexport const ReactionList = themed(\n  class ReactionList extends React.PureComponent {\n    static themePath = 'message.reactionList';\n\n    constructor(props) {\n      super(props);\n    }\n\n    static propTypes = {\n      latestReactions: PropTypes.array,\n      openReactionSelector: PropTypes.func,\n      getTotalReactionCount: PropTypes.func,\n      visible: PropTypes.bool,\n      position: PropTypes.string,\n    };\n\n    _renderReactions = (reactions) => {\n      const reactionsByType = {};\n      reactions.map((item) => {\n        if (reactions[item.type] === undefined) {\n          return (reactionsByType[item.type] = [item]);\n        } else {\n          return (reactionsByType[item.type] = [\n            ...reactionsByType[item.type],\n            item,\n          ]);\n        }\n      });\n\n      const emojiDataByType = {};\n      emojiData.forEach((e) => (emojiDataByType[e.id] = e));\n\n      const reactionTypes = emojiData.map((e) => e.id);\n      return Object.keys(reactionsByType).map((type) =>\n        reactionTypes.indexOf(type) > -1 ? (\n          <Text key={type}>{emojiDataByType[type].icon}</Text>\n        ) : null,\n      );\n    };\n\n    render() {\n      const {\n        latestReactions,\n        openReactionSelector,\n        getTotalReactionCount,\n        visible,\n        position,\n      } = this.props;\n      return (\n        <TouchableWrapper\n          position={position}\n          onPress={openReactionSelector}\n          activeOpacity={1}\n        >\n          <Container visible={visible}>\n            <Reactions>{this._renderReactions(latestReactions)}</Reactions>\n            <ReactionCount reactionCounts={getTotalReactionCount()}>\n              {getTotalReactionCount()}\n            </ReactionCount>\n          </Container>\n          <ImageWrapper visible={visible}>\n            {position === 'left' ? (\n              <React.Fragment>\n                <LeftTail source={leftTail} />\n                <LeftCenter source={leftCenter} resizeMode=\"stretch\" />\n                <LeftEnd source={leftEnd} />\n              </React.Fragment>\n            ) : (\n              <React.Fragment>\n                <RightEnd source={rightEnd} />\n                <RightCenter source={rightCenter} resizeMode=\"stretch\" />\n                <RightTail source={rightTail} />\n              </React.Fragment>\n            )}\n          </ImageWrapper>\n        </TouchableWrapper>\n      );\n    }\n  },\n);\n","import React from 'react';\nimport { View, Modal } from 'react-native';\nimport { themed } from '../styles/theme';\nimport PropTypes from 'prop-types';\n\nimport styled from '@stream-io/styled-components';\nimport { Avatar } from './Avatar';\n\nconst Container = styled.TouchableOpacity`\n  flex: 1;\n  align-items: ${({ leftAlign }) => (leftAlign ? 'flex-start' : 'flex-end')};\n  ${({ theme }) => theme.message.reactionPicker.container.css}\n`;\n\nconst ContainerView = styled.View`\n  display: flex;\n  flex-direction: row;\n  background-color: black;\n  padding-left: 20px;\n  height: 60;\n  padding-right: 20px;\n  border-radius: 30;\n  ${({ theme }) => theme.message.reactionPicker.containerView.css}\n`;\n\nconst Column = styled.View`\n  flex-direction: column;\n  align-items: center;\n  margin-top: -5;\n  ${({ theme }) => theme.message.reactionPicker.column.css}\n`;\n\nconst Emoji = styled.Text`\n  font-size: 20;\n  margin-bottom: 5;\n  margin-top: 5;\n  ${({ theme }) => theme.message.reactionPicker.emoji.css}\n`;\n\nconst ReactionCount = styled.Text`\n  color: white;\n  font-size: 10;\n  font-weight: bold;\n  ${({ theme }) => theme.message.reactionPicker.text.css}\n`;\n\nexport const ReactionPicker = themed(\n  class ReactionPicker extends React.PureComponent {\n    static themePath = 'message.reactionPicker';\n\n    static propTypes = {\n      hideReactionOwners: PropTypes.bool,\n      reactionPickerVisible: PropTypes.bool,\n      handleDismiss: PropTypes.func,\n      handleReaction: PropTypes.func,\n      latestReactions: PropTypes.array,\n      reactionCounts: PropTypes.object,\n      rpLeft: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n      rpTop: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n      rpRight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n      emojiData: PropTypes.array,\n    };\n\n    constructor(props) {\n      super(props);\n    }\n\n    getUsersPerReaction = (reactions, type) => {\n      const filtered =\n        reactions && reactions.filter((item) => item.type === type);\n      return filtered;\n    };\n\n    getLatestUser = (reactions, type) => {\n      const filtered = this.getUsersPerReaction(reactions, type);\n      if (filtered && filtered[0] && filtered[0].user) {\n        return filtered[0].user;\n      } else {\n        return 'NotFound';\n      }\n    };\n\n    render() {\n      const {\n        hideReactionOwners,\n        reactionPickerVisible,\n        handleDismiss,\n        handleReaction,\n        latestReactions,\n        reactionCounts,\n        rpLeft,\n        rpTop,\n        rpRight,\n        emojiData,\n      } = this.props;\n\n      if (!reactionPickerVisible) return null;\n\n      const position = {\n        marginTop: rpTop,\n      };\n\n      if (rpLeft) position.marginLeft = rpLeft;\n\n      if (rpRight) position.marginRight = rpRight;\n\n      return (\n        <Modal\n          visible={reactionPickerVisible}\n          transparent\n          animationType=\"fade\"\n          onShow={() => {}}\n          onRequestClose={handleDismiss}\n        >\n          {reactionPickerVisible && (\n            <Container\n              onPress={handleDismiss}\n              leftAlign={Boolean(rpLeft)}\n              activeOpacity={1}\n            >\n              <ContainerView\n                style={{\n                  ...position,\n                }}\n              >\n                {emojiData.map(({ id, icon }) => {\n                  const latestUser = this.getLatestUser(latestReactions, id);\n                  const count = reactionCounts && reactionCounts[id];\n                  return (\n                    <Column key={id}>\n                      {latestUser !== 'NotFound' && !hideReactionOwners ? (\n                        <Avatar\n                          image={latestUser.image}\n                          alt={latestUser.id}\n                          size={18}\n                          style={{\n                            image: {\n                              borderColor: 'white',\n                              borderWidth: 1,\n                            },\n                          }}\n                          name={latestUser.name || latestUser.id}\n                        />\n                      ) : (\n                        !hideReactionOwners && (\n                          <View style={{ height: 18, width: 18 }} />\n                        )\n                      )}\n                      <Emoji\n                        onPress={() => {\n                          handleReaction(id);\n                        }}\n                      >\n                        {icon}\n                      </Emoji>\n                      <ReactionCount>{count > 0 ? count : ''}</ReactionCount>\n                    </Column>\n                  );\n                })}\n              </ContainerView>\n            </Container>\n          )}\n        </Modal>\n      );\n    }\n  },\n);\n","import React from 'react';\nimport styled, { withTheme } from '@stream-io/styled-components';\n\nimport { renderText, capitalize } from '../../utils';\nimport PropTypes from 'prop-types';\n\nconst TextContainer = styled.View`\n  border-bottom-left-radius: ${({ theme, groupStyle }) =>\n    groupStyle.indexOf('left') !== -1\n      ? theme.message.content.textContainer.borderRadiusS\n      : theme.message.content.textContainer.borderRadiusL};\n  border-bottom-right-radius: ${({ theme, groupStyle }) =>\n    groupStyle.indexOf('right') !== -1\n      ? theme.message.content.textContainer.borderRadiusS\n      : theme.message.content.textContainer.borderRadiusL};\n  border-top-left-radius: ${({ theme, groupStyle }) =>\n    groupStyle === 'leftBottom' || groupStyle === 'leftMiddle'\n      ? theme.message.content.textContainer.borderRadiusS\n      : theme.message.content.textContainer.borderRadiusL};\n  border-top-right-radius: ${({ theme, groupStyle }) =>\n    groupStyle === 'rightBottom' || groupStyle === 'rightMiddle'\n      ? theme.message.content.textContainer.borderRadiusS\n      : theme.message.content.textContainer.borderRadiusL};\n  margin-top: 2;\n  padding: 5px;\n  padding-left: 8;\n  padding-right: 8;\n  align-self: ${({ alignment }) =>\n    alignment === 'left' ? 'flex-start' : 'flex-end'};\n  border-width: ${({ theme, alignment }) =>\n    alignment === 'left'\n      ? theme.message.content.textContainer.leftBorderWidth\n      : theme.message.content.textContainer.rightBorderWidth};\n  border-color: ${({ theme, alignment }) =>\n    alignment === 'left'\n      ? theme.message.content.textContainer.leftBorderColor\n      : theme.message.content.textContainer.rightBorderColor};\n  background-color: ${({ theme, alignment, type, status }) =>\n    alignment === 'left' || type === 'error' || status === 'failed'\n      ? theme.colors.transparent\n      : theme.colors.light};\n  ${({ theme }) => theme.message.content.textContainer.css}\n`;\n\nexport const MessageTextContainer = withTheme((props) => {\n  const {\n    message,\n    groupStyles = ['bottom'],\n    isMyMessage = () => false,\n    MessageText = false,\n  } = props;\n  const pos = isMyMessage(message) ? 'right' : 'left';\n\n  const hasAttachment = message.attachments.length > 0 ? true : false;\n  const groupStyle =\n    (isMyMessage(message) ? 'right' : 'left') +\n    capitalize(hasAttachment ? 'bottom' : groupStyles[0]);\n\n  if (!message.text) return false;\n  const markdownStyles = props.theme\n    ? props.theme.message.content.markdown\n    : {};\n  return (\n    <React.Fragment>\n      <TextContainer\n        alignment={pos}\n        groupStyle={groupStyle}\n        status={message.status}\n        type={message.type}\n      >\n        {!MessageText ? (\n          renderText(message, markdownStyles)\n        ) : (\n          <MessageText {...props} renderText={renderText} />\n        )}\n      </TextContainer>\n    </React.Fragment>\n  );\n});\n\nMessageTextContainer.propTypes = {\n  /** Current [message object](https://getstream.io/chat/docs/#message_format) */\n  message: PropTypes.object,\n  /**\n   * Position of message in group - top, bottom, middle, single.\n   *\n   * Message group is a group of consecutive messages from same user. groupStyles can be used to style message as per their position in message group\n   * e.g., user avatar (to which message belongs to) is only showed for last (bottom) message in group.\n   */\n  groupStyles: PropTypes.array,\n  /**\n   * Returns true if message (param) belongs to current user, else false\n   *\n   * @param message\n   * */\n  isMyMessage: PropTypes.func,\n  /** Custom UI component for message text */\n  MessageText: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n  /** Complete theme object. Its a [defaultTheme](https://github.com/GetStream/stream-chat-react-native/blob/master/src/styles/theme.js#L22) merged with customized theme provided as prop to Chat component */\n  theme: PropTypes.object,\n};\n","const img = require('.//images/icons/icon_path.png'); export default img;","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport PropTypes from 'prop-types';\n\nimport iconPath from '../../images/icons/icon_path.png';\nimport { withTranslationAndStatics } from '../../utils';\n\nconst Container = styled.TouchableOpacity`\n  padding: 5px;\n  flex-direction: row;\n  align-items: center;\n  ${({ theme }) => theme.message.replies.container.css}\n`;\n\nconst MessageRepliesText = styled.Text`\n  color: ${({ theme }) => theme.colors.primary};\n  font-weight: 700;\n  font-size: 12;\n  ${({ theme }) => theme.message.replies.messageRepliesText.css}\n`;\n\nconst MessageRepliesImage = styled.Image`\n  transform: ${({ pos }) =>\n    pos === 'left' ? 'rotateY(0deg)' : 'rotateY(180deg)'};\n  ${({ theme }) => theme.message.replies.image.css}\n`;\n\nlet MessageReplies = ({ message, isThreadList, openThread, pos, t }) => {\n  if (isThreadList || !message.reply_count) return null;\n\n  return (\n    <Container onPress={openThread}>\n      {pos === 'left' ? (\n        <MessageRepliesImage source={iconPath} pos={pos} />\n      ) : null}\n      <MessageRepliesText>\n        {t('chat.repliesCount', { count: message.reply_count })}\n      </MessageRepliesText>\n      {pos === 'right' ? (\n        <MessageRepliesImage source={iconPath} pos={pos} />\n      ) : null}\n    </Container>\n  );\n};\n\nMessageReplies.propTypes = {\n  /** Current [message object](https://getstream.io/chat/docs/#message_format) */\n  message: PropTypes.object,\n  /** Boolean if current message is part of thread */\n  isThreadList: PropTypes.bool,\n  /** @see See [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n  openThread: PropTypes.func,\n  /** right | left */\n  pos: PropTypes.string,\n};\n\nMessageReplies = withTranslationAndStatics()(MessageReplies);\nexport { MessageReplies };\n","import React from 'react';\nimport { Dimensions } from 'react-native';\nimport moment from 'moment';\nimport { MessageContentContext } from '../../context';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../../styles/theme';\nimport { Attachment } from '../Attachment';\nimport { ReactionList } from '../ReactionList';\nimport { ReactionPicker } from '../ReactionPicker';\nimport { ActionSheetCustom as ActionSheet } from 'react-native-actionsheet';\nimport { MessageTextContainer } from './MessageTextContainer';\nimport { MessageReplies } from './MessageReplies';\nimport { Gallery } from '../Gallery';\nimport { MESSAGE_ACTIONS, withTranslationAndStatics } from '../../utils';\nimport Immutable from 'seamless-immutable';\nimport PropTypes from 'prop-types';\nimport { FileAttachmentGroup } from '../FileAttachmentGroup';\n\n// Border radii are useful for the case of error message types only.\n// Otherwise background is transperant, so border radius is not really visible.\nconst Container = styled.TouchableOpacity`\n  display: flex;\n  flex-direction: column;\n  max-width: 250;\n  padding: ${({ error }) => (error ? 5 : 0)}px;\n  align-items: ${({ alignment }) =>\n    alignment === 'left' ? 'flex-start' : 'flex-end'};\n  justify-content: ${({ alignment }) =>\n    alignment === 'left' ? 'flex-start' : 'flex-end'};\n  background-color: ${({ error, theme }) =>\n    error\n      ? theme.message.content.errorContainer.backgroundColor\n      : theme.colors.transparent};\n  border-bottom-left-radius: ${({ alignment, theme }) =>\n    alignment === 'left'\n      ? theme.message.content.container.borderRadiusS\n      : theme.message.content.container.borderRadiusL};\n  border-bottom-right-radius: ${({ alignment, theme }) =>\n    alignment === 'left'\n      ? theme.message.content.container.borderRadiusL\n      : theme.message.content.container.borderRadiusS};\n  border-top-left-radius: ${({ theme }) =>\n    theme.message.content.container.borderRadiusL};\n  border-top-right-radius: ${({ theme }) =>\n    theme.message.content.container.borderRadiusL};\n  ${({ theme }) => theme.message.content.container.css};\n`;\n\nconst ContainerInner = styled.View`\n  align-items: ${({ alignment }) =>\n    alignment === 'left' ? 'flex-start' : 'flex-end'};\n  ${({ theme }) => theme.message.content.containerInner.css}\n`;\n\nconst MetaContainer = styled.View`\n  margin-top: 2;\n  ${({ theme }) => theme.message.content.metaContainer.css};\n`;\n\nconst MetaText = styled.Text`\n  font-size: 11;\n  color: ${({ theme }) => theme.colors.textGrey};\n  text-align: ${({ alignment }) => (alignment === 'left' ? 'left' : 'right')};\n  ${({ theme }) => theme.message.content.metaText.css};\n`;\n\nconst DeletedContainer = styled.View`\n  display: flex;\n  flex-direction: column;\n  max-width: 250;\n  padding: 5px;\n  align-items: ${({ alignment }) =>\n    alignment === 'left' ? 'flex-start' : 'flex-end'};\n  justify-content: ${({ alignment }) =>\n    alignment === 'left' ? 'flex-start' : 'flex-end'};\n  ${({ theme }) => theme.message.content.deletedContainer.css};\n`;\n\nconst DeletedText = styled.Text`\n  font-size: 15;\n  line-height: 20;\n  color: #a4a4a4;\n  ${({ theme }) => theme.message.content.deletedText.css};\n`;\n\nconst FailedText = styled.Text`\n  color: #a4a4a4;\n  margin-right: 5px;\n`;\n\nconst ActionSheetTitleContainer = styled.View`\n  width: 100%;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n  ${({ theme }) => theme.message.actionSheet.titleContainer.css};\n`;\n\nconst ActionSheetTitleText = styled.Text`\n  color: #757575;\n  font-size: 14;\n  ${({ theme }) => theme.message.actionSheet.titleText.css};\n`;\n\nconst ActionSheetButtonContainer = styled.View`\n  height: 50;\n  width: 100%;\n  align-items: center;\n  background-color: #fff;\n  justify-content: center;\n  ${({ theme }) => theme.message.actionSheet.buttonContainer.css};\n`;\n\nconst ActionSheetButtonText = styled.Text`\n  font-size: 18;\n  color: #388cea;\n  ${({ theme }) => theme.message.actionSheet.buttonText.css};\n`;\n\nconst ActionSheetCancelButtonContainer = styled.View`\n  height: 50;\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n  ${({ theme }) => theme.message.actionSheet.cancelButtonContainer.css};\n`;\nconst ActionSheetCancelButtonText = styled.Text`\n  font-size: 18;\n  color: red;\n  ${({ theme }) => theme.message.actionSheet.cancelButtonText.css};\n`;\n\nexport const MessageContent = withTranslationAndStatics()(\n  themed(\n    class MessageContent extends React.PureComponent {\n      static themePath = 'message.content';\n\n      static propTypes = {\n        /** @see See [channel context](#channelcontext) */\n        Attachment: PropTypes.oneOfType([\n          PropTypes.node,\n          PropTypes.elementType,\n        ]),\n        /** enabled reactions, this is usually set by the parent component based on channel configs */\n        reactionsEnabled: PropTypes.bool.isRequired,\n        /** enabled replies, this is usually set by the parent component based on channel configs */\n        repliesEnabled: PropTypes.bool.isRequired,\n        /**\n         * Handler to open the thread on message. This is callback for touch event for replies button.\n         *\n         * @param message A message object to open the thread upon.\n         * */\n        onThreadSelect: PropTypes.func,\n        /**\n         * Callback for onPress event on Message component\n         *\n         * @param e       Event object for onPress event\n         * @param message Message object which was pressed\n         *\n         * @deprecated Use onPress instead\n         * */\n        onMessageTouch: PropTypes.func,\n        /**\n         * Function that overrides default behaviour when message is pressed/touched\n         * e.g. if you would like to open reaction picker on message press:\n         *\n         * ```\n         * import { MessageSimple } from 'stream-chat-react-native' // or 'stream-chat-expo'\n         * ...\n         * const MessageUIComponent = (props) => {\n         *  return (\n         *    <MessageSimple\n         *      {...props}\n         *      onPress={(thisArg, message, e) => {\n         *        thisArg.openReactionSelector();\n         *      }}\n         *  )\n         * }\n         * ```\n         *\n         * Similarly, you can also call other methods available on MessageContent\n         * component such as handleEdit, handleDelete, showActionSheet etc.\n         *\n         * Source - [MessageContent](https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/MessageSimple/MessageContent.js)\n         *\n         * @param {Component} thisArg Reference to MessageContent component\n         * @param message Message object which was pressed\n         * @param e       Event object for onPress event\n         * */\n        onPress: PropTypes.func,\n        /**\n         * Function that overrides default behaviour when message is long pressed\n         * e.g. if you would like to open reaction picker on message long press:\n         *\n         * ```\n         * import { MessageSimple } from 'stream-chat-react-native' // or 'stream-chat-expo'\n         * ...\n         * const MessageUIComponent = (props) => {\n         *  return (\n         *    <MessageSimple\n         *      {...props}\n         *      onLongPress={(thisArg, message, e) => {\n         *        thisArg.openReactionSelector();\n         *      }}\n         *  )\n         * }\n         *\n         * Similarly, you can also call other methods available on MessageContent\n         * component such as handleEdit, handleDelete, showActionSheet etc.\n         *\n         * Source - [MessageContent](https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/MessageSimple/MessageContent.js)\n         *\n         * By default we show action sheet with all the message actions on long press.\n         * ```\n         *\n         * @param {Component} thisArg Reference to MessageContent component\n         * @param message Message object which was long pressed\n         * @param e       Event object for onLongPress event\n         * */\n        onLongPress: PropTypes.func,\n        /**\n         * Handler to delete a current message.\n         */\n        handleDelete: PropTypes.func,\n        /**\n         * Handler to edit a current message. This message simply sets current message as value of `editing` property of channel context.\n         * `editing` prop is then used by MessageInput component to switch to edit mode.\n         */\n        handleEdit: PropTypes.func,\n        /** @see See [keyboard context](https://getstream.io/chat/docs/#keyboardcontext) */\n        dismissKeyboard: PropTypes.func,\n        /** Handler for actions. Actions in combination with attachments can be used to build [commands](https://getstream.io/chat/docs/#channel_commands). */\n        handleAction: PropTypes.func,\n        /** Position of message. 'right' | 'left' */\n        alignment: PropTypes.string,\n        /**\n         * Position of message in group - top, bottom, middle, single.\n         *\n         * Message group is a group of consecutive messages from same user. groupStyles can be used to style message as per their position in message group\n         * e.g., user avatar (to which message belongs to) is only showed for last (bottom) message in group.\n         */\n        groupStyles: PropTypes.array,\n        /**\n         * Style object for actionsheet (used to message actions).\n         * Supported styles: https://github.com/beefe/react-native-actionsheet/blob/master/lib/styles.js\n         */\n        actionSheetStyles: PropTypes.object,\n        /**\n         * Custom UI component for attachment icon for type 'file' attachment.\n         * Defaults to: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileIcon.js\n         */\n        AttachmentFileIcon: PropTypes.oneOfType([\n          PropTypes.node,\n          PropTypes.elementType,\n        ]),\n      };\n\n      static defaultProps = {\n        Attachment,\n        reactionsEnabled: true,\n        repliesEnabled: true,\n        MessageText: false,\n      };\n\n      constructor(props) {\n        super(props);\n\n        this.ActionSheet = false;\n        this.state = { reactionPickerVisible: false };\n      }\n\n      openThread = () => {\n        if (this.props.onThreadSelect)\n          this.props.onThreadSelect(this.props.message);\n      };\n\n      showActionSheet = () => {\n        this.ActionSheet.show();\n      };\n\n      handleDelete = async () => {\n        await this.props.handleDelete();\n      };\n\n      handleEdit = () => {\n        this.props.handleEdit();\n      };\n\n      _setReactionPickerPosition = () => {\n        const { isMyMessage, message } = this.props;\n        const pos = isMyMessage(message) ? 'right' : 'left';\n        this.messageContainer.measureInWindow((x, y, width) => {\n          this.setState({\n            reactionPickerVisible: true,\n            rpTop: y - 60,\n            rpLeft: pos === 'left' ? x - 10 : null,\n            rpRight:\n              pos === 'right'\n                ? Math.round(Dimensions.get('window').width) - (x + width + 10)\n                : null,\n          });\n        });\n      };\n\n      openReactionSelector = async () => {\n        const { readOnly } = this.props;\n\n        if (readOnly) return;\n\n        // Keyboard closes automatically whenever modal is opened (currently there is no way of avoiding this afaik)\n        // So we need to postpone the calculation for reaction picker position\n        // until after keyboard is closed completely. To achieve this, we close\n        // the keyboard forcefully and then calculate position of picker in callback.\n        await this.props.dismissKeyboard();\n        this._setReactionPickerPosition();\n      };\n\n      onActionPress = (action) => {\n        switch (action) {\n          case MESSAGE_ACTIONS.edit:\n            this.handleEdit();\n            break;\n          case MESSAGE_ACTIONS.delete:\n            this.handleDelete();\n            break;\n          case MESSAGE_ACTIONS.reply:\n            this.openThread();\n            break;\n          case MESSAGE_ACTIONS.reactions:\n            this.openReactionSelector();\n            break;\n          default:\n            break;\n        }\n      };\n\n      render() {\n        const {\n          message,\n          isMyMessage,\n          readOnly,\n          Message,\n          handleReaction,\n          threadList,\n          retrySendMessage,\n          messageActions,\n          groupStyles,\n          reactionsEnabled,\n          getTotalReactionCount,\n          repliesEnabled,\n          canEditMessage,\n          canDeleteMessage,\n          MessageFooter,\n        } = this.props;\n\n        const Attachment = this.props.Attachment;\n        const hasAttachment = Boolean(\n          message && message.attachments && message.attachments.length,\n        );\n\n        const pos = isMyMessage(message) ? 'right' : 'left';\n\n        const showTime =\n          groupStyles[0] === 'single' || groupStyles[0] === 'bottom'\n            ? true\n            : false;\n\n        const hasReactions =\n          reactionsEnabled &&\n          message.latest_reactions &&\n          message.latest_reactions.length > 0;\n\n        const options = [{ id: 'cancel', title: this.props.t('chat.cancel') }];\n        const images =\n          hasAttachment &&\n          message.attachments.filter(\n            (item) =>\n              item.type === 'image' && !item.title_link && !item.og_scrape_url,\n          );\n\n        const files =\n          hasAttachment &&\n          message.attachments.filter((item) => item.type === 'file');\n\n        if (\n          messageActions &&\n          reactionsEnabled &&\n          messageActions.indexOf(MESSAGE_ACTIONS.reactions) > -1\n        ) {\n          options.splice(1, 0, {\n            id: MESSAGE_ACTIONS.reactions,\n            title: this.props.t('chat.message.actions.react'),\n          });\n        }\n\n        if (\n          messageActions &&\n          repliesEnabled &&\n          messageActions.indexOf(MESSAGE_ACTIONS.reply) > -1 &&\n          !threadList\n        ) {\n          options.splice(1, 0, {\n            id: MESSAGE_ACTIONS.reply,\n            title: this.props.t('chat.message.actions.reply'),\n          });\n        }\n        if (\n          messageActions &&\n          messageActions.indexOf(MESSAGE_ACTIONS.edit) > -1 &&\n          canEditMessage()\n        )\n          options.splice(1, 0, {\n            id: MESSAGE_ACTIONS.edit,\n            title: this.props.t('chat.message.actions.edit'),\n          });\n\n        if (\n          messageActions &&\n          messageActions.indexOf(MESSAGE_ACTIONS.delete) > -1 &&\n          canDeleteMessage()\n        )\n          options.splice(1, 0, {\n            id: MESSAGE_ACTIONS.delete,\n            title: this.props.t('chat.message.actions.delete'),\n          });\n\n        if (message.deleted_at)\n          return (\n            <DeletedContainer alignment={pos}>\n              <DeletedText>{this.props.t('chat.message.deleted')}</DeletedText>\n            </DeletedContainer>\n          );\n\n        const onLongPress = this.props.onLongPress;\n        const contentProps = {\n          alignment: pos,\n          status: message.status,\n          onPress: this.props.onPress\n            ? this.props.onPress.bind(this, this, message)\n            : this.props.onMessageTouch,\n          onLongPress: onLongPress\n            ? onLongPress.bind(this, this, message)\n            : options.length > 1\n            ? this.showActionSheet\n            : null,\n          activeOpacity: 0.7,\n          disabled: readOnly,\n          hasReactions,\n        };\n\n        if (message.status === 'failed')\n          contentProps.onPress = retrySendMessage.bind(\n            this,\n            Immutable(message),\n          );\n\n        const context = {\n          onLongPress: contentProps.onLongPress,\n        };\n\n        return (\n          <MessageContentContext.Provider value={context}>\n            <Container\n              {...contentProps}\n              error={message.type === 'error' || message.status === 'failed'}\n            >\n              {message.type === 'error' ? (\n                <FailedText>{this.props.t('chat.message.error')}</FailedText>\n              ) : null}\n              {message.status === 'failed' ? (\n                <FailedText>{this.props.t('chat.message.failure')}</FailedText>\n              ) : null}\n              {reactionsEnabled &&\n                message.latest_reactions &&\n                message.latest_reactions.length > 0 && (\n                  <ReactionList\n                    position={pos}\n                    visible={!this.state.reactionPickerVisible}\n                    latestReactions={message.latest_reactions}\n                    getTotalReactionCount={getTotalReactionCount}\n                    openReactionSelector={this.openReactionSelector}\n                    reactionCounts={message.reaction_counts}\n                  />\n                )}\n              {/* Reason for collapsible: https://github.com/facebook/react-native/issues/12966 */}\n              <ContainerInner\n                alignment={pos}\n                ref={(o) => (this.messageContainer = o)}\n                collapsable={false}\n              >\n                {hasAttachment &&\n                  message.attachments.map((attachment, index) => {\n                    // We handle files separately\n                    if (attachment.type === 'file') return null;\n                    if (\n                      attachment.type === 'image' &&\n                      !attachment.title_link &&\n                      !attachment.og_scrape_url\n                    )\n                      return null;\n                    return (\n                      <Attachment\n                        key={`${message.id}-${index}`}\n                        attachment={attachment}\n                        actionHandler={this.props.handleAction}\n                        alignment={this.props.alignment}\n                      />\n                    );\n                  })}\n                {files && files.length > 0 && (\n                  <FileAttachmentGroup\n                    messageId={message.id}\n                    files={files}\n                    handleAction={this.props.handleAction}\n                    alignment={this.props.alignment}\n                    AttachmentFileIcon={this.props.AttachmentFileIcon}\n                  />\n                )}\n                {images && images.length > 0 && (\n                  <Gallery alignment={this.props.alignment} images={images} />\n                )}\n                <MessageTextContainer\n                  message={message}\n                  groupStyles={hasReactions ? ['top'] : groupStyles}\n                  isMyMessage={isMyMessage}\n                  MessageText={this.props.MessageText}\n                  disabled={\n                    message.status === 'failed' || message.type === 'error'\n                  }\n                  Message={Message}\n                  openThread={this.openThread}\n                  handleReaction={handleReaction}\n                />\n              </ContainerInner>\n              {repliesEnabled ? (\n                <MessageReplies\n                  message={message}\n                  isThreadList={!!threadList}\n                  openThread={this.openThread}\n                  pos={pos}\n                />\n              ) : null}\n              {MessageFooter && <MessageFooter {...this.props} />}\n              {!MessageFooter && showTime ? (\n                <MetaContainer>\n                  <MetaText alignment={pos}>\n                    {moment(message.created_at).format('HH:MM')}\n                  </MetaText>\n                </MetaContainer>\n              ) : null}\n\n              {reactionsEnabled ? (\n                <ReactionPicker\n                  reactionPickerVisible={this.state.reactionPickerVisible}\n                  handleReaction={handleReaction}\n                  latestReactions={message.latest_reactions}\n                  reactionCounts={message.reaction_counts}\n                  handleDismiss={() => {\n                    this.setState({ reactionPickerVisible: false });\n                  }}\n                  rpLeft={this.state.rpLeft}\n                  rpRight={this.state.rpRight}\n                  rpTop={this.state.rpTop}\n                  emojiData={this.props.emojiData}\n                />\n              ) : null}\n              <ActionSheet\n                ref={(o) => {\n                  this.ActionSheet = o;\n                }}\n                title={\n                  <ActionSheetTitleContainer>\n                    <ActionSheetTitleText>\n                      {this.props.t('chat.actionSheet.choose')}\n                    </ActionSheetTitleText>\n                  </ActionSheetTitleContainer>\n                }\n                options={[\n                  ...options.map((o, i) => {\n                    if (i === 0) {\n                      return (\n                        <ActionSheetCancelButtonContainer>\n                          <ActionSheetCancelButtonText>\n                            {this.props.t('chat.cancel')}\n                          </ActionSheetCancelButtonText>\n                        </ActionSheetCancelButtonContainer>\n                      );\n                    }\n                    return (\n                      <ActionSheetButtonContainer key={o.title}>\n                        <ActionSheetButtonText>{o.title}</ActionSheetButtonText>\n                      </ActionSheetButtonContainer>\n                    );\n                  }),\n                ]}\n                cancelButtonIndex={0}\n                destructiveButtonIndex={0}\n                onPress={(index) => this.onActionPress(options[index].id)}\n                styles={this.props.actionSheetStyles}\n              />\n            </Container>\n          </MessageContentContext.Provider>\n        );\n      }\n    },\n  ),\n);\n","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport { Avatar } from '../Avatar';\nimport PropTypes from 'prop-types';\n\nconst Container = styled.View`\n  margin-right: ${({ alignment }) => (alignment === 'left' ? 8 : 0)};\n  margin-left: ${({ alignment }) => (alignment === 'right' ? 8 : 0)};\n  ${({ theme }) => theme.message.avatarWrapper.container.css}\n`;\n\nconst Spacer = styled.View`\n  width: 32;\n  height: 28;\n  ${({ theme }) => theme.message.avatarWrapper.spacer.css}\n`;\n\nexport const MessageAvatar = ({ message, isMyMessage, groupStyles }) => {\n  const pos = isMyMessage(message) ? 'right' : 'left';\n\n  const showAvatar =\n    groupStyles[0] === 'single' || groupStyles[0] === 'bottom' ? true : false;\n\n  return (\n    <Container alignment={pos}>\n      {showAvatar ? (\n        <Avatar\n          image={message.user.image}\n          name={message.user.name || message.user.id}\n        />\n      ) : (\n        <Spacer />\n      )}\n    </Container>\n  );\n};\n\nMessageAvatar.propTypes = {\n  /** Current [message object](https://getstream.io/chat/docs/#message_format) */\n  message: PropTypes.object,\n  /**\n   * Returns true if message (param) belongs to current user, else false\n   *\n   * @param message\n   * */\n  isMyMessage: PropTypes.func,\n  /**\n   * Position of message in group - top, bottom, middle, single.\n   *\n   * Message group is a group of consecutive messages from same user. groupStyles can be used to style message as per their position in message group\n   * e.g., user avatar (to which message belongs to) is only showed for last (bottom) message in group.\n   */\n  groupStyles: PropTypes.array,\n};\n","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport Moment from 'moment';\n\nconst Container = styled.View`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 10;\n  ${({ theme }) => theme.messageList.messageSystem.container.css}\n`;\n\nconst Line = styled.View`\n  flex: 1;\n  height: 0.5;\n  background-color: ${({ theme }) => theme.colors.light};\n  ${({ theme }) => theme.messageList.messageSystem.line.css}\n`;\n\nconst TextContainer = styled.View`\n  margin-top: 10;\n  flex: 3;\n  ${({ theme }) => theme.messageList.messageSystem.textContainer.css}\n`;\n\nconst Text = styled.Text`\n  text-align: center;\n  font-size: 10;\n  font-weight: bold;\n  color: rgba(0, 0, 0, 0.5);\n  ${({ theme }) => theme.messageList.messageSystem.text.css}\n`;\n\nconst DateText = styled.Text`\n  text-align: center;\n  font-size: 10;\n  font-weight: bold;\n  color: rgba(0, 0, 0, 0.5);\n  ${({ theme }) => theme.messageList.messageSystem.dateText.css}\n`;\n\n/**\n * A component to display system message. e.g, when someone updates the channel,\n * they can attach a message with that update. That message will be available\n * in message list as (type) system message.\n */\nconst MessageSystem = ({ message }) => (\n  <Container>\n    <Line />\n    <TextContainer>\n      <Text>{message.text.toUpperCase()}</Text>\n      <DateText>\n        {Moment(message.received_at)\n          .format('dddd')\n          .toUpperCase()}{' '}\n        at{' '}\n        {Moment(message.received_at)\n          .format('hh:mm A')\n          .toUpperCase()}\n      </DateText>\n    </TextContainer>\n    <Line />\n  </Container>\n);\n\nexport { MessageSystem };\n","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../../styles/theme';\n\nimport { MessageStatus } from './MessageStatus';\nimport { MessageContent } from './MessageContent';\nimport { MessageAvatar } from './MessageAvatar';\nimport { MessageSystem } from '../MessageSystem';\n\nimport PropTypes from 'prop-types';\n\nconst Container = styled.View`\n  display: flex;\n  flex-direction: row;\n  align-items: flex-end;\n  justify-content: ${({ alignment }) =>\n    alignment === 'left' ? 'flex-start' : 'flex-end'};\n  margin-bottom: ${({ hasMarginBottom, isVeryLastMessage }) =>\n    hasMarginBottom ? (isVeryLastMessage ? 30 : 20) : 0};\n  ${({ theme }) => theme.message.container.css}\n`;\n\n/**\n *\n * Message UI component\n *\n * @example ../docs/MessageSimple.md\n * @extends Component\n */\n\nexport const MessageSimple = themed(\n  class MessageSimple extends React.PureComponent {\n    static propTypes = {\n      /** Custom UI component for message text */\n      MessageText: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      /** enabled reactions, this is usually set by the parent component based on channel configs */\n      reactionsEnabled: PropTypes.bool.isRequired,\n      /** enabled replies, this is usually set by the parent component based on channel configs */\n      repliesEnabled: PropTypes.bool.isRequired,\n      /**\n       * Handler to open the thread on message. This is callback for touch event for replies button.\n       *\n       * @param message A message object to open the thread upon.\n       * */\n      onThreadSelect: PropTypes.func,\n      /**\n       * Callback for onPress event on Message component\n       *\n       * @param e       Event object for onPress event\n       * @param message Message object which was pressed\n       *\n       * @deprecated Use onPress instead\n       * */\n      onMessageTouch: PropTypes.func,\n      /**\n       * Function that overrides default behaviour when message is pressed/touched\n       * e.g. if you would like to open reaction picker on message press:\n       *\n       * ```\n       * import { MessageSimple } from 'stream-chat-react-native' // or 'stream-chat-expo'\n       * ...\n       * const MessageUIComponent = (props) => {\n       *  return (\n       *    <MessageSimple\n       *      {...props}\n       *      onPress={(thisArg, message, e) => {\n       *        thisArg.openReactionSelector();\n       *      }}\n       *  )\n       * }\n       * ```\n       *\n       * Similarly, you can also call other methods available on MessageContent\n       * component such as handleEdit, handleDelete, showActionSheet etc.\n       *\n       * Source - [MessageContent](https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/MessageSimple/MessageContent.js)\n       *\n       * @param {Component} thisArg Reference to MessageContent component\n       * @param message Message object which was pressed\n       * @param e       Event object for onPress event\n       * */\n      onPress: PropTypes.func,\n      /**\n       * Function that overrides default behaviour when message is long pressed\n       * e.g. if you would like to open reaction picker on message long press:\n       *\n       * ```\n       * import { MessageSimple } from 'stream-chat-react-native' // or 'stream-chat-expo'\n       * ...\n       * const MessageUIComponent = (props) => {\n       *  return (\n       *    <MessageSimple\n       *      {...props}\n       *      onLongPress={(thisArg, message, e) => {\n       *        thisArg.openReactionSelector();\n       *      }}\n       *  )\n       * }\n       *\n       * Similarly, you can also call other methods available on MessageContent\n       * component such as handleEdit, handleDelete, showActionSheet etc.\n       *\n       * Source - [MessageContent](https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/MessageSimple/MessageContent.js)\n       * ```\n       *\n       * By default we show action sheet with all the message actions on long press.\n       *\n       * @param {Component} thisArg Reference to MessageContent component\n       * @param message Message object which was long pressed\n       * @param e       Event object for onLongPress event\n       * */\n      onLongPress: PropTypes.func,\n      /**\n       * Handler to delete a current message.\n       */\n      handleDelete: PropTypes.func,\n      /**\n       * Handler to edit a current message. This message simply sets current message as value of `editing` property of channel context.\n       * `editing` prop is then used by MessageInput component to switch to edit mode.\n       */\n      handleEdit: PropTypes.func,\n      /** @see See [keyboard context](https://getstream.io/chat/docs/#keyboardcontext) */\n      dismissKeyboard: PropTypes.func,\n      /** Handler for actions. Actions in combination with attachments can be used to build [commands](https://getstream.io/chat/docs/#channel_commands). */\n      handleAction: PropTypes.func,\n      /** Handler resend the message. */\n      handleRetry: PropTypes.func,\n      /** Current [message object](https://getstream.io/chat/docs/#message_format) */\n      message: PropTypes.object,\n      /**\n       * Returns true if message (param) belongs to current user, else false\n       *\n       * @param message\n       * */\n      isMyMessage: PropTypes.func,\n      /**\n       * Position of message in group - top, bottom, middle, single.\n       *\n       * Message group is a group of consecutive messages from same user. groupStyles can be used to style message as per their position in message group\n       * e.g., user avatar (to which message belongs to) is only showed for last (bottom) message in group.\n       */\n      groupStyles: PropTypes.array,\n      /** Boolean if current message is part of thread */\n      isThreadList: PropTypes.bool,\n      /** @see See [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n      openThread: PropTypes.func,\n      /** @see See [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n      client: PropTypes.object,\n      /** A list of users who have read the message */\n      readBy: PropTypes.array,\n      /**\n       * Force alignment of message to left or right - 'left' | 'right'\n       * By default, current user's messages will be aligned to right and other user's messages will be aligned to left.\n       * */\n      forceAlign: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n      showMessageStatus: PropTypes.bool,\n      /** Latest message id on current channel */\n      lastReceivedId: PropTypes.string,\n      /**\n       * Style object for actionsheet (used to message actions).\n       * Supported styles: https://github.com/beefe/react-native-actionsheet/blob/master/lib/styles.js\n       */\n      actionSheetStyles: PropTypes.object,\n      /**\n       * Custom UI component for attachment icon for type 'file' attachment.\n       * Defaults to: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileIcon.js\n       */\n      AttachmentFileIcon: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n    };\n\n    static defaultProps = {\n      reactionsEnabled: true,\n      repliesEnabled: true,\n      forceAlign: false,\n      showMessageStatus: true,\n    };\n\n    static themePath = 'message';\n\n    render() {\n      const {\n        message,\n        isMyMessage,\n        groupStyles,\n        forceAlign,\n        showMessageStatus,\n      } = this.props;\n\n      let pos;\n      if ((forceAlign && forceAlign === 'left') || forceAlign === 'right')\n        pos = forceAlign;\n      else pos = isMyMessage(message) ? 'right' : 'left';\n\n      const lastMessage = this.props.channel.state.messages[\n        this.props.channel.state.messages.length - 1\n      ];\n      const isVeryLastMessage = lastMessage\n        ? lastMessage.id === message.id\n        : false;\n      const hasMarginBottom =\n        groupStyles[0] === 'single' || groupStyles[0] === 'bottom'\n          ? true\n          : false;\n\n      if (message.type === 'system') {\n        return <MessageSystem message={message} />;\n      }\n\n      return (\n        <Container\n          alignment={pos}\n          hasMarginBottom={hasMarginBottom}\n          isVeryLastMessage={isVeryLastMessage}\n        >\n          {pos === 'right' ? (\n            <React.Fragment>\n              <MessageContent {...this.props} alignment={pos} />\n              <MessageAvatar {...this.props} />\n              {showMessageStatus && <MessageStatus {...this.props} />}\n            </React.Fragment>\n          ) : (\n            <React.Fragment>\n              <MessageAvatar {...this.props} />\n              <MessageContent {...this.props} alignment={pos} />\n            </React.Fragment>\n          )}\n        </Container>\n      );\n    }\n  },\n);\n\nexport { MessageStatus } from './MessageStatus';\nexport { MessageContent } from './MessageContent';\nexport { MessageAvatar } from './MessageAvatar';\nexport { MessageTextContainer } from './MessageTextContainer';\n","import React from 'react';\nimport { TouchableOpacity } from 'react-native';\nimport { Attachment } from './Attachment';\nimport { MessageSimple } from './MessageSimple';\nimport PropTypes from 'prop-types';\nimport deepequal from 'deep-equal';\nimport { withKeyboardContext } from '../context';\nimport { MESSAGE_ACTIONS } from '../utils';\n\n/**\n * Message - A high level component which implements all the logic required for a message.\n * The actual rendering of the message is delegated via the \"Message\" property\n *\n * @example ./docs/Message.md\n * @extends Component\n */\nconst Message = withKeyboardContext(\n  class Message extends React.Component {\n    static themePath = 'message';\n    static extraThemePaths = ['avatar'];\n    constructor(props) {\n      super(props);\n      this.state = {\n        loading: false,\n      };\n    }\n\n    static propTypes = {\n      /** The message object */\n      message: PropTypes.object.isRequired,\n      /** The client connection object for connecting to Stream */\n      client: PropTypes.object.isRequired,\n      /** The current channel this message is displayed in */\n      channel: PropTypes.object.isRequired,\n      /** A list of users that have read this message **/\n      readBy: PropTypes.array,\n      /** groupStyles, a list of styles to apply to this message. ie. top, bottom, single etc */\n      groupStyles: PropTypes.array,\n      /** Editing, if the message is currently being edited */\n      editing: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n      /**\n       * Message UI component to display a message in message list.\n       * Avaialble from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)\n       * */\n      Message: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      /**\n       * Attachment UI component to display attachment in individual message.\n       * Avaialble from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)\n       * */\n      Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      /**\n       * Array of allowed actions on message. e.g. ['edit', 'delete', 'mute', 'flag']\n       * If all the actions need to be disabled, empty array or false should be provided as value of prop.\n       * */\n      messageActions: PropTypes.oneOfType([PropTypes.bool, PropTypes.array]),\n      /** Latest message id on current channel */\n      lastReceivedId: PropTypes.string,\n      /** @see See [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n      setEditingState: PropTypes.func,\n      /** @see See [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n      updateMessage: PropTypes.func,\n      /** @see See [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n      removeMessage: PropTypes.func,\n      /** @see See [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n      retrySendMessage: PropTypes.func,\n      /** @see See [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n      openThread: PropTypes.func,\n      /** @see See [Keyboard Context](https://getstream.github.io/stream-chat-react-native/#keyboardcontext) */\n      dismissKeyboard: PropTypes.func,\n      /**\n       * Callback for onPress event on Message component\n       *\n       * @param e       Event object for onPress event\n       * @param message Message object which was pressed\n       *\n       * */\n      onMessageTouch: PropTypes.func,\n      /** Should keyboard be dismissed when messaged is touched */\n      dismissKeyboardOnMessageTouch: PropTypes.bool,\n    };\n\n    static defaultProps = {\n      Message: MessageSimple,\n      messageActions: Object.keys(MESSAGE_ACTIONS),\n      readBy: [],\n      groupStyles: [],\n      Attachment,\n      editing: false,\n      dismissKeyboardOnMessageTouch: true,\n    };\n\n    shouldComponentUpdate(nextProps) {\n      // since there are many messages its important to only rerender messages when needed.\n      let shouldUpdate = nextProps.message !== this.props.message;\n      // read state is the next most likely thing to change..\n      if (!shouldUpdate && !deepequal(nextProps.readBy, this.props.readBy)) {\n        shouldUpdate = true;\n      }\n      // group style often changes for the last 3 messages...\n      if (\n        !shouldUpdate &&\n        !deepequal(nextProps.groupStyles, this.props.groupStyles)\n      ) {\n        shouldUpdate = true;\n      }\n\n      // if lastreceivedId changesm, message should update.\n      if (\n        !shouldUpdate &&\n        !deepequal(nextProps.lastReceivedId, this.props.lastReceivedId)\n      ) {\n        shouldUpdate = true;\n      }\n\n      // editing is the last one which can trigger a change..\n      if (!shouldUpdate && nextProps.editing !== this.props.editing) {\n        shouldUpdate = true;\n      }\n\n      return shouldUpdate;\n    }\n\n    isMyMessage = (message) => this.props.client.user.id === message.user.id;\n    isAdmin = () => this.props.client.user.role === 'admin';\n\n    canEditMessage = () =>\n      this.isMyMessage(this.props.message) || this.isAdmin();\n\n    canDeleteMessage = () =>\n      this.isMyMessage(this.props.message) || this.isAdmin();\n\n    handleFlag = async (event) => {\n      event.preventDefault();\n\n      const message = this.props.message;\n      await this.props.client.flagMessage(message.id);\n    };\n\n    handleMute = async (event) => {\n      event.preventDefault();\n\n      const message = this.props.message;\n      await this.props.client.flagMessage(message.user.id);\n    };\n\n    handleEdit = () => {\n      this.props.setEditingState(this.props.message);\n    };\n\n    handleDelete = async () => {\n      const message = this.props.message;\n      const data = await this.props.client.deleteMessage(message.id);\n      this.props.updateMessage(data.message);\n    };\n\n    handleReaction = async (reactionType, event) => {\n      if (event !== undefined && event.preventDefault) {\n        event.preventDefault();\n      }\n\n      let userExistingReaction = null;\n\n      const currentUser = this.props.client.userID;\n      for (const reaction of this.props.message.own_reactions) {\n        // own user should only ever contain the current user id\n        // just in case we check to prevent bugs with message updates from breaking reactions\n        if (\n          currentUser === reaction.user.id &&\n          reaction.type === reactionType\n        ) {\n          userExistingReaction = reaction;\n        } else if (currentUser !== reaction.user.id) {\n          console.warn(\n            `message.own_reactions contained reactions from a different user, this indicates a bug`,\n          );\n        }\n      }\n\n      const originalMessage = this.props.message;\n      let reactionChangePromise;\n\n      /*\n    - Add the reaction to the local state\n    - Make the API call in the background\n    - If it fails, revert to the old message...\n    */\n      if (userExistingReaction) {\n        this.props.channel.state.removeReaction(userExistingReaction);\n\n        reactionChangePromise = this.props.channel.deleteReaction(\n          this.props.message.id,\n          userExistingReaction.type,\n        );\n      } else {\n        // add the reaction\n        const messageID = this.props.message.id;\n        const tmpReaction = {\n          message_id: messageID,\n          user: this.props.client.user,\n          type: reactionType,\n          created_at: new Date(),\n        };\n        const reaction = { type: reactionType };\n\n        this.props.channel.state.addReaction(tmpReaction);\n        reactionChangePromise = this.props.channel.sendReaction(\n          messageID,\n          reaction,\n        );\n      }\n\n      try {\n        // only wait for the API call after the state is updated\n        await reactionChangePromise;\n      } catch (e) {\n        // revert to the original message if the API call fails\n        this.props.updateMessage(originalMessage);\n      }\n    };\n\n    handleAction = async (name, value, event) => {\n      event.preventDefault();\n      const messageID = this.props.message.id;\n      const formData = {};\n      formData[name] = value;\n\n      const data = await this.props.channel.sendAction(messageID, formData);\n\n      if (data && data.message) {\n        this.props.updateMessage(data.message);\n      } else {\n        this.props.removeMessage(this.props.message);\n      }\n    };\n\n    handleRetry = async (message) => {\n      await this.props.retrySendMessage(message);\n    };\n\n    onMessageTouch = (e, message) => {\n      const {\n        onMessageTouch,\n        dismissKeyboardOnMessageTouch,\n        dismissKeyboard,\n      } = this.props;\n\n      if (onMessageTouch) onMessageTouch(e, message);\n      if (dismissKeyboardOnMessageTouch) dismissKeyboard();\n    };\n\n    getTotalReactionCount = () => {\n      const { emojiData } = this.props;\n      let count = null;\n      const reactionCounts = this.props.message.reaction_counts;\n\n      if (\n        reactionCounts !== null &&\n        reactionCounts !== undefined &&\n        Object.keys(reactionCounts).length > 0\n      ) {\n        count = 0;\n        Object.keys(reactionCounts).map((key) => {\n          if (emojiData.find((e) => e.id === key)) {\n            count += reactionCounts[key];\n          }\n\n          return count;\n        });\n      }\n      return count;\n    };\n\n    render() {\n      const message = this.props.message;\n\n      const actionsEnabled =\n        message.type === 'regular' && message.status === 'received';\n\n      const Component = this.props.Message;\n      const actionProps = {};\n\n      if (this.props.channel && this.props.channel.getConfig()) {\n        actionProps.reactionsEnabled = this.props.channel.getConfig().reactions;\n        actionProps.repliesEnabled = this.props.channel.getConfig().reactions;\n      }\n\n      return (\n        <TouchableOpacity\n          onPress={(e) => {\n            this.onMessageTouch(e, message);\n          }}\n          activeOpacity={1}\n        >\n          <Component\n            {...this.props}\n            {...actionProps}\n            client={this.props.client}\n            channel={this.props.channel}\n            actionsEnabled={actionsEnabled}\n            Message={this}\n            onMessageTouch={(e) => {\n              this.onMessageTouch(e, message);\n            }}\n            handleReaction={this.handleReaction}\n            getTotalReactionCount={this.getTotalReactionCount}\n            handleFlag={this.handleFlag}\n            handleMute={this.handleMute}\n            handleAction={this.handleAction}\n            handleRetry={this.handleRetry}\n            isMyMessage={this.isMyMessage}\n            isAdmin={this.isAdmin}\n            canEditMessage={this.canEditMessage}\n            canDeleteMessage={this.canDeleteMessage}\n            handleEdit={this.handleEdit}\n            handleDelete={this.handleDelete}\n            openThread={\n              this.props.openThread && this.props.openThread.bind(this, message)\n            }\n          />\n        </TouchableOpacity>\n      );\n    }\n  },\n);\n\nexport { Message };\n","import React, { PureComponent } from 'react';\nimport { Animated } from 'react-native';\nimport PropTypes from 'prop-types';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\nimport { withTranslationAndStatics } from '../utils';\n\nconst Container = styled.TouchableOpacity`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 27px;\n  width: 112px;\n  z-index: 10;\n  margin-bottom: 0;\n  border-radius: 13px;\n  background-color: ${({ theme }) => theme.colors.primary};\n  transform: translateY(9px);\n  ${({ theme }) => theme.messageList.messageNotification.container.css}\n`;\n\nconst MessageNotificationText = styled.Text`\n  color: white;\n  font-size: 12px;\n  font-weight: 600;\n  ${({ theme }) => theme.messageList.messageNotification.text.css}\n`;\n/**\n * @example ./docs/MessageNotification.md\n * @extends PureComponent\n */\nexport const MessageNotification = withTranslationAndStatics()(\n  themed(\n    class MessageNotification extends PureComponent {\n      static themePath = 'messageList.messageNotification';\n      constructor(props) {\n        super(props);\n        this.state = {\n          notificationOpacity: new Animated.Value(0),\n        };\n      }\n      static propTypes = {\n        /** If we should show the notification or not */\n        showNotification: PropTypes.bool,\n        /** Onclick handler */\n        onPress: PropTypes.func.isRequired,\n      };\n\n      static defaultProps = {\n        showNotification: true,\n      };\n\n      componentDidMount() {\n        Animated.timing(this.state.notificationOpacity, {\n          toValue: this.props.showNotification ? 1 : 0,\n          duration: 500,\n        }).start();\n      }\n\n      componentDidUpdate(prevProps) {\n        if (prevProps.showNotification !== this.props.showNotification) {\n          Animated.timing(this.state.notificationOpacity, {\n            toValue: this.props.showNotification ? 1 : 0,\n            duration: 500,\n          }).start();\n        }\n      }\n\n      render() {\n        if (!this.props.showNotification) {\n          return null;\n        } else {\n          return (\n            <Animated.View\n              style={{\n                position: 'absolute',\n                bottom: 0,\n                opacity: this.state.notificationOpacity,\n              }}\n            >\n              <Container onPress={this.props.onPress}>\n                <MessageNotificationText>\n                  {this.props.t('chat.notification.newMessages')}\n                </MessageNotificationText>\n              </Container>\n            </Animated.View>\n          );\n        }\n      }\n    },\n  ),\n);\n","import React from 'react';\nimport { View, FlatList, findNodeHandle } from 'react-native';\n\nimport { SuggestionsContext } from '../context';\n\nimport styled from '@stream-io/styled-components';\nimport PropTypes from 'prop-types';\n\nconst Wrapper = styled.TouchableOpacity`\n  position: absolute;\n  z-index: 90;\n  height: ${({ height }) => height};\n  width: 100%;\n  ${({ theme }) => theme.messageInput.suggestions.wrapper.css}\n`;\n\nconst Container = styled.View`\n  position: absolute;\n  bottom: 10;\n  background-color: white;\n  z-index: 100;\n  border-top-left-radius: 10;\n  border-top-right-radius: 10;\n  width: ${({ width }) => width};\n  margin-left: ${({ marginLeft }) => marginLeft};\n  shadow-color: #000;\n  shadow-opacity: 0.05;\n  shadow-offset: 0px -3px;\n  height: ${({ theme, length }) =>\n    Math.min(\n      length * theme.messageInput.suggestions.container.itemHeight,\n      theme.messageInput.suggestions.container.maxHeight,\n    )};\n  ${({ theme }) => theme.messageInput.suggestions.container.css};\n`;\n\nconst Title = styled.Text`\n  padding: 10px;\n  font-weight: bold;\n  height: ${({ theme }) => theme.messageInput.suggestions.container.itemHeight};\n  ${({ theme }) => theme.messageInput.suggestions.title.css};\n`;\n\nconst Separator = styled.View`\n  height: 0;\n  ${({ theme }) => theme.messageInput.suggestions.separator.css};\n`;\n\nconst SuggestionsItem = styled.TouchableOpacity`\n  justify-content: center;\n  height: ${({ theme }) => theme.messageInput.suggestions.container.itemHeight};\n  ${({ theme }) => theme.messageInput.suggestions.item.css};\n`;\n\nexport class SuggestionsProvider extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      suggestionsViewActive: false,\n      suggestionsBottomMargin: 0,\n      suggestionsLeftMargin: 0,\n      suggestions: {},\n      suggestionsWidth: 0,\n      suggestionsBackdropHeight: 0,\n      suggestionsTitle: '',\n      component: null,\n    };\n  }\n\n  openSuggestions = async (title, component) => {\n    const [inputBoxPosition, chatBoxPosition] = await Promise.all([\n      this.getInputBoxPosition(),\n      this.getChatBoxPosition(),\n    ]);\n\n    this.setState({\n      suggestionsBottomMargin: chatBoxPosition.height - inputBoxPosition.y,\n      suggestionsLeftMargin: inputBoxPosition.x,\n      suggestionsWidth: inputBoxPosition.width,\n      suggestionsViewActive: true,\n      suggestionsBackdropHeight: inputBoxPosition.y,\n      suggestionsTitle: title,\n      component,\n    });\n  };\n\n  updateSuggestions = (suggestions) => {\n    this.setState({\n      suggestions,\n    });\n  };\n\n  closeSuggestions = () => {\n    this.setState({\n      suggestionsViewActive: false,\n      suggestionsTitle: '',\n      component: null,\n    });\n  };\n\n  setInputBoxContainerRef = (o) => {\n    this.messageInputBox = o;\n  };\n\n  getInputBoxPosition = () =>\n    new Promise((resolve) => {\n      const nodeHandleRoot = findNodeHandle(this.rootView);\n      this.messageInputBox.measureLayout(\n        nodeHandleRoot,\n        (x, y, width, height) => {\n          resolve({ x, y, height, width });\n        },\n      );\n    });\n\n  getChatBoxPosition = () =>\n    new Promise((resolve) => {\n      const nodeHandleRoot = findNodeHandle(this.rootView);\n      this.rootView.measureLayout(nodeHandleRoot, (x, y, width, height) => {\n        resolve({ x, y, height, width });\n      });\n    });\n\n  setRootView = (o) => {\n    this.rootView = o;\n  };\n\n  getContext = () => ({\n    setInputBoxContainerRef: this.setInputBoxContainerRef,\n    openSuggestions: this.openSuggestions,\n    closeSuggestions: this.closeSuggestions,\n    updateSuggestions: this.updateSuggestions,\n  });\n\n  render() {\n    return (\n      <SuggestionsContext.Provider value={this.getContext()}>\n        {/** TODO: Support dynamic item view for different type of suggestions */}\n        <SuggestionsView\n          component={this.state.component}\n          suggestions={this.state.suggestions}\n          active={this.state.suggestionsViewActive}\n          marginBottom={this.state.suggestionsBottomMargin}\n          marginLeft={this.state.suggestionsLeftMargin}\n          width={this.state.suggestionsWidth}\n          backdropHeight={this.state.suggestionsBackdropHeight}\n          handleDismiss={this.closeSuggestions}\n          suggestionsTitle={this.state.suggestionsTitle}\n        />\n        <View\n          ref={this.setRootView}\n          collapsable={false}\n          style={{ height: '100%' }}\n        >\n          {this.props.children}\n        </View>\n      </SuggestionsContext.Provider>\n    );\n  }\n}\n\nclass SuggestionsView extends React.PureComponent {\n  constructor(props) {\n    super(props);\n  }\n\n  static propTypes = {\n    active: PropTypes.bool,\n    marginLeft: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    suggestions: PropTypes.object,\n    backdropHeight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    handleDismiss: PropTypes.func,\n    suggestionsTitle: PropTypes.string,\n  };\n  renderHeader = () => <SuggestionsHeader />;\n  renderItem = ({ item }) => {\n    const {\n      suggestions: { onSelect },\n      component: Component,\n    } = this.props;\n\n    return (\n      <SuggestionsItem\n        onPress={() => {\n          onSelect(item);\n        }}\n      >\n        <Component item={item} />\n      </SuggestionsItem>\n    );\n  };\n\n  render() {\n    const {\n      active,\n      marginLeft,\n      width,\n      suggestions: { data },\n      backdropHeight,\n      handleDismiss,\n      suggestionsTitle,\n    } = this.props;\n\n    if (!active) return null;\n    if (!data || data.length === 0) return null;\n    return (\n      <Wrapper height={backdropHeight} onPress={handleDismiss}>\n        <Container\n          width={width}\n          length={data.length + 1}\n          marginLeft={marginLeft}\n        >\n          <FlatList\n            ListHeaderComponent={<SuggestionsHeader title={suggestionsTitle} />}\n            ItemSeparatorComponent={SuggestionsSeparator}\n            data={data}\n            keyboardShouldPersistTaps=\"always\"\n            renderItem={this.renderItem}\n            keyExtractor={(item, index) => (item.name || item.id) + index}\n          />\n        </Container>\n      </Wrapper>\n    );\n  }\n}\n\nconst SuggestionsHeader = ({ title }) => <Title>{title}</Title>;\n\nconst SuggestionsSeparator = () => <Separator />;\n","const fail = () => {\n  throw Error(\n    'Native handler was not registered, you should import stream-chat-expo or stream-chat-react-native',\n  );\n};\nexport let NetInfo = {\n  fetch: fail,\n  addEventListener: fail,\n};\nexport let pickImage = fail;\nexport let pickDocument = fail;\n\nexport const registerNativeHandlers = (handlers) => {\n  if (handlers.NetInfo) {\n    NetInfo = handlers.NetInfo;\n  }\n\n  if (handlers.pickImage) {\n    pickImage = handlers.pickImage;\n  }\n\n  if (handlers.pickDocument) {\n    pickDocument = handlers.pickDocument;\n  }\n};\n","import React, { PureComponent } from 'react';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport { ChatContext } from '../context';\nimport { NetInfo } from '../native';\n\nimport { themed } from '../styles/theme';\n\nimport 'moment/locale/fr';\n\n/**\n * Chat - Wrapper component for Chat. The needs to be placed around any other chat components.\n * This Chat component provides the ChatContext to all other components.\n *\n * The ChatContext provides the following props:\n *\n * - client (the client connection)\n * - channels (the list of channels)\n * - setActiveChannel (a function to set the currently active channel)\n * - channel (the currently active channel)\n *\n * It also exposes the withChatContext HOC which you can use to consume the ChatContext\n *\n * @example ./docs/Chat.md\n * @extends PureComponent\n */\n\nexport const Chat = themed(\n  class Chat extends PureComponent {\n    static themePath = '';\n    static propTypes = {\n      /** The StreamChat client object */\n      client: PropTypes.object.isRequired,\n      /**\n       * Theme object\n       *\n       * @ref https://getstream.io/chat/react-native-chat/tutorial/#custom-styles\n       * */\n      style: PropTypes.object,\n      logger: PropTypes.func,\n      /** locale information for dates **/\n      locale: PropTypes.string,\n    };\n\n    static defaultProps = {\n      logger: () => {},\n    };\n\n    constructor(props) {\n      super(props);\n\n      this.state = {\n        // currently active channel\n        channel: {},\n        isOnline: true,\n        connectionRecovering: false,\n      };\n\n      this.unsubscribeNetInfo = null;\n      this.setConnectionListener();\n\n      this.props.client.on('connection.changed', (event) => {\n        if (this._unmounted) return;\n        this.setState({\n          isOnline: event.online,\n          connectionRecovering: !event.online,\n        });\n      });\n\n      this.props.client.on('connection.recovered', () => {\n        if (this._unmounted) return;\n        this.setState({ connectionRecovering: false });\n      });\n\n      this._unmounted = false;\n\n      if (props.locale) moment.locale(props.locale);\n    }\n\n    componentDidMount() {\n      this.props.logger('Chat component', 'componentDidMount', {\n        tags: ['lifecycle', 'chat'],\n        props: this.props,\n        state: this.state,\n      });\n    }\n\n    componentDidUpdate() {\n      this.props.logger('Chat component', 'componentDidUpdate', {\n        tags: ['lifecycle', 'chat'],\n        props: this.props,\n        state: this.state,\n      });\n    }\n\n    componentWillUnmount() {\n      this.props.logger('Chat component', 'componentWillUnmount', {\n        tags: ['lifecycle', 'chat'],\n        props: this.props,\n        state: this.state,\n      });\n\n      this._unmounted = true;\n      this.props.client.off('connection.recovered');\n      this.props.client.off('connection.changed');\n      this.props.client.off(this.handleEvent);\n      this.unsubscribeNetInfo && this.unsubscribeNetInfo();\n    }\n\n    notifyChatClient = (isConnected) => {\n      if (this.props.client != null && this.props.client.wsConnection != null) {\n        if (isConnected) {\n          this.props.client.wsConnection.onlineStatusChanged({\n            type: 'online',\n          });\n        } else {\n          this.props.client.wsConnection.onlineStatusChanged({\n            type: 'offline',\n          });\n        }\n      }\n    };\n\n    setConnectionListener = () => {\n      NetInfo.fetch().then((isConnected) => {\n        this.notifyChatClient(isConnected);\n      });\n      this.unsubscribeNetInfo = NetInfo.addEventListener((isConnected) => {\n        this.notifyChatClient(isConnected);\n      });\n    };\n\n    setActiveChannel = (channel) => {\n      this.props.logger('Chat component', 'setActiveChannel', {\n        tags: ['chat'],\n        props: this.props,\n        state: this.state,\n      });\n\n      if (this._unmounted) return;\n      this.setState(() => ({\n        channel,\n      }));\n    };\n\n    getContext = () => ({\n      client: this.props.client,\n      channel: this.state.channel,\n      setActiveChannel: this.setActiveChannel,\n      isOnline: this.state.isOnline,\n      connectionRecovering: this.state.connectionRecovering,\n      logger: this.props.logger,\n    });\n\n    render() {\n      this.props.logger('Chat component', 'Rerendering', {\n        props: this.props,\n        state: this.state,\n      });\n\n      return (\n        <ChatContext.Provider value={this.getContext()}>\n          {this.props.children}\n        </ChatContext.Provider>\n      );\n    }\n  },\n);\n","import React, { PureComponent } from 'react';\nimport { View, Text } from 'react-native';\nimport { ChannelContext } from '../context';\nimport { SuggestionsProvider } from './SuggestionsProvider';\n\nimport uuidv4 from 'uuid/v4';\nimport PropTypes from 'prop-types';\nimport Immutable from 'seamless-immutable';\nimport debounce from 'lodash/debounce';\nimport throttle from 'lodash/throttle';\nimport { emojiData, withTranslationAndStatics } from '../utils';\n\nimport { LoadingIndicator } from './LoadingIndicator';\nimport { LoadingErrorIndicator } from './LoadingErrorIndicator';\nimport { EmptyStateIndicator } from './EmptyStateIndicator';\nimport { KeyboardCompatibleView } from './KeyboardCompatibleView';\nimport { logChatPromiseExecution } from 'stream-chat';\n\n/**\n * This component is not really exposed externally, and is only supposed to be used with\n * 'Channel' component (which is actually exposed to customers).\n */\nexport const ChannelInner = withTranslationAndStatics()(\n  class ChannelInner extends PureComponent {\n    constructor(props) {\n      super(props);\n      this.state = {\n        error: false,\n        // Loading the intial content of the channel\n        loading: true,\n        // Loading more messages\n        loadingMore: false,\n        hasMore: true,\n        messages: Immutable([]),\n        online: props.isOnline,\n        typing: Immutable({}),\n        watchers: Immutable({}),\n        members: Immutable({}),\n        read: Immutable({}),\n        thread: props.thread,\n        threadMessages: [],\n        threadLoadingMore: false,\n        threadHasMore: true,\n        kavEnabled: true,\n        /** We save the events in state so that we can display event message\n         * next to the message after which it was received, in MessageList.\n         *\n         * e.g., eventHistory = {\n         *   message_id_1: [\n         *     { ...event_obj_received_after_message_id_1__1 },\n         *     { ...event_obj_received_after_message_id_1__2 },\n         *     { ...event_obj_received_after_message_id_1__3 },\n         *   ],\n         *   message_id_2: [\n         *     { ...event_obj_received_after_message_id_2__1 },\n         *     { ...event_obj_received_after_message_id_2__2 },\n         *     { ...event_obj_received_after_message_id_2__3 },\n         *   ]\n         * }\n         */\n        eventHistory: {},\n      };\n\n      // hard limit to prevent you from scrolling faster than 1 page per 2 seconds\n      this._loadMoreFinishedDebounced = debounce(this.loadMoreFinished, 2000, {\n        leading: true,\n        trailing: true,\n      });\n\n      this._loadMoreThrottled = throttle(this.loadMore, 2000, {\n        leading: true,\n        trailing: true,\n      });\n\n      // hard limit to prevent you from scrolling faster than 1 page per 2 seconds\n      this._loadMoreThreadFinishedDebounced = debounce(\n        this.loadMoreThreadFinished,\n        2000,\n        {\n          leading: true,\n          trailing: true,\n        },\n      );\n\n      this._setStateThrottled = throttle(this.setState, 500, {\n        leading: true,\n        trailing: true,\n      });\n\n      this._markReadThrottled = throttle(this.markRead, 500, {\n        leading: true,\n        trailing: true,\n      });\n\n      this.props.logger('Channel component', 'Constructor', {\n        props: this.props,\n        state: this.state,\n      });\n    }\n\n    static propTypes = {\n      /** Which channel to connect to */\n      channel: PropTypes.shape({\n        watch: PropTypes.func,\n      }).isRequired,\n      /** Client is passed via the Chat Context */\n      client: PropTypes.object.isRequired,\n      /** The loading indicator to use */\n      LoadingIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /** The indicator to use when there is error  */\n      LoadingErrorIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /** The indicator to use when message list is empty */\n      EmptyStateIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      isOnline: PropTypes.bool,\n      Message: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    };\n\n    static defaultProps = {\n      LoadingIndicator,\n      LoadingErrorIndicator,\n      EmptyStateIndicator,\n      emojiData,\n      logger: () => {},\n    };\n\n    componentDidUpdate(prevProps) {\n      this.props.logger('Channel component', 'componentDidUpdate', {\n        tags: ['lifecycle', 'channel'],\n        props: this.props,\n        state: this.state,\n      });\n\n      if (this.props.isOnline !== prevProps.isOnline) {\n        if (this._unmounted) return;\n        this.setState({ online: this.props.isOnline });\n      }\n    }\n\n    async componentDidMount() {\n      this.props.logger('Channel component', 'componentDidMount', {\n        tags: ['lifecycle', 'channel'],\n        props: this.props,\n        state: this.state,\n      });\n\n      const channel = this.props.channel;\n      let errored = false;\n      if (!channel.initialized) {\n        try {\n          await channel.watch();\n        } catch (e) {\n          if (this._unmounted) return;\n          this.setState({ error: e });\n          errored = true;\n        }\n      }\n\n      this.lastRead = new Date();\n      if (!errored) {\n        this.copyChannelState();\n        this.listenToChanges();\n      }\n    }\n\n    componentWillUnmount() {\n      this.props.logger('Channel component', 'componentWillUnmount', {\n        tags: ['lifecycle', 'channel'],\n        props: this.props,\n        state: this.state,\n      });\n\n      this.props.channel.off(this.handleEvent);\n      this.props.client.off('connection.recovered', this.handleEvent);\n\n      this._loadMoreFinishedDebounced.cancel();\n      this._loadMoreThreadFinishedDebounced.cancel();\n      this._setStateThrottled.cancel();\n      this._unmounted = true;\n    }\n\n    copyChannelState() {\n      const channel = this.props.channel;\n\n      if (this._unmounted) return;\n      this.setState({\n        messages: channel.state.messages,\n        read: channel.state.read,\n        watchers: channel.state.watchers,\n        members: channel.state.members,\n        watcher_count: channel.state.watcher_count,\n        loading: false,\n        typing: Immutable({}),\n      });\n\n      if (channel.countUnread() > 0) this.markRead();\n    }\n\n    markRead = () => {\n      if (!this.props.channel.getConfig().read_events) {\n        return;\n      }\n      logChatPromiseExecution(this.props.channel.markRead(), 'mark read');\n    };\n\n    listenToChanges() {\n      // The more complex sync logic is done in chat.js\n      // listen to client.connection.recovered and all channel events\n      this.props.client.on('connection.recovered', this.handleEvent);\n      const channel = this.props.channel;\n      channel.on(this.handleEvent);\n    }\n\n    openThread = (message) => {\n      const channel = this.props.channel;\n      const threadMessages = channel.state.threads[message.id] || [];\n\n      if (this._unmounted) return;\n      this.setState({\n        thread: message,\n        threadMessages,\n      });\n    };\n\n    loadMoreThread = async () => {\n      // prevent duplicate loading events...\n      if (this.state.threadLoadingMore) return;\n      if (this._unmounted) return;\n      this.setState({\n        threadLoadingMore: true,\n      });\n      const channel = this.props.channel;\n      const parentID = this.state.thread.id;\n      const oldMessages = channel.state.threads[parentID] || [];\n      const oldestMessageID = oldMessages[0] ? oldMessages[0].id : null;\n      const limit = 50;\n      const queryResponse = await channel.getReplies(parentID, {\n        limit,\n        id_lt: oldestMessageID,\n      });\n      const hasMore = queryResponse.messages.length === limit;\n\n      const threadMessages = channel.state.threads[parentID] || [];\n\n      // next set loadingMore to false so we can start asking for more data...\n      this._loadMoreThreadFinishedDebounced(hasMore, threadMessages);\n    };\n\n    loadMoreThreadFinished = (threadHasMore, threadMessages) => {\n      if (this._unmounted) return;\n      this.setState({\n        threadLoadingMore: false,\n        threadHasMore,\n        threadMessages,\n      });\n    };\n\n    closeThread = () => {\n      if (this._unmounted) return;\n      this.setState({\n        thread: null,\n        threadMessages: [],\n      });\n    };\n\n    setEditingState = (message) => {\n      if (this._unmounted) return;\n      this.setState({\n        editing: message,\n      });\n    };\n\n    updateMessage = (updatedMessage, extraState) => {\n      const channel = this.props.channel;\n\n      extraState = extraState || {};\n\n      // adds the message to the local channel state..\n      // this adds to both the main channel state as well as any reply threads\n      channel.state.addMessageSorted(updatedMessage);\n\n      // update the Channel component state\n      if (this.state.thread && updatedMessage.parent_id) {\n        extraState.threadMessages =\n          channel.state.threads[updatedMessage.parent_id] || [];\n      }\n      if (this._unmounted) return;\n      this.setState({ messages: channel.state.messages, ...extraState });\n    };\n\n    clearEditingState = () => {\n      if (this._unmounted) return;\n      this.setState({\n        editing: false,\n      });\n    };\n    removeMessage = (message) => {\n      const channel = this.props.channel;\n      channel.state.removeMessage(message);\n      if (this._unmounted) return;\n      this.setState({ messages: channel.state.messages });\n    };\n\n    removeEphemeralMessages() {\n      const c = this.props.channel;\n      c.state.selectRegularMessages();\n      if (this._unmounted) return;\n      this.setState({ messages: c.state.messages });\n    }\n\n    createMessagePreview = (\n      text,\n      attachments,\n      parent,\n      mentioned_users,\n      extraFields,\n    ) => {\n      // create a preview of the message\n      const clientSideID = `${this.props.client.userID}-` + uuidv4();\n      const message = {\n        text,\n        html: text,\n        __html: text,\n        //id: tmpID,\n        id: clientSideID,\n        type: 'regular',\n        status: 'sending',\n        user: {\n          id: this.props.client.userID,\n          ...this.props.client.user,\n        },\n        created_at: new Date(),\n        attachments,\n        mentioned_users,\n        reactions: [],\n        ...extraFields,\n      };\n\n      if (parent && parent.id) {\n        message.parent_id = parent.id;\n      }\n      return message;\n    };\n\n    _sendMessage = async (message) => {\n      // Scrape the reserved fields if present.\n      const {\n        text,\n        attachments,\n        id,\n        parent_id,\n        mentioned_users,\n        html,\n        __html,\n        type,\n        status,\n        user,\n        created_at,\n        reactions,\n        ...extraFields\n      } = message;\n\n      const messageData = {\n        text,\n        attachments,\n        id,\n        parent_id,\n        mentioned_users,\n        ...extraFields,\n      };\n\n      try {\n        const messageResponse = await this.props.channel.sendMessage(\n          messageData,\n        );\n        // replace it after send is completed\n        if (messageResponse.message) {\n          messageResponse.message.status = 'received';\n          this.updateMessage(messageResponse.message);\n        }\n      } catch (error) {\n        console.log(error);\n        // set the message to failed..\n        message.status = 'failed';\n        this.updateMessage(message);\n      }\n    };\n\n    sendMessage = async ({\n      text,\n      attachments = [],\n      parent,\n      mentioned_users,\n      ...extraFields\n    }) => {\n      // remove error messages upon submit\n      this.props.channel.state.filterErrorMessages();\n\n      // create a local preview message to show in the UI\n      const messagePreview = this.createMessagePreview(\n        text,\n        attachments,\n        parent,\n        mentioned_users,\n        extraFields,\n      );\n\n      // first we add the message to the UI\n      this.updateMessage(messagePreview, {\n        messageInput: '',\n        commands: [],\n        userAutocomplete: [],\n      });\n\n      await this._sendMessage(messagePreview);\n    };\n\n    retrySendMessage = async (message) => {\n      // set the message status to sending\n      message = message.asMutable();\n      message.status = 'sending';\n      this.updateMessage(message);\n      // actually try to send the message...\n      await this._sendMessage(message);\n    };\n\n    handleEvent = (e) => {\n      const { channel } = this.props;\n      let threadMessages = [];\n      const threadState = {};\n      if (this.state.thread) {\n        threadMessages = channel.state.threads[this.state.thread.id] || [];\n        threadState['threadMessages'] = threadMessages;\n      }\n\n      if (\n        this.state.thread &&\n        e.message &&\n        e.message.id === this.state.thread.id\n      ) {\n        threadState['thread'] = channel.state.messageToImmutable(e.message);\n      }\n\n      if (Object.keys(threadState).length > 0) {\n        // TODO: in theory we should do 1 setState call not 2,\n        // However the setStateThrottled doesn't support this\n        if (this._unmounted) return;\n        this.setState(threadState);\n      }\n\n      if (e.type === 'member.added') {\n        this.addToEventHistory(e);\n      }\n\n      if (e.type === 'member.removed') {\n        this.addToEventHistory(e);\n      }\n      this._setStateThrottled({\n        messages: channel.state.messages,\n        watchers: channel.state.watchers,\n        read: channel.state.read,\n        typing: channel.state.typing,\n        watcher_count: channel.state.watcher_count,\n      });\n    };\n\n    addToEventHistory = (e) => {\n      this.setState((prevState) => {\n        const lastMessageId =\n          prevState.messages.length > 0\n            ? prevState.messages[prevState.messages.length - 1].id\n            : 'none';\n\n        if (!prevState.eventHistory[lastMessageId])\n          return {\n            ...prevState,\n            eventHistory: {\n              ...prevState.eventHistory,\n              [lastMessageId]: [e],\n            },\n          };\n\n        return {\n          ...prevState,\n          eventHistory: {\n            ...prevState.eventHistory,\n            [lastMessageId]: [...prevState.eventHistory[lastMessageId], e],\n          },\n        };\n      });\n    };\n\n    loadMore = async () => {\n      // prevent duplicate loading events...\n      if (this.state.loadingMore || !this.state.hasMore) return;\n      if (this._unmounted) return;\n      this.setState({ loadingMore: true });\n\n      if (!this.state.messages.length === 0) {\n        this.setState({\n          loadingMore: false,\n        });\n\n        return;\n      }\n\n      const oldestMessage = this.state.messages[0]\n        ? this.state.messages[0]\n        : null;\n\n      if (oldestMessage && oldestMessage.status !== 'received') {\n        this.setState({\n          loadingMore: false,\n        });\n\n        return;\n      }\n\n      const oldestID = oldestMessage ? oldestMessage.id : null;\n      const perPage = 100;\n      let queryResponse;\n      this.props.logger('Channel Component', 'Requerying the messages', {\n        props: this.props,\n        state: this.state,\n        limit: perPage,\n        id_lt: oldestID,\n      });\n      try {\n        queryResponse = await this.props.channel.query({\n          messages: { limit: perPage, id_lt: oldestID },\n        });\n      } catch (e) {\n        console.warn('message pagination request failed with error', e);\n        if (this._unmounted) return;\n        this.setState({ loadingMore: false });\n        return;\n      }\n      const hasMore = queryResponse.messages.length === perPage;\n\n      this._loadMoreFinishedDebounced(\n        hasMore,\n        this.props.channel.state.messages,\n      );\n    };\n\n    loadMoreFinished = (hasMore, messages) => {\n      if (this._unmounted) return;\n      this.setState({\n        loadingMore: false,\n        hasMore,\n        messages,\n      });\n    };\n\n    getContext = () => ({\n      ...this.state,\n      client: this.props.client,\n      channel: this.props.channel,\n      Message: this.props.Message,\n      Attachment: this.props.Attachment,\n      updateMessage: this.updateMessage,\n      removeMessage: this.removeMessage,\n      sendMessage: this.sendMessage,\n      retrySendMessage: this.retrySendMessage,\n      setEditingState: this.setEditingState,\n      clearEditingState: this.clearEditingState,\n      EmptyStateIndicator: this.props.EmptyStateIndicator,\n      markRead: this._markReadThrottled,\n      loadMore: this._loadMoreThrottled,\n      // thread related\n      openThread: this.openThread,\n      closeThread: this.closeThread,\n      loadMoreThread: this.loadMoreThread,\n      emojiData: this.props.emojiData,\n    });\n\n    renderComponent = () => this.props.children;\n\n    renderLoading = () => {\n      const Indicator = this.props.LoadingIndicator;\n      return <Indicator listType=\"message\" />;\n    };\n\n    renderLoadingError = () => {\n      const Indicator = this.props.LoadingErrorIndicator;\n      return <Indicator error={this.state.error} listType=\"message\" />;\n    };\n\n    render() {\n      let core;\n\n      if (this.state.error) {\n        this.props.logger(\n          'Channel component',\n          'Error loading channel - rendering error indicator',\n          {\n            tags: ['error', 'channelComponent'],\n            props: this.props,\n            state: this.state,\n            error: this.state.error,\n          },\n        );\n\n        core = this.renderLoadingError();\n      } else if (this.state.loading) {\n        core = this.renderLoading();\n      } else if (!this.props.channel || !this.props.channel.watch) {\n        core = (\n          <View>\n            <Text>{this.props.t('chat.channel.missing')}</Text>\n          </View>\n        );\n      } else {\n        core = (\n          <KeyboardCompatibleView>\n            <ChannelContext.Provider value={this.getContext()}>\n              <SuggestionsProvider\n                handleKeyboardAvoidingViewEnabled={(trueOrFalse) => {\n                  if (this._unmounted) return;\n                  this.setState({ kavEnabled: trueOrFalse });\n                }}\n              >\n                {this.renderComponent()}\n              </SuggestionsProvider>\n            </ChannelContext.Provider>\n          </KeyboardCompatibleView>\n        );\n      }\n\n      return <View>{core}</View>;\n    }\n  },\n);\n","import React, { PureComponent } from 'react';\nimport { withChatContext } from '../context';\nimport { Text } from 'react-native';\n\n// import { LoadingIndicator } from './LoadingIndicator';\n\nimport PropTypes from 'prop-types';\n\n// import { MessageSimple } from './MessageSimple';\n// import { Attachment } from './Attachment';\nimport { ChannelInner } from './ChannelInner';\nimport { withTranslationAndStatics } from '../utils';\n\n/**\n * Channel - Wrapper component for a channel. It needs to be place inside of the Chat component.\n * ChannelHeader, MessageList, Thread and MessageInput should be used as children of the Channel component.\n *\n * @example ./docs/Channel.md\n * @extends PureComponent\n */\nconst Channel = withTranslationAndStatics()(\n  withChatContext(\n    class Channel extends PureComponent {\n      constructor(props) {\n        super(props);\n        this.state = { error: false };\n      }\n      static propTypes = {\n        /** Which channel to connect to */\n        channel: PropTypes.shape({\n          watch: PropTypes.func,\n        }).isRequired,\n        /** Client is passed via the Chat Context */\n        client: PropTypes.object.isRequired,\n        isOnline: PropTypes.bool,\n        /**\n         * Loading indicator UI component. This will be shown on the screen until the messages are\n         * being queried from channel. Once the messages are loaded, loading indicator is removed from the screen\n         * and replaced with children of the Channel component.\n         *\n         * Defaults to and accepts same props as: [LoadingIndicator](https://getstream.github.io/stream-chat-react-native/#loadingindicator)\n         */\n        LoadingIndicator: PropTypes.oneOfType([\n          PropTypes.node,\n          PropTypes.elementType,\n        ]),\n        /**\n         * Error indicator UI component. This will be shown on the screen if channel query fails.\n         *\n         * Defaults to and accepts same props as: [LoadingErrorIndicator](https://getstream.github.io/stream-chat-react-native/#loadingerrorindicator)\n         *\n         * */\n        LoadingErrorIndicator: PropTypes.oneOfType([\n          PropTypes.node,\n          PropTypes.elementType,\n        ]),\n        /**\n         * Empty state indicator UI component. This will be shown on the screen if channel has no messages.\n         *\n         * Defaults to and accepts same props as: [EmptyStateIndicator](https://getstream.github.io/stream-chat-react-native/#emptystateindicator)\n         *\n         * */\n        EmptyStateIndicator: PropTypes.oneOfType([\n          PropTypes.node,\n          PropTypes.elementType,\n        ]),\n        /**\n         * Message UI component to display a message in message list.\n         *\n         * Available built-in component (also accepts the same props as): [MessageSimple](https://getstream.github.io/stream-chat-react-native/#messagesimple)\n         *\n         * */\n        Message: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n        /**\n         * Attachment UI component to display attachment in individual message.\n         *\n         * Available built-in component (also accepts the same props as): [Attachment](https://getstream.github.io/stream-chat-react-native/#attachment)\n         * */\n        Attachment: PropTypes.oneOfType([\n          PropTypes.node,\n          PropTypes.elementType,\n        ]),\n      };\n\n      static defaultProps = {\n        // LoadingIndicator,\n        // Message: MessageSimple,\n        // Attachment,\n      };\n\n      render() {\n        if (!this.props.channel.cid) {\n          return <Text>{this.props.t('chat.channel.noChannelSelected')}</Text>;\n        }\n\n        return <ChannelInner {...this.props} />;\n      }\n    },\n  ),\n);\n\nexport { Channel };\n","import React from 'react';\n\nimport { Avatar } from './Avatar';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\nimport { withTranslationAndStatics } from '../utils';\n\nconst TypingText = styled.Text`\n  margin-left: 10px;\n  font-size: ${({ theme }) => theme.typingIndicator.text.fontSize}px;\n  color: ${({ theme }) => theme.typingIndicator.text.color};\n  ${({ theme }) => theme.typingIndicator.text.css};\n`;\n\nconst Container = styled.View`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n`;\n\nconst TypingIndicator = withTranslationAndStatics()(\n  themed(\n    class TypingIndicator extends React.PureComponent {\n      static themePath = 'typingIndicator';\n      constructTypingString = (dict) => {\n        const arr2 = Object.keys(dict);\n        const arr3 = [];\n        arr2.forEach((item, i) => {\n          if (this.props.client.user.id === dict[arr2[i]].user.id) {\n            return;\n          }\n          arr3.push(dict[arr2[i]].user.name || dict[arr2[i]].user.id);\n        });\n        let outStr = '';\n        if (arr3.length === 1) {\n          outStr = this.props.t('chat.messageInput.isTyping', {\n            usernames: arr3[0],\n            count: 1,\n          });\n          dict;\n        } else if (arr3.length === 2) {\n          //joins all with \"and\" but =no commas\n          //example: \"bob and sam\"\n          outStr = this.props.t('chat.messageInput.isTyping', {\n            count: arr3.length,\n            usernames: arr3.join(' ' + this.props.t('and') + ' '),\n          });\n        } else if (arr3.length > 2) {\n          //joins all with commas, but last one gets \", and\" (oxford comma!)\n          //example: \"bob, joe, and sam\"\n          outStr = this.props.t('chat.messageInput.isTyping', {\n            count: arr3.length,\n            usernames:\n              arr3.slice(0, -1).join(', ') + ', ' + this.props.t('chat.and'),\n          });\n        }\n\n        return outStr;\n      };\n\n      render() {\n        const typing = Object.values(this.props.typing);\n\n        return (\n          <Container>\n            {typing\n              .filter(({ user }) => user.id !== this.props.client.user.id)\n              .map(({ user }, idx) => (\n                <Avatar\n                  image={user.image}\n                  size={24}\n                  name={user.name || user.id}\n                  key={user.id + idx}\n                />\n              ))}\n            <TypingText>\n              {this.constructTypingString(this.props.typing)}\n            </TypingText>\n          </Container>\n        );\n      }\n    },\n  ),\n);\n\nexport { TypingIndicator };\n","import React, { PureComponent } from 'react';\nimport { View, TouchableOpacity } from 'react-native';\nimport { withChannelContext } from '../context';\nimport styled from '@stream-io/styled-components';\nimport PropTypes from 'prop-types';\nimport uuidv4 from 'uuid/v4';\n\nimport { Message } from './Message';\nimport { EventIndicator } from './EventIndicator';\nimport { MessageNotification } from './MessageNotification';\nimport { DateSeparator } from './DateSeparator';\nimport { TypingIndicator } from './TypingIndicator';\nimport { withTranslationAndStatics } from '../utils';\n\nconst ListContainer = styled.FlatList`\n  flex: 1;\n  width: 100%;\n  padding-left: 10px;\n  padding-right: 10px;\n  ${({ theme }) => theme.messageList.listContainer.css}\n`;\n\nconst ErrorNotificationText = styled.Text`\n  color: red;\n  background-color: #fae6e8;\n  ${({ theme }) => theme.messageList.errorNotificationText.css}\n`;\n\nconst ErrorNotification = styled.View`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  z-index: 10;\n  margin-bottom: 0;\n  padding: 5px;\n  color: red;\n  background-color: #fae6e8;\n  ${({ theme }) => theme.messageList.errorNotification.css}\n`;\n\nconst TypingIndicatorContainer = styled.View`\n  position: absolute;\n  bottom: 0;\n  height: 30px;\n  width: 100%;\n  padding-left: 16px;\n  padding-top: 3px;\n  padding-bottom: 3px;\n  ${({ theme }) => theme.messageList.typingIndicatorContainer.css}\n`;\n\n/**\n * MessageList - The message list component renders a list of messages.\n * Its a consumer of [Channel Context](https://getstream.github.io/stream-chat-react-native/#channel)\n *\n * @example ./docs/MessageList.md\n * @extends PureComponent\n */\nconst MessageList = withTranslationAndStatics()(\n  withChannelContext(\n    class MessageList extends PureComponent {\n      constructor(props) {\n        super(props);\n\n        this.state = {\n          newMessagesNotification: false,\n          online: props.online,\n        };\n        this.yOffset = 0;\n      }\n\n      static propTypes = {\n        /** Turn off grouping of messages by user */\n        noGroupByUser: PropTypes.bool,\n        /**\n         * Array of allowed actions on message. e.g. ['edit', 'delete', 'mute', 'flag']\n         * If all the actions need to be disabled, empty array or false should be provided as value of prop.\n         * */\n        messageActions: PropTypes.oneOfType([PropTypes.bool, PropTypes.array]),\n        /**\n         * Boolean weather current message list is a thread.\n         */\n        threadList: PropTypes.bool,\n        /** **Available from [chat context](https://getstream.github.io/stream-chat-react-native/#chatcontext)** */\n        client: PropTypes.object,\n        /** **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)** */\n        Attachment: PropTypes.oneOfType([\n          PropTypes.node,\n          PropTypes.elementType,\n        ]),\n        /**\n         * Custom UI component for attachment icon for type 'file' attachment.\n         * Defaults to: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileIcon.js\n         */\n        AttachmentFileIcon: PropTypes.oneOfType([\n          PropTypes.node,\n          PropTypes.elementType,\n        ]),\n        /** **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)** */\n        Message: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n        /** **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)** */\n        messages: PropTypes.array.isRequired,\n        /** **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)** */\n        read: PropTypes.object,\n        /** **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)** */\n        typing: PropTypes.object,\n        /** Network status */\n        online: PropTypes.bool,\n        disableWhileEditing: PropTypes.bool,\n        /**\n         * For flatlist\n         * @see See loeadMoreThreshold [doc](https://facebook.github.io/react-native/docs/flatlist#onendreachedthreshold)\n         * */\n        loadMoreThreshold: PropTypes.number,\n        /**\n         * Callback for onPress event on Message component\n         *\n         * @param e       Event object for onPress event\n         * @param message Message object which was pressed\n         *\n         * */\n        onMessageTouch: PropTypes.func,\n        /** Should keyboard be dismissed when messaged is touched */\n        dismissKeyboardOnMessageTouch: PropTypes.bool,\n        eventHistory: PropTypes.object,\n        /** Helper function to mark current channel as read. */\n        markRead: PropTypes.func,\n        /**\n         * Handler to open the thread on message. This is callback for touch event for replies button.\n         *\n         * @param message A message object to open the thread upon.\n         * */\n        onThreadSelect: PropTypes.func,\n        /**\n         *  This method gets called when user selects edit action on some message. On code level it just sets `editing` property in state to message being edited\n         *\n         * @param message A [message object](https://getstream.io/chat/docs/#message_format) which is being edited\n         */\n        setEditingState: PropTypes.func,\n        /** Function to clear the editing state. */\n        clearEditingState: PropTypes.func,\n        /**\n         * A message object which is currently in edit state.\n         */\n        editing: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n        loadMore: PropTypes.func,\n        /**\n         * Typing indicator UI component to render\n         *\n         * Defaults to and accepts same props as: [TypingIndicator](https://getstream.github.io/stream-chat-react-native/#typingindicator)\n         * */\n        TypingIndicator: PropTypes.oneOfType([\n          PropTypes.node,\n          PropTypes.elementType,\n        ]),\n        /**\n         * @deprecated User DateSeperator instead.\n         * Date separator UI component to render\n         *\n         * Defaults to and accepts same props as: [DateSeparator](https://getstream.github.io/stream-chat-react-native/#dateseparator)\n         * */\n        dateSeparator: PropTypes.oneOfType([\n          PropTypes.node,\n          PropTypes.elementType,\n        ]),\n        /**\n         * Date separator UI component to render\n         *\n         * Defaults to and accepts same props as: [DateSeparator](https://getstream.github.io/stream-chat-react-native/#dateseparator)\n         * */\n        DateSeparator: PropTypes.oneOfType([\n          PropTypes.node,\n          PropTypes.elementType,\n        ]),\n        /**\n         * @deprecated User EventIndicator instead.\n         *\n         * UI Component to display following events in messagelist\n         *\n         * 1. member.added\n         * 2. member.removed\n         *\n         * Defaults to and accepts same props as: [EventIndicator](https://getstream.github.io/stream-chat-react-native/#eventindicator)\n         * */\n        eventIndicator: PropTypes.oneOfType([\n          PropTypes.node,\n          PropTypes.elementType,\n        ]),\n        /**\n         * UI Component to display following events in messagelist\n         *\n         * 1. member.added\n         * 2. member.removed\n         *\n         * Defaults to and accepts same props as: [EventIndicator](https://getstream.github.io/stream-chat-react-native/#eventindicator)\n         * */\n        EventIndicator: PropTypes.oneOfType([\n          PropTypes.node,\n          PropTypes.elementType,\n        ]),\n\n        /** UI component for empty message list */\n        EmptyStateIndicator: PropTypes.oneOfType([\n          PropTypes.node,\n          PropTypes.elementType,\n        ]),\n        /**\n         * @deprecated Use HeaderComponent instead.\n         *\n         * UI component for header of message list.\n         */\n        headerComponent: PropTypes.oneOfType([\n          PropTypes.node,\n          PropTypes.elementType,\n        ]),\n        /**\n         * UI component for header of message list. By default message list doesn't have any header.\n         * This is basically a [ListFooterComponent](https://facebook.github.io/react-native/docs/flatlist#listheadercomponent) of FlatList\n         * used in MessageList. Its footer instead of header, since message list is inverted.\n         *\n         */\n        HeaderComponent: PropTypes.oneOfType([\n          PropTypes.node,\n          PropTypes.elementType,\n        ]),\n        /**\n         * Style object for actionsheet (used to message actions).\n         * Supported styles: https://github.com/beefe/react-native-actionsheet/blob/master/lib/styles.js\n         */\n        actionSheetStyles: PropTypes.object,\n        /**\n         * Besides existing (default) UX behaviour of underlying flatlist of MessageList component, if you want\n         * to attach some additional props to un derlying flatlist, you can add it to following prop.\n         *\n         * You can find list of all the available FlatList props here - https://facebook.github.io/react-native/docs/flatlist#props\n         *\n         * e.g.\n         * ```\n         * <MessageList\n         *  additionalFlatListProps={{ bounces: true, keyboardDismissMode: true }} />\n         * ```\n         */\n        additionalFlatListProps: PropTypes.object,\n      };\n\n      static defaultProps = {\n        DateSeparator,\n        EventIndicator,\n        disableWhileEditing: true,\n        // https://github.com/facebook/react-native/blob/a7a7970e543959e9db5281914d5f132beb01db8d/Libraries/Lists/VirtualizedList.js#L466\n        loadMoreThreshold: 2,\n        messageGrouping: true,\n        additionalFlatListProps: {},\n        dismissKeyboardOnMessageTouch: true,\n        TypingIndicator,\n      };\n\n      componentDidUpdate(prevProps) {\n        if (this.props.online !== prevProps.online) {\n          this.setState({ online: this.props.online });\n        }\n\n        // handle new messages being sent/received\n        const currentLastMessage = this.props.messages[\n          this.props.messages.length - 1\n        ];\n        const previousLastMessage =\n          prevProps.messages[prevProps.messages.length - 1];\n        if (!previousLastMessage || !currentLastMessage) {\n          return;\n        }\n\n        const hasNewMessage = currentLastMessage.id !== previousLastMessage.id;\n        const userScrolledUp = this.yOffset > 0;\n        const isOwner = currentLastMessage.user.id === this.props.client.userID;\n\n        let scrollToBottom = false;\n\n        // always scroll down when it's your own message that you added...\n        if (hasNewMessage && isOwner) {\n          scrollToBottom = true;\n        } else if (hasNewMessage && !userScrolledUp) {\n          scrollToBottom = true;\n        }\n\n        // Check the scroll position... if you're scrolled up show a little notification\n        if (\n          !scrollToBottom &&\n          hasNewMessage &&\n          !this.state.newMessagesNotification\n        ) {\n          this.setState({ newMessagesNotification: true });\n        }\n\n        if (scrollToBottom) {\n          this.flatList.scrollToIndex({ index: 0 });\n        }\n\n        // remove the scroll notification if we already scrolled down...\n        if (scrollToBottom && this.state.newMessagesNotification) {\n          this.setState({ newMessagesNotification: false });\n        }\n\n        this.getLastReceived(this.props.messages);\n      }\n\n      insertDates = (messages) => {\n        const newMessages = [];\n        if (messages.length === 0) {\n          this.props.eventHistory &&\n            this.props.eventHistory.none &&\n            this.props.eventHistory.none.forEach((e) => {\n              newMessages.push({\n                type: 'channel.event',\n                event: e,\n              });\n            });\n\n          return newMessages;\n        }\n\n        for (const [i, message] of messages.entries()) {\n          if (message.type === 'message.read' || message.deleted_at) {\n            newMessages.push(message);\n            continue;\n          }\n\n          const messageDate = message.created_at.getDay();\n          let prevMessageDate = messageDate;\n\n          if (i < messages.length - 1) {\n            prevMessageDate = messages[i + 1].created_at.getDay();\n          }\n\n          if (i === 0) {\n            newMessages.push(\n              {\n                type: 'message.date',\n                date: message.created_at,\n              },\n              message,\n            );\n          } else if (messageDate !== prevMessageDate) {\n            newMessages.push(message, {\n              type: 'message.date',\n              date: messages[i + 1].created_at,\n            });\n          } else {\n            newMessages.push(message);\n          }\n\n          const eventsNextToMessage = this.props.eventHistory[message.id];\n          if (eventsNextToMessage && eventsNextToMessage.length > 0) {\n            eventsNextToMessage.forEach((e) => {\n              newMessages.push({\n                type: 'channel.event',\n                event: e,\n              });\n            });\n          }\n        }\n\n        return newMessages;\n      };\n\n      getGroupStyles = (m) => {\n        const l = m.length;\n        const messageGroupStyles = {};\n\n        const messages = [...m];\n\n        for (let i = 0; i < l; i++) {\n          const previousMessage = messages[i - 1];\n          const message = messages[i];\n          const nextMessage = messages[i + 1];\n          const groupStyles = [];\n\n          if (message.type === 'channel.event') {\n            continue;\n          }\n\n          if (message.type === 'message.date') {\n            continue;\n          }\n\n          const userId = message.user ? message.user.id : null;\n\n          const isTopMessage =\n            !previousMessage ||\n            previousMessage.type === 'message.date' ||\n            previousMessage.type === 'system' ||\n            previousMessage.type === 'channel.event' ||\n            (previousMessage.attachments &&\n              previousMessage.attachments.length !== 0) ||\n            userId !== previousMessage.user.id ||\n            previousMessage.type === 'error' ||\n            previousMessage.deleted_at;\n\n          const isBottomMessage =\n            !nextMessage ||\n            nextMessage.type === 'message.date' ||\n            nextMessage.type === 'system' ||\n            nextMessage.type === 'channel.event' ||\n            (nextMessage.attachments && nextMessage.attachments.length !== 0) ||\n            userId !== nextMessage.user.id ||\n            nextMessage.type === 'error' ||\n            nextMessage.deleted_at;\n\n          if (isTopMessage) {\n            groupStyles.push('top');\n          }\n\n          if (isBottomMessage) {\n            if (\n              isTopMessage ||\n              message.deleted_at ||\n              message.type === 'error'\n            ) {\n              groupStyles.splice(0, groupStyles.length);\n              groupStyles.push('single');\n            } else {\n              groupStyles.push('bottom');\n            }\n          }\n\n          if (!isTopMessage && !isBottomMessage) {\n            if (message.deleted_at || message.type === 'error') {\n              groupStyles.splice(0, groupStyles.length);\n              groupStyles.push('single');\n            } else {\n              groupStyles.splice(0, groupStyles.length);\n              groupStyles.push('middle');\n            }\n          }\n\n          if (message.attachments.length !== 0) {\n            groupStyles.splice(0, groupStyles.length);\n            groupStyles.push('single');\n          }\n\n          if (this.props.noGroupByUser) {\n            groupStyles.splice(0, groupStyles.length);\n            groupStyles.push('single');\n          }\n\n          messageGroupStyles[message.id] = groupStyles;\n        }\n\n        return messageGroupStyles;\n      };\n\n      goToNewMessages = () => {\n        this.setState({\n          newMessagesNotification: false,\n        });\n        this.flatList.scrollToIndex({ index: 0 });\n        if (!this.props.threadList) this.props.markRead();\n      };\n\n      getLastReceived = (messages) => {\n        const l = messages.length;\n        let lastReceivedId = null;\n        for (let i = l; i > 0; i--) {\n          if (\n            messages[i] !== undefined &&\n            messages[i].status !== undefined &&\n            messages[i].status === 'received'\n          ) {\n            lastReceivedId = messages[i].id;\n            break;\n          }\n        }\n        this.setState({ lastReceivedId });\n      };\n\n      getReadStates = (messages) => {\n        // create object with empty array for each message id\n        const readData = {};\n\n        for (const message of messages) {\n          readData[message.id] = [];\n        }\n\n        for (const readState of Object.values(this.props.read)) {\n          if (readState.last_read == null) {\n            break;\n          }\n          let userLastReadMsgId;\n          for (const msg of messages) {\n            if (msg.updated_at < readState.last_read) {\n              userLastReadMsgId = msg.id;\n            }\n          }\n          if (userLastReadMsgId != null) {\n            readData[userLastReadMsgId] = [\n              ...readData[userLastReadMsgId],\n              readState.user,\n            ];\n          }\n        }\n        return readData;\n      };\n\n      renderItem = (message, groupStyles) => {\n        if (message.type === 'message.date') {\n          const DateSeparator =\n            this.props.dateSeparator || this.props.DateSeparator;\n          return <DateSeparator message={message} />;\n        } else if (message.type === 'channel.event') {\n          const EventIndicator =\n            this.props.eventIndicator || this.props.EventIndicator;\n          return <EventIndicator event={message.event} />;\n        } else if (message.type !== 'message.read') {\n          const readBy = this.readData[message.id] || [];\n          return (\n            <Message\n              client={this.props.client}\n              channel={this.props.channel}\n              onThreadSelect={this.props.onThreadSelect}\n              message={message}\n              groupStyles={groupStyles}\n              Message={this.props.Message}\n              Attachment={this.props.Attachment}\n              readBy={readBy}\n              lastReceivedId={\n                this.state.lastReceivedId === message.id\n                  ? this.state.lastReceivedId\n                  : null\n              }\n              onMessageTouch={this.props.onMessageTouch}\n              dismissKeyboardOnMessageTouch={\n                this.props.dismissKeyboardOnMessageTouch\n              }\n              setEditingState={this.props.setEditingState}\n              editing={this.props.editing}\n              threadList={this.props.threadList}\n              messageActions={this.props.messageActions}\n              updateMessage={this.props.updateMessage}\n              removeMessage={this.props.removeMessage}\n              retrySendMessage={this.props.retrySendMessage}\n              openThread={this.props.openThread}\n              emojiData={this.props.emojiData}\n              actionSheetStyles={this.props.actionSheetStyles}\n              AttachmentFileIcon={this.props.AttachmentFileIcon}\n            />\n          );\n        }\n      };\n\n      handleScroll = (event) => {\n        const yOffset = event.nativeEvent.contentOffset.y;\n        const removeNewMessageNotification = yOffset <= 0;\n        if (\n          !this.props.threadList &&\n          removeNewMessageNotification &&\n          this.props.channel.countUnread() > 0\n        )\n          this.props.markRead();\n\n        this.yOffset = yOffset;\n        this.setState((prevState) => ({\n          newMessagesNotification: removeNewMessageNotification\n            ? false\n            : prevState.newMessagesNotification,\n        }));\n      };\n\n      renderEmptyState = () => {\n        const Indicator = this.props.EmptyStateIndicator;\n        return <Indicator listType=\"message\" />;\n      };\n\n      render() {\n        const hasEventHistory =\n          this.props.eventHistory &&\n          Object.keys(this.props.eventHistory).length > 0;\n\n        // We can't provide ListEmptyComponent to FlatList when inverted flag is set.\n        // https://github.com/facebook/react-native/issues/21196\n        if (\n          this.props.messages &&\n          this.props.messages.length === 0 &&\n          !hasEventHistory &&\n          !this.props.threadList\n        ) {\n          return <View style={{ flex: 1 }}>{this.renderEmptyState()}</View>;\n        }\n\n        const TypingIndicator = this.props.TypingIndicator;\n        const HeaderComponent =\n          this.props.headerComponent || this.props.HeaderComponent;\n        const messagesWithDates = this.insertDates(this.props.messages);\n        const messageGroupStyles = this.getGroupStyles(messagesWithDates);\n        this.readData = this.getReadStates(messagesWithDates);\n        messagesWithDates.reverse();\n\n        const typing = Object.values(this.props.typing);\n        let showTypingIndicator;\n        if (\n          typing.length === 0 ||\n          (typing.length === 1 &&\n            typing[0].user.id === this.props.client.user.id)\n        ) {\n          showTypingIndicator = false;\n        } else {\n          showTypingIndicator = true;\n        }\n\n        return (\n          <React.Fragment>\n            {// Mask for edit state\n            this.props.editing && this.props.disableWhileEditing && (\n              <TouchableOpacity\n                style={{\n                  position: 'absolute',\n                  backgroundColor: 'black',\n                  opacity: 0.4,\n                  height: '100%',\n                  width: '100%',\n                  zIndex: 100,\n                }}\n                collapsable={false}\n                onPress={this.props.clearEditingState}\n              />\n            )}\n            <View\n              collapsable={false}\n              style={{ flex: 1, alignItems: 'center', width: '100%' }}\n            >\n              <ListContainer\n                ref={(fl) => (this.flatList = fl)}\n                data={messagesWithDates}\n                onScroll={this.handleScroll}\n                ListFooterComponent={HeaderComponent}\n                onEndReached={this.props.loadMore}\n                inverted\n                keyboardShouldPersistTaps=\"always\"\n                keyExtractor={(item) =>\n                  item.id ||\n                  item.created_at ||\n                  (item.date ? item.date.toISOString() : false) ||\n                  uuidv4()\n                }\n                renderItem={({ item: message }) =>\n                  this.renderItem(message, messageGroupStyles[message.id])\n                }\n                maintainVisibleContentPosition={{\n                  minIndexForVisible: 1,\n                  autoscrollToTopThreshold: 10,\n                }}\n                {...this.props.additionalFlatListProps}\n              />\n              {this.props.TypingIndicator && showTypingIndicator && (\n                <TypingIndicatorContainer>\n                  <TypingIndicator\n                    typing={this.props.typing}\n                    client={this.props.client}\n                  />\n                </TypingIndicatorContainer>\n              )}\n              {this.state.newMessagesNotification && (\n                <MessageNotification\n                  showNotification={this.state.newMessagesNotification}\n                  onPress={this.goToNewMessages}\n                />\n              )}\n              {!this.state.online && (\n                <ErrorNotification>\n                  <ErrorNotificationText>\n                    {this.props.t('chat.error.connection')}\n                  </ErrorNotificationText>\n                </ErrorNotification>\n              )}\n            </View>\n          </React.Fragment>\n        );\n      }\n    },\n  ),\n);\n\nexport { MessageList };\n","const img = require('.//images/icons/icon_edit.png'); export default img;","const img = require('.//images/icons/icon_new_message.png'); export default img;","import React from 'react';\nimport styled from '@stream-io/styled-components';\nimport iconEdit from '../images/icons/icon_edit.png';\nimport iconSendNewMessage from '../images/icons/icon_new_message.png';\nimport { themed } from '../styles/theme';\nimport PropTypes from 'prop-types';\n\nconst Container = styled.TouchableOpacity`\n  margin-left: 8;\n  ${({ theme }) => theme.messageInput.sendButton.css}\n`;\n\nconst SendButtonIcon = styled.Image`\n  width: 15;\n  height: 15;\n  ${({ theme }) => theme.messageInput.sendButtonIcon.css}\n`;\n\n/**\n * UI Component for send button in MessageInput component.\n *\n * @extends PureComponent\n * @example ./docs/SendButton.md\n */\nexport const SendButton = themed(\n  class SendButton extends React.PureComponent {\n    static themePath = 'messageInput';\n    static propTypes = {\n      title: PropTypes.string,\n      /** @see See [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n      editing: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n      /** Function that sends message */\n      sendMessage: PropTypes.func.isRequired,\n    };\n    render() {\n      const { sendMessage, editing, title } = this.props;\n      return (\n        <Container title={title} onPress={sendMessage}>\n          {editing ? (\n            <SendButtonIcon source={iconEdit} />\n          ) : (\n            <SendButtonIcon source={iconSendNewMessage} />\n          )}\n        </Container>\n      );\n    }\n  },\n);\n","const img = require('.//images/icons/plus-outline.png'); export default img;","const img = require('.//images/icons/icon_attach-media.png'); export default img;","const img = require('.//images/icons/icon_folder.png'); export default img;","const img = require('.//images/icons/icon_close.png'); export default img;","import React, { PureComponent } from 'react';\nimport { View, Text } from 'react-native';\nimport {\n  withChannelContext,\n  withSuggestionsContext,\n  withKeyboardContext,\n} from '../context';\nimport { logChatPromiseExecution } from 'stream-chat';\nimport { ImageUploadPreview } from './ImageUploadPreview';\nimport { FileUploadPreview } from './FileUploadPreview';\nimport { IconSquare } from './IconSquare';\nimport { pickImage, pickDocument } from '../native';\nimport { lookup } from 'mime-types';\nimport Immutable from 'seamless-immutable';\nimport {\n  FileState,\n  ACITriggerSettings,\n  withTranslationAndStatics,\n} from '../utils';\nimport PropTypes from 'prop-types';\nimport uniq from 'lodash/uniq';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\nimport { SendButton } from './SendButton';\n\nimport { ActionSheetCustom as ActionSheet } from 'react-native-actionsheet';\n// import iconMedia from '../images/icons/icon_attach-media.png';\n\nimport iconAddAttachment from '../images/icons/plus-outline.png';\nimport iconGallery from '../images/icons/icon_attach-media.png';\nimport iconFolder from '../images/icons/icon_folder.png';\nimport iconClose from '../images/icons/icon_close.png';\nimport { AutoCompleteInput } from './AutoCompleteInput';\n\n// https://stackoverflow.com/a/6860916/2570866\nfunction generateRandomId() {\n  // prettier-ignore\n  return (S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4());\n}\n\nfunction S4() {\n  return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n}\n\nconst Container = styled(({ padding, ...rest }) => <View {...rest} />)`\n  display: flex;\n  flex-direction: column;\n  border-radius: 10;\n  background-color: rgba(0, 0, 0, 0.05);\n  padding-top: ${({ theme, padding }) =>\n    padding ? theme.messageInput.container.conditionalPadding : 0}px;\n  margin-left: 10px;\n  margin-right: 10px;\n  ${({ theme }) => theme.messageInput.container.css}\n`;\n\nconst InputBoxContainer = styled.View`\n  display: flex;\n  flex-direction: row;\n  padding-left: 10px;\n  padding-right: 10px;\n  min-height: 46;\n  margin: 10px;\n  align-items: center;\n  ${({ theme }) => theme.messageInput.inputBoxContainer.css}\n`;\n\nconst AttachButton = styled.TouchableOpacity`\n  margin-right: 8;\n  ${({ theme }) => theme.messageInput.attachButton.css}\n`;\n\nconst AttachButtonIcon = styled.Image`\n  width: 15;\n  height: 15;\n  ${({ theme }) => theme.messageInput.attachButtonIcon.css}\n`;\n\nconst ActionSheetTitleContainer = styled.View`\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  padding-left: 20;\n  padding-right: 20;\n  ${({ theme }) => theme.messageInput.actionSheet.titleContainer.css};\n`;\n\nconst ActionSheetTitleText = styled.Text`\n  font-weight: bold;\n  ${({ theme }) => theme.messageInput.actionSheet.titleText.css};\n`;\n\nconst ActionSheetButtonContainer = styled.View`\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n  width: 100%;\n  padding-left: 20;\n  ${({ theme }) => theme.messageInput.actionSheet.buttonContainer.css};\n`;\n\nconst ActionSheetButtonText = styled.Text`\n  ${({ theme }) => theme.messageInput.actionSheet.buttonText.css};\n`;\n\n/**\n * UI Component for message input\n * Its a consumer of [Channel Context](https://getstream.github.io/stream-chat-react-native/#channelcontext)\n * and [Keyboard Context](https://getstream.github.io/stream-chat-react-native/#keyboardcontext)\n *\n * @example ./docs/MessageInput.md\n * @extends PureComponent\n */\nconst MessageInput = withTranslationAndStatics()(\n  withKeyboardContext(\n    withSuggestionsContext(\n      withChannelContext(\n        themed(\n          class MessageInput extends PureComponent {\n            constructor(props) {\n              super(props);\n              const state = this.getMessageDetailsForState(props.editing);\n              this.state = { ...state };\n            }\n\n            static themePath = 'messageInput';\n            static propTypes = {\n              /**\n               * Override image upload request\n               *\n               * @param file    File object - {uri: ''}\n               * @param channel Current channel object\n               * */\n              doImageUploadRequest: PropTypes.func,\n              /**\n               * Override file upload request\n               *\n               * @param file    File object - {uri: '', name: ''}\n               * @param channel Current channel object\n               * */\n              doDocUploadRequest: PropTypes.func,\n              /** Limit on allowed number of files to attach at a time. */\n              maxNumberOfFiles: PropTypes.number,\n              /** If component should have image picker functionality  */\n              hasImagePicker: PropTypes.bool,\n              /** @see See [keyboard context](https://getstream.github.io/stream-chat-react-native/#keyboardcontext) */\n              dismissKeyboard: PropTypes.func,\n              /** If component should have file picker functionality  */\n              hasFilePicker: PropTypes.bool,\n              /** @see See [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n              members: PropTypes.object,\n              /** @see See [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n              watchers: PropTypes.object,\n              /** @see See [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n              editing: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n              /** @see See [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n              clearEditingState: PropTypes.func,\n              /** @see See [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n              client: PropTypes.object,\n              /** @see See [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n              sendMessage: PropTypes.func,\n              /** Parent message object - in case of thread */\n              parent: PropTypes.object,\n              /** @see See [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext) */\n              channel: PropTypes.object,\n              /**\n               * Ref callback to set reference on input box container\n               * @see See [keyboard context](https://getstream.github.io/stream-chat-react-native/#keyboardcontext)\n               * */\n              setInputBoxContainerRef: PropTypes.func,\n              /** @see See [suggestions context](https://getstream.github.io/stream-chat-react-native/#suggestionscontext) */\n              openSuggestions: PropTypes.func,\n              /** @see See [suggestions context](https://getstream.github.io/stream-chat-react-native/#suggestionscontext) */\n              closeSuggestions: PropTypes.func,\n              /** @see See [suggestions context](https://getstream.github.io/stream-chat-react-native/#suggestionscontext) */\n              updateSuggestions: PropTypes.func,\n              /**\n               * Custom UI component for send button.\n               *\n               * Defaults to and accepts same props as: [SendButton](https://getstream.github.io/stream-chat-react-native/#sendbutton)\n               * */\n              SendButton: PropTypes.oneOfType([\n                PropTypes.node,\n                PropTypes.elementType,\n              ]),\n              /**\n               * Additional props for underlying TextInput component. These props will be forwarded as it is to TextInput component.\n               *\n               * @see See https://facebook.github.io/react-native/docs/textinput#reference\n               */\n              additionalTextInputProps: PropTypes.object,\n              /**\n               * Style object for actionsheet (used for option to choose file attachment or photo attachment).\n               * Supported styles: https://github.com/beefe/react-native-actionsheet/blob/master/lib/styles.js\n               */\n              actionSheetStyles: PropTypes.object,\n              /**\n               * Custom UI component for attachment icon for type 'file' attachment in preview.\n               * Defaults to and accepts same props as: https://github.com/GetStream/stream-chat-react-native/blob/master/src/components/FileIcon.js\n               */\n              AttachmentFileIcon: PropTypes.oneOfType([\n                PropTypes.node,\n                PropTypes.elementType,\n              ]),\n            };\n\n            static defaultProps = {\n              hasImagePicker: true,\n              hasFilePicker: true,\n              SendButton,\n            };\n\n            getMessageDetailsForState = (message) => {\n              const imageOrder = [];\n              const imageUploads = {};\n              const fileOrder = [];\n              const fileUploads = {};\n              const attachments = [];\n              let mentioned_users = [];\n              let text = '';\n\n              if (message) {\n                text = message.text;\n                for (const attach of message.attachments) {\n                  if (attach.type === 'image') {\n                    const id = generateRandomId();\n                    imageOrder.push(id);\n                    imageUploads[id] = {\n                      id,\n                      url: attach.image_url,\n                      state: 'finished',\n                      file: { name: attach.fallback },\n                    };\n                  } else if (attach.type === 'file') {\n                    const id = generateRandomId();\n                    fileOrder.push(id);\n                    fileUploads[id] = {\n                      id,\n                      url: attach.asset_url,\n                      state: 'finished',\n                      file: {\n                        name: attach.title,\n                        type: attach.mime_type,\n                        size: attach.file_size,\n                      },\n                    };\n                  } else {\n                    attachments.push(attach);\n                  }\n                }\n\n                if (message.mentioned_users) {\n                  mentioned_users = [...message.mentioned_users];\n                }\n              }\n              return {\n                text,\n                attachments,\n                imageOrder,\n                imageUploads: Immutable(imageUploads),\n                fileOrder,\n                fileUploads: Immutable(fileUploads),\n                mentioned_users,\n                numberOfUploads: 0,\n              };\n            };\n\n            getUsers = () => {\n              const users = [];\n              const members = this.props.members;\n              const watchers = this.props.watchers;\n              if (members && Object.values(members).length) {\n                Object.values(members).forEach((member) =>\n                  users.push(member.user),\n                );\n              }\n\n              if (watchers && Object.values(watchers).length) {\n                users.push(...Object.values(watchers));\n              }\n\n              // make sure we don't list users twice\n              const userMap = {};\n              for (const user of users) {\n                if (user !== undefined && !userMap[user.id]) {\n                  userMap[user.id] = user;\n                }\n              }\n              const usersArray = Object.values(userMap);\n              return usersArray;\n            };\n\n            componentDidMount() {\n              if (this.props.editing) this.inputBox.focus();\n            }\n\n            componentDidUpdate(prevProps) {\n              if (this.props.editing) this.inputBox.focus();\n              if (\n                this.props.editing &&\n                prevProps.editing &&\n                this.props.editing.id === prevProps.editing.id\n              ) {\n                return;\n              }\n\n              if (this.props.editing && !prevProps.editing) {\n                this.setState(\n                  this.getMessageDetailsForState(this.props.editing),\n                );\n              }\n\n              if (\n                this.props.editing &&\n                prevProps.editing &&\n                this.props.editing.id !== prevProps.editing.id\n              ) {\n                this.setState(\n                  this.getMessageDetailsForState(this.props.editing),\n                );\n              }\n\n              if (!this.props.editing && prevProps.editing) {\n                this.setState(this.getMessageDetailsForState());\n              }\n            }\n\n            onSelectItem = (item) => {\n              this.setState((prevState) => ({\n                mentioned_users: [...prevState.mentioned_users, item.id],\n              }));\n            };\n\n            sendMessage = () => {\n              const attachments = [];\n              for (const id of this.state.imageOrder) {\n                const image = this.state.imageUploads[id];\n                if (!image || image.state === FileState.UPLOAD_FAILED) {\n                  continue;\n                }\n                if (image.state === FileState.UPLOADING) {\n                  // TODO: show error to user that they should wait until image is uploaded\n                  return;\n                }\n                attachments.push({\n                  type: 'image',\n                  image_url: image.url,\n                  fallback: image.file.name,\n                });\n              }\n\n              for (const id of this.state.fileOrder) {\n                const upload = this.state.fileUploads[id];\n                if (!upload || upload.state === FileState.UPLOAD_FAILED) {\n                  continue;\n                }\n                if (upload.state === FileState.UPLOADING) {\n                  // TODO: show error to user that they should wait until image is uploaded\n                  return;\n                }\n                attachments.push({\n                  type: 'file',\n                  asset_url: upload.url,\n                  title: upload.file.name,\n                  mime_type: upload.file.type,\n                  file_size: upload.file.size,\n                });\n              }\n\n              // Disallow sending message if its empty.\n              if (!this.state.text && attachments.length === 0) return;\n\n              if (this.props.editing) {\n                const updatedMessage = { ...this.props.editing };\n\n                updatedMessage.text = this.state.text;\n                updatedMessage.attachments = attachments;\n                updatedMessage.mentioned_users = this.state.mentioned_users.map(\n                  (mu) => mu.id,\n                );\n                // TODO: Remove this line and show an error when submit fails\n                this.props.clearEditingState();\n\n                const updateMessagePromise = this.props.client\n                  .updateMessage(updatedMessage)\n                  .then(() => {\n                    this.props.clearEditingState();\n                  });\n                logChatPromiseExecution(updateMessagePromise, 'update message');\n              } else {\n                try {\n                  this.props.sendMessage({\n                    text: this.state.text,\n                    parent: this.props.parent,\n                    mentioned_users: uniq(this.state.mentioned_users),\n                    attachments,\n                  });\n                  this.setState({\n                    text: '',\n                    imageUploads: Immutable({}),\n                    imageOrder: Immutable([]),\n                    fileUploads: Immutable({}),\n                    fileOrder: Immutable([]),\n                    mentioned_users: [],\n                  });\n                } catch (err) {\n                  console.log('Fialed');\n                }\n              }\n            };\n\n            updateMessage = async () => {\n              try {\n                await this.props.client.updateMessage({\n                  ...this.props.editing,\n                  text: this.state.text,\n                });\n\n                this.setState({ text: '' });\n                this.props.clearEditingState();\n              } catch (err) {\n                console.log(err);\n              }\n            };\n\n            // https://stackoverflow.com/a/29234240/7625485\n            constructTypingString = (dict) => {\n              const arr2 = Object.keys(dict);\n              const arr3 = [];\n              arr2.forEach((item, i) => {\n                if (this.props.client.user.id === dict[arr2[i]].user.id) {\n                  return;\n                }\n                arr3.push(dict[arr2[i]].user.name || dict[arr2[i]].user.id);\n              });\n              let outStr = '';\n              if (arr3.length === 1) {\n                outStr = this.props.t('chat.messageInput.isTyping', {\n                  usernames: arr3[0],\n                  count: 1,\n                });\n                dict;\n              } else if (arr3.length === 2) {\n                //joins all with \"and\" but =no commas\n                //example: \"bob and sam\"\n                outStr = this.props.t('chat.messageInput.isTyping', {\n                  count: arr3.length,\n                  usernames: arr3.join(' ' + this.props.t('and') + ' '),\n                });\n              } else if (arr3.length > 2) {\n                //joins all with commas, but last one gets \", and\" (oxford comma!)\n                //example: \"bob, joe, and sam\"\n                outStr = this.props.t('chat.messageInput.isTyping', {\n                  count: arr3.length,\n                  usernames:\n                    arr3.slice(0, -1).join(', ') + ', ' + this.props.t('and'),\n                });\n              }\n\n              return outStr;\n            };\n\n            _pickFile = async () => {\n              if (\n                this.props.maxNumberOfFiles &&\n                this.state.numberOfUploads >= this.props.maxNumberOfFiles\n              )\n                return;\n\n              const result = await pickDocument();\n              if (result.type === 'cancel' || result.cancelled) {\n                return;\n              }\n              const mimeType = lookup(result.name);\n\n              if (mimeType.startsWith('image/')) {\n                this.uploadNewImage(result);\n              } else {\n                this.uploadNewFile(result);\n              }\n            };\n\n            uploadNewFile = (file) => {\n              const id = generateRandomId();\n              const mimeType = lookup(file.name);\n              /* eslint-disable */\n              this.setState((prevState) => {\n                return {\n                  numberOfUploads: prevState.numberOfUploads + 1,\n                  fileOrder: prevState.fileOrder.concat([id]),\n                  fileUploads: prevState.fileUploads.setIn([id], {\n                    id,\n                    file: { ...file, type: mimeType },\n                    state: FileState.UPLOADING,\n                  }),\n                };\n              });\n              /* eslint-enable */\n\n              this._uploadFile(id);\n            };\n\n            _uploadFile = async (id) => {\n              const doc = this.state.fileUploads[id];\n              if (!doc) {\n                return;\n              }\n              const { file } = doc;\n\n              await this.setState((prevState) => ({\n                fileUploads: prevState.fileUploads.setIn(\n                  [id, 'state'],\n                  FileState.UPLOADING,\n                ),\n              }));\n\n              let response = {};\n              response = {};\n              try {\n                if (this.props.doDocUploadRequest) {\n                  response = await this.props.doDocUploadRequest(\n                    file,\n                    this.props.channel,\n                  );\n                } else {\n                  response = await this.props.channel.sendFile(file.uri);\n                }\n              } catch (e) {\n                console.warn(e);\n                await this.setState((prevState) => {\n                  const image = prevState.fileUploads[id];\n                  if (!image) {\n                    return {\n                      numberOfUploads: prevState.numberOfUploads - 1,\n                    };\n                  }\n                  return {\n                    fileUploads: prevState.fileUploads.setIn(\n                      [id, 'state'],\n                      FileState.UPLOAD_FAILED,\n                    ),\n                    numberOfUploads: prevState.numberOfUploads - 1,\n                  };\n                });\n\n                return;\n              }\n\n              this.setState((prevState) => ({\n                fileUploads: prevState.fileUploads\n                  .setIn([id, 'state'], FileState.UPLOADED)\n                  .setIn([id, 'url'], response.file),\n              }));\n            };\n\n            _pickImage = async () => {\n              if (\n                this.props.maxNumberOfFiles &&\n                this.state.numberOfUploads >= this.props.maxNumberOfFiles\n              )\n                return;\n\n              const result = await pickImage();\n              if (result.cancelled) {\n                return;\n              }\n\n              this.uploadNewImage(result);\n            };\n\n            uploadNewImage = (image) => {\n              const id = generateRandomId();\n              /* eslint-disable */\n              this.setState((prevState) => {\n                return {\n                  numberOfUploads: prevState.numberOfUploads + 1,\n                  imageOrder: prevState.imageOrder.concat([id]),\n                  imageUploads: prevState.imageUploads.setIn([id], {\n                    id,\n                    file: image,\n                    state: FileState.UPLOADING,\n                  }),\n                };\n              });\n              /* eslint-enable */\n\n              this._uploadImage(id);\n            };\n\n            _removeImage = (id) => {\n              this.setState((prevState) => {\n                const img = prevState.imageUploads[id];\n                if (!img) {\n                  return {};\n                }\n                return {\n                  numberOfUploads: prevState.numberOfUploads - 1,\n                  imageUploads: prevState.imageUploads.set(id, undefined), // remove\n                  imageOrder: prevState.imageOrder.filter((_id) => id !== _id),\n                };\n              });\n            };\n\n            _removeFile = (id) => {\n              this.setState((prevState) => {\n                const file = prevState.fileUploads[id];\n                if (!file) {\n                  return {};\n                }\n                return {\n                  numberOfUploads: prevState.numberOfUploads - 1,\n                  fileUploads: prevState.fileUploads.set(id, undefined), // remove\n                  fileOrder: prevState.fileOrder.filter((_id) => id !== _id),\n                };\n              });\n            };\n\n            _uploadImage = async (id) => {\n              const img = this.state.imageUploads[id];\n              if (!img) {\n                return;\n              }\n              const { file } = img;\n\n              await this.setState((prevState) => ({\n                imageUploads: prevState.imageUploads.setIn(\n                  [id, 'state'],\n                  FileState.UPLOADING,\n                ),\n              }));\n\n              let response = {};\n              response = {};\n\n              const filename = (file.name || file.uri).replace(\n                /^(file:\\/\\/|content:\\/\\/)/,\n                '',\n              );\n              const contentType =\n                lookup(filename) || 'application/octet-stream';\n\n              try {\n                if (this.props.doImageUploadRequest) {\n                  response = await this.props.doImageUploadRequest(\n                    file,\n                    this.props.channel,\n                  );\n                } else {\n                  response = await this.props.channel.sendImage(\n                    file.uri,\n                    null,\n                    contentType,\n                  );\n                }\n              } catch (e) {\n                console.warn(e);\n                await this.setState((prevState) => {\n                  const image = prevState.imageUploads[id];\n                  if (!image) {\n                    return {\n                      numberOfUploads: prevState.numberOfUploads - 1,\n                    };\n                  }\n\n                  return {\n                    imageUploads: prevState.imageUploads.setIn(\n                      [id, 'state'],\n                      FileState.UPLOAD_FAILED,\n                    ),\n                    numberOfUploads: prevState.numberOfUploads - 1,\n                  };\n                });\n\n                return;\n              }\n              this.setState((prevState) => ({\n                imageUploads: prevState.imageUploads\n                  .setIn([id, 'state'], FileState.UPLOADED)\n                  .setIn([id, 'url'], response.file),\n              }));\n            };\n\n            onChange = (text) => {\n              this.setState({ text });\n\n              if (text) {\n                logChatPromiseExecution(\n                  this.props.channel.keystroke(),\n                  'start typing event',\n                );\n              }\n            };\n\n            setInputBoxRef = (o) => (this.inputBox = o);\n\n            getCommands = () => {\n              const config = this.props.channel.getConfig();\n\n              if (!config) return [];\n\n              const allCommands = config.commands;\n              return allCommands;\n            };\n\n            closeAttachActionSheet = () => {\n              this.attachActionSheet.hide();\n            };\n            render() {\n              const { hasImagePicker, hasFilePicker, SendButton } = this.props;\n              let editingBoxStyles = {};\n              if (this.props.editing) {\n                editingBoxStyles = {\n                  paddingLeft: 0,\n                  paddingRight: 0,\n                  shadowColor: 'gray',\n                  shadowOpacity: 0.5,\n                  shadowOffset: { width: 1, height: -3 },\n                  zIndex: 100,\n                  backgroundColor: 'white',\n                };\n              }\n              return (\n                <React.Fragment>\n                  <View style={editingBoxStyles}>\n                    {this.props.editing && (\n                      <View\n                        style={{\n                          flexDirection: 'row',\n                          alignItems: 'center',\n                          justifyContent: 'space-between',\n                          padding: 10,\n                        }}\n                      >\n                        <Text style={{ fontWeight: 'bold' }}>\n                          {this.props.t('chat.messageInput.editing')}\n                        </Text>\n                        <IconSquare\n                          onPress={() => {\n                            this.props.clearEditingState();\n                          }}\n                          icon={iconClose}\n                        />\n                      </View>\n                    )}\n\n                    <Container padding={this.state.imageUploads.length > 0}>\n                      {this.state.fileUploads && (\n                        <FileUploadPreview\n                          removeFile={this._removeFile}\n                          retryUpload={this._uploadFile}\n                          fileUploads={this.state.fileOrder.map(\n                            (id) => this.state.fileUploads[id],\n                          )}\n                          AttachmentFileIcon={this.props.AttachmentFileIcon}\n                        />\n                      )}\n                      {this.state.imageUploads && (\n                        <ImageUploadPreview\n                          removeImage={this._removeImage}\n                          retryUpload={this._uploadImage}\n                          imageUploads={this.state.imageOrder.map(\n                            (id) => this.state.imageUploads[id],\n                          )}\n                        />\n                      )}\n                      <InputBoxContainer\n                        ref={this.props.setInputBoxContainerRef}\n                      >\n                        <AttachButton\n                          onPress={async () => {\n                            if (hasImagePicker && hasFilePicker) {\n                              await this.props.dismissKeyboard();\n                              this.attachActionSheet.show();\n                            } else if (hasImagePicker && !hasFilePicker)\n                              this._pickImage();\n                            else if (!hasImagePicker && hasFilePicker)\n                              this._pickFile();\n                          }}\n                        >\n                          <AttachButtonIcon source={iconAddAttachment} />\n                        </AttachButton>\n                        {/**\n                      TODO: Use custom action sheet to show icon with titles of button. But it doesn't\n                      work well with async onPress operations. So find a solution.\n                    */}\n\n                        <ActionSheet\n                          ref={(o) => (this.attachActionSheet = o)}\n                          title={\n                            <ActionSheetTitleContainer>\n                              <ActionSheetTitleText>\n                                {this.props.t('chat.actionSheet.addFile')}\n                              </ActionSheetTitleText>\n                              <IconSquare\n                                icon={iconClose}\n                                onPress={this.closeAttachActionSheet}\n                              />\n                            </ActionSheetTitleContainer>\n                          }\n                          options={[\n                            /* eslint-disable */\n                            <AttachmentActionSheetItem\n                              icon={iconGallery}\n                              text={this.props.t(\n                                'chat.actionSheet.uploadPhoto',\n                              )}\n                            />,\n                            <AttachmentActionSheetItem\n                              icon={iconFolder}\n                              text={this.props.t('chat.actionSheet.uploadFile')}\n                            />,\n                            /* eslint-enable */\n                          ]}\n                          onPress={(index) => {\n                            // https://github.com/beefe/react-native-actionsheet/issues/36\n                            setTimeout(() => {\n                              switch (index) {\n                                case 0:\n                                  this._pickImage();\n                                  break;\n                                case 1:\n                                  this._pickFile();\n                                  break;\n                                default:\n                              }\n                            }, 1);\n                          }}\n                          styles={this.props.actionSheetStyles}\n                        />\n                        <AutoCompleteInput\n                          openSuggestions={this.props.openSuggestions}\n                          closeSuggestions={this.props.closeSuggestions}\n                          updateSuggestions={this.props.updateSuggestions}\n                          value={this.state.text}\n                          onChange={this.onChange}\n                          getCommands={this.getCommands}\n                          setInputBoxRef={this.setInputBoxRef}\n                          triggerSettings={ACITriggerSettings({\n                            users: this.getUsers(),\n                            commands: this.getCommands(),\n                            onMentionSelectItem: this.onSelectItem,\n                          })}\n                          additionalTextInputProps={\n                            this.props.additionalTextInputProps\n                          }\n                        />\n                        <SendButton\n                          title={this.props.t('chat.messageInput.pickImage')}\n                          sendMessage={this.sendMessage}\n                          editing={this.props.editing}\n                        />\n                      </InputBoxContainer>\n                    </Container>\n                  </View>\n                </React.Fragment>\n              );\n            }\n          },\n        ),\n      ),\n    ),\n  ),\n);\n\nexport { MessageInput };\n\nconst AttachmentActionSheetItem = ({ icon, text }) => (\n  <ActionSheetButtonContainer>\n    <IconSquare icon={icon} />\n    <ActionSheetButtonText>{text}</ActionSheetButtonText>\n  </ActionSheetButtonContainer>\n);\n","import React, { PureComponent } from 'react';\nimport { Avatar } from './Avatar';\nimport truncate from 'lodash/truncate';\nimport styled from '@stream-io/styled-components';\nimport PropTypes from 'prop-types';\nimport { themed } from '../styles/theme';\nimport { withTranslationAndStatics } from '../utils';\n\nconst Container = styled.TouchableOpacity`\n  display: flex;\n  flex-direction: row;\n  border-bottom-color: #ebebeb;\n  border-bottom-width: 1;\n  padding: 10px;\n  ${({ theme }) => theme.channelPreview.container.css}\n`;\n\nconst Details = styled.View`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  padding-left: 10px;\n  ${({ theme }) => theme.channelPreview.details.css}\n`;\n\nconst DetailsTop = styled.View`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  ${({ theme }) => theme.channelPreview.detailsTop.css}\n`;\n\nconst Title = styled.Text`\n  font-weight: bold;\n  font-size: 14;\n  flex: 1;\n  ${({ theme }) => theme.channelPreview.title.css}\n`;\n\nconst Date = styled.Text`\n  color: #767676;\n  font-size: 11;\n  text-align: right;\n  ${({ theme }) => theme.channelPreview.date.css}\n`;\n\nconst Message = styled.Text`\n  color: ${({ theme, unread }) =>\n    unread\n      ? theme.channelPreview.message.unreadColor\n      : theme.channelPreview.message.color};\n  font-size: 13;\n  font-weight: ${({ theme, unread }) =>\n    unread\n      ? theme.channelPreview.message.unreadFontWeight\n      : theme.channelPreview.message.fontWeight};\n  ${({ theme }) => theme.channelPreview.message.css}\n`;\n\n/**\n * ChannelPreviewMessenger - UI component for individual item in list of channels.\n *\n * @example ./docs/ChannelPreviewMessenger.md\n */\nexport const ChannelPreviewMessenger = withTranslationAndStatics()(\n  themed(\n    class ChannelPreviewMessenger extends PureComponent {\n      channelPreviewButton = React.createRef();\n      static themePath = 'channelPreview';\n\n      static propTypes = {\n        /** @see See [Chat Context](https://getstream.github.io/stream-chat-react-native/#chatcontext) */\n        setActiveChannel: PropTypes.func,\n        /** @see See [Chat Context](https://getstream.github.io/stream-chat-react-native/#chatcontext) */\n        channel: PropTypes.object,\n        /** Latest message (object) on channel */\n        latestMessage: PropTypes.object,\n        /** Number of unread messages on channel */\n        unread: PropTypes.number,\n      };\n\n      onSelectChannel = () => {\n        this.props.setActiveChannel(this.props.channel);\n      };\n\n      renderAvatar = (otherMembers) => {\n        const { channel } = this.props;\n        if (channel.data.image)\n          return <Avatar image={channel.data.image} size={40} />;\n\n        if (otherMembers.length === 1)\n          return <Avatar image={otherMembers[0].user.image} size={40} />;\n\n        return <Avatar size={40} />;\n      };\n\n      render() {\n        const { channel } = this.props;\n        let otherMembers = [];\n        let name = channel.data.name;\n        const isValidName = name && typeof name === 'string';\n\n        if (!isValidName) {\n          const members = channel.state\n            ? Object.values(channel.state.members)\n            : [];\n          otherMembers = members.filter(\n            (member) => member.user.id !== this.props.client.userID,\n          );\n          name = otherMembers\n            .map(\n              (member) =>\n                member.user.name ||\n                member.user.id ||\n                this.props.t('chat.channelPreview.unnamedUser'),\n            )\n            .join(', ');\n        }\n\n        return (\n          <Container onPress={this.onSelectChannel}>\n            {this.renderAvatar(otherMembers)}\n            <Details>\n              <DetailsTop>\n                <Title ellipsizeMode=\"tail\" numberOfLines={1}>\n                  {name}\n                </Title>\n                <Date>{this.props.latestMessage.created_at}</Date>\n              </DetailsTop>\n              <Message\n                unread={this.props.unread > 0 ? this.props.unread : undefined}\n              >\n                {!this.props.latestMessage\n                  ? this.props.t('chat.channelPreview.emptyChannel')\n                  : truncate(\n                      this.props.latestMessage.text.replace(/\\n/g, ' '),\n                      14,\n                    )}\n              </Message>\n            </Details>\n          </Container>\n        );\n      }\n    },\n  ),\n);\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Moment from 'moment';\nimport { withTranslationAndStatics } from '../utils';\n\nexport const ChannelPreview = withTranslationAndStatics()(\n  class ChannelPreview extends PureComponent {\n    constructor(props) {\n      super(props);\n\n      this.state = {\n        unread: 0,\n        lastMessage: {},\n        lastRead: new Date(),\n      };\n    }\n\n    static propTypes = {\n      channel: PropTypes.object.isRequired,\n      client: PropTypes.object.isRequired,\n      setActiveChannel: PropTypes.func,\n      Preview: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n    };\n\n    static defaultProps = {\n      // Preview: ChannelPreviewCountOnly,\n    };\n\n    componentDidMount() {\n      // listen to change...\n      const channel = this.props.channel;\n      this.setState({ unread: channel.countUnread() });\n      channel.on('message.new', this.handleNewMessageEvent);\n      channel.on('message.read', this.handleReadEvent);\n    }\n\n    componentWillUnmount() {\n      const channel = this.props.channel;\n      channel.off('message.new', this.handleNewMessageEvent);\n      channel.off('message.read', this.handleReadEvent);\n    }\n\n    handleReadEvent = (event) => {\n      if (event.user.id === this.props.client.userID) {\n        this.setState({ unread: this.props.channel.countUnread() });\n      }\n    };\n\n    handleNewMessageEvent = (event) => {\n      const channel = this.props.channel;\n      this.setState({\n        lastMessage: event.message,\n        unread: channel.countUnread(),\n      });\n    };\n\n    getLatestMessage = () => {\n      const { channel } = this.props;\n      const message = channel.state.messages[channel.state.messages.length - 1];\n\n      const latestMessage = {\n        text: '',\n        created_at: '',\n      };\n\n      if (!message) {\n        latestMessage.text = this.props.t('chat.channelPreview.emptyChannel');\n        return latestMessage;\n      }\n      if (message.deleted_at) {\n        latestMessage.text = this.props.t('chat.channelPreview.deleted');\n        return latestMessage;\n      }\n\n      if (message.text) {\n        latestMessage.text = message.text.slice(0, 20);\n      } else {\n        if (message.command) {\n          latestMessage.text = '/' + message.command;\n        } else if (message.attachments.length) {\n          latestMessage.text = this.props.t('chat.channelPreview.attachment');\n        } else {\n          latestMessage.text = this.props.t('chat.channelPreview.emptyMessage');\n        }\n      }\n\n      if (Moment(message.created_at).isSame(new Date(), 'day'))\n        latestMessage.created_at = Moment(message.created_at).format('HH:mm A');\n      else {\n        latestMessage.created_at = Moment(message.created_at).format(\n          'DD/MM/YY',\n        );\n      }\n\n      return latestMessage;\n    };\n\n    render() {\n      const props = { ...this.state, ...this.props };\n      const { Preview } = this.props;\n      return <Preview {...props} latestMessage={this.getLatestMessage()} />;\n    }\n  },\n);\n","import React, { PureComponent } from 'react';\nimport { FlatList } from 'react-native';\nimport PropTypes from 'prop-types';\nimport { ChannelPreview } from './ChannelPreview';\nimport { ChannelPreviewMessenger } from './ChannelPreviewMessenger';\nimport { withChatContext } from '../context';\n\nimport { LoadingIndicator } from './LoadingIndicator';\nimport { LoadingErrorIndicator } from './LoadingErrorIndicator';\nimport { EmptyStateIndicator } from './EmptyStateIndicator';\n\n/**\n * ChannelListMessenger - UI component for list of channels, allowing you to select the channel you want to open\n *\n * @example ./docs/ChannelListMessenger.md\n */\nconst ChannelListMessenger = withChatContext(\n  class ChannelListMessenger extends PureComponent {\n    static propTypes = {\n      /** Channels can be either an array of channels or a promise which resolves to an array of channels */\n      channels: PropTypes.oneOfType([\n        PropTypes.array,\n        PropTypes.objectOf({\n          then: PropTypes.func,\n        }),\n        PropTypes.object,\n      ]).isRequired,\n      setActiveChannel: PropTypes.func,\n      /** UI Component to display individual channel item in list.\n       * Defaults to [ChannelPreviewMessenger](https://getstream.github.io/stream-chat-react-native/#channelpreviewmessenger) */\n      Preview: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      /** The loading indicator to use. Default: [LoadingIndicator](https://getstream.github.io/stream-chat-react-native/#loadingindicator) */\n      LoadingIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /** The indicator to use when there is error in fetching channels. Default: [LoadingErrorIndicator](https://getstream.github.io/stream-chat-react-native/#loadingerrorindicator) */\n      LoadingErrorIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /** The indicator to use when channel list is empty. Default: [EmptyStateIndicator](https://getstream.github.io/stream-chat-react-native/#emptystateindicator) */\n      EmptyStateIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /** Loads next page of channels in channels object, which is present here as prop */\n      loadNextPage: PropTypes.func,\n      /**\n       * For flatlist\n       * @see See loeadMoreThreshold [doc](https://facebook.github.io/react-native/docs/flatlist#onendreachedthreshold)\n       * */\n      loadMoreThreshold: PropTypes.number,\n      /** If there is error in querying channels */\n      error: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n      /** If channels are being queries. LoadingIndicator will be displayed if true */\n      loadingChannels: PropTypes.bool,\n      /**\n       * Besides existing (default) UX behaviour of underlying flatlist of ChannelListMessenger component, if you want\n       * to attach some additional props to un derlying flatlist, you can add it to following prop.\n       *\n       * You can find list of all the available FlatList props here - https://facebook.github.io/react-native/docs/flatlist#props\n       *\n       * e.g.\n       * ```\n       * <ChannelListMessenger\n       *  channels={channels}\n       *  additionalFlatListProps={{ bounces: true }} />\n       * ```\n       */\n      additionalFlatListProps: PropTypes.object,\n    };\n\n    static defaultProps = {\n      Preview: ChannelPreviewMessenger,\n      LoadingIndicator,\n      LoadingErrorIndicator,\n      EmptyStateIndicator,\n      // https://github.com/facebook/react-native/blob/a7a7970e543959e9db5281914d5f132beb01db8d/Libraries/Lists/VirtualizedList.js#L466\n      loadMoreThreshold: 2,\n      additionalFlatListProps: {},\n    };\n\n    renderLoading = () => {\n      const Indicator = this.props.LoadingIndicator;\n      return <Indicator listType=\"channel\" />;\n    };\n\n    renderLoadingError = () => {\n      const Indicator = this.props.LoadingErrorIndicator;\n      return <Indicator error={this.props.error} listType=\"channel\" />;\n    };\n\n    renderEmptyState = () => {\n      const Indicator = this.props.EmptyStateIndicator;\n      return <Indicator listType=\"channel\" />;\n    };\n\n    renderChannels = () => (\n      <FlatList\n        data={this.props.channels}\n        onEndReached={this.props.loadNextPage}\n        onEndReachedThreshold={this.props.loadMoreThreshold}\n        ListEmptyComponent={this.renderEmptyState}\n        renderItem={({ item: channel }) => (\n          <ChannelPreview\n            {...this.props}\n            key={channel.cid}\n            channel={channel}\n            Preview={this.props.Preview}\n          />\n        )}\n        keyExtractor={(item) => item.cid}\n        {...this.props.additionalFlatListProps}\n      />\n    );\n\n    render() {\n      if (this.props.error) {\n        return this.renderLoadingError();\n      } else if (this.props.loadingChannels) {\n        return this.renderLoading();\n      } else {\n        return this.renderChannels();\n      }\n    }\n  },\n);\n\nexport { ChannelListMessenger };\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { ChannelPreviewMessenger } from './ChannelPreviewMessenger';\nimport { withChatContext } from '../context';\nimport { ChannelListMessenger } from './ChannelListMessenger';\nimport Immutable from 'seamless-immutable';\nimport debounce from 'lodash/debounce';\n\nimport { LoadingIndicator } from './LoadingIndicator';\nimport { LoadingErrorIndicator } from './LoadingErrorIndicator';\nimport { EmptyStateIndicator } from './EmptyStateIndicator';\nimport uniqBy from 'lodash/uniqBy';\nimport uniqWith from 'lodash/uniqWith';\nimport isEqual from 'lodash/isEqual';\n\nexport const isPromise = (thing) => {\n  const promise = thing && typeof thing.then === 'function';\n  return promise;\n};\n\nexport const DEFAULT_QUERY_CHANNELS_LIMIT = 10;\n/**\n * ChannelList - A preview list of channels, allowing you to select the channel you want to open.\n * This components doesn't provide any UI for the list. UI is provided by component `List` which should be\n * provided to this component as prop. By default ChannelListMessenger is used a list UI.\n *\n * @extends PureComponent\n * @example ./docs/ChannelList.md\n */\nconst ChannelList = withChatContext(\n  class ChannelList extends PureComponent {\n    static propTypes = {\n      /** The Preview to use, defaults to [ChannelPreviewMessenger](https://getstream.github.io/stream-chat-react-native/#channelpreviewmessenger) */\n      Preview: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n\n      /** The loading indicator to use */\n      LoadingIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /** The indicator to use when there is error in fetching channels */\n      LoadingErrorIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n      /** The indicator to use when channel list is empty */\n      EmptyStateIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.elementType,\n      ]),\n\n      List: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n      onSelect: PropTypes.func,\n      /**\n       * Function that overrides default behaviour when new message is received on channel that is not being watched\n       *\n       * @param {Component} thisArg Reference to ChannelList component\n       * @param {Event} event       [Event object](https://getstream.io/chat/docs/#event_object) corresponding to `notification.message_new` event\n       * */\n      onMessageNew: PropTypes.func,\n      /**\n       * Function that overrides default behaviour when users gets added to a channel\n       *\n       * @param {Component} thisArg Reference to ChannelList component\n       * @param {Event} event       [Event object](https://getstream.io/chat/docs/#event_object) corresponding to `notification.added_to_channel` event\n       * */\n      onAddedToChannel: PropTypes.func,\n      /**\n       * Function that overrides default behaviour when users gets removed from a channel\n       *\n       * @param {Component} thisArg Reference to ChannelList component\n       * @param {Event} event       [Event object](https://getstream.io/chat/docs/#event_object) corresponding to `notification.removed_from_channel` event\n       * */\n      onRemovedFromChannel: PropTypes.func,\n      /**\n       * Function that overrides default behaviour when channel gets updated\n       *\n       * @param {Component} thisArg Reference to ChannelList component\n       * @param {Event} event       [Event object](https://getstream.io/chat/docs/#event_object) corresponding to `channel.updated` event\n       * */\n      onChannelUpdated: PropTypes.func,\n      /**\n       * Function to customize behaviour when channel gets truncated\n       *\n       * @param {Component} thisArg Reference to ChannelList component\n       * @param {Event} event       [Event object](https://getstream.io/chat/docs/#event_object) corresponding to `channel.truncated` event\n       * */\n      onChannelTruncated: PropTypes.func,\n      /**\n       * Function that overrides default behaviour when channel gets deleted. In absence of this prop, channel will be removed from the list.\n       *\n       * @param {Component} thisArg Reference to ChannelList component\n       * @param {Event} event       [Event object](https://getstream.io/chat/docs/#event_object) corresponding to `channel.deleted` event\n       * */\n      onChannelDeleted: PropTypes.func,\n      /**\n       * Object containing query filters\n       * @see See [Channel query documentation](https://getstream.io/chat/docs/#query_channels) for a list of available fields for filter.\n       * */\n      filters: PropTypes.object,\n      /**\n       * Object containing query options\n       * @see See [Channel query documentation](https://getstream.io/chat/docs/#query_channels) for a list of available fields for options.\n       * */\n      options: PropTypes.object,\n      /**\n       * Object containing sort parameters\n       * @see See [Channel query documentation](https://getstream.io/chat/docs/#query_channels) for a list of available fields for sort.\n       * */\n      sort: PropTypes.object,\n      /** For flatlist  */\n      loadMoreThreshold: PropTypes.number,\n      /** Client object. Avaiable from [Chat context](#chatcontext) */\n      client: PropTypes.object,\n      /**\n       * Function to set change active channel. This function acts as bridge between channel list and currently active channel component.\n       *\n       * @param channel A Channel object\n       */\n      setActiveChannel: PropTypes.func,\n      /**\n       * If true, channels won't be dynamically sorted by most recent message.\n       */\n      lockChannelOrder: PropTypes.bool,\n      /**\n       * Besides existing (default) UX behaviour of underlying flatlist of ChannelList component, if you want\n       * to attach some additional props to un derlying flatlist, you can add it to following prop.\n       *\n       * You can find list of all the available FlatList props here - https://facebook.github.io/react-native/docs/flatlist#props\n       *\n       * e.g.\n       * ```\n       * <ChannelList\n       *  filters={filters}\n       *  sort={sort}\n       *  additionalFlatListProps={{ bounces: true }} />\n       * ```\n       */\n      additionalFlatListProps: PropTypes.object,\n    };\n\n    static defaultProps = {\n      Preview: ChannelPreviewMessenger,\n      List: ChannelListMessenger,\n      LoadingIndicator,\n      LoadingErrorIndicator,\n      EmptyStateIndicator,\n      filters: {},\n      options: {},\n      sort: {},\n      // https://github.com/facebook/react-native/blob/a7a7970e543959e9db5281914d5f132beb01db8d/Libraries/Lists/VirtualizedList.js#L466\n      loadMoreThreshold: 2,\n      lockChannelOrder: false,\n      additionalFlatListProps: {},\n      logger: () => {},\n    };\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        error: false,\n        channels: Immutable([]),\n        channelIds: Immutable([]),\n        loadingChannels: true,\n        hasNextPage: true,\n        refreshing: false,\n        offset: 0,\n      };\n\n      this.menuButton = React.createRef();\n\n      this._queryChannelsDebounced = debounce(this.queryChannels, 1000, {\n        leading: true,\n        trailing: true,\n      });\n      this.queryActive = false;\n      this._unmounted = false;\n    }\n\n    async componentDidMount() {\n      this.props.logger('ChannelList component', 'componentDidMount', {\n        tags: ['lifecycle', 'channellist'],\n        props: this.props,\n        state: this.state,\n      });\n\n      await this._queryChannelsDebounced();\n      this.listenToChanges();\n    }\n\n    componentDidUpdate() {\n      this.props.logger('ChannelList component', 'componentDidUpdate', {\n        tags: ['lifecycle', 'channellist'],\n        props: this.props,\n        state: this.state,\n      });\n    }\n\n    componentWillUnmount() {\n      this.props.logger('ChannelList component', 'componentWillUnmount', {\n        tags: ['lifecycle', 'channellist'],\n        props: this.props,\n        state: this.state,\n      });\n\n      this._unmounted = true;\n      this.props.client.off(this.handleEvent);\n      this._queryChannelsDebounced.cancel();\n    }\n\n    static getDerivedStateFromError(error) {\n      return { error };\n    }\n\n    componentDidCatch(error, info) {\n      console.warn(error, info);\n    }\n\n    queryChannels = async (resync = false) => {\n      // Don't query again if query is already active or there are no more results.\n      if (this.queryActive || !this.state.hasNextPage) return;\n\n      this.queryActive = true;\n\n      if (this._unmounted) {\n        this.queryActive = false;\n        return;\n      }\n      const { options, filters, sort } = this.props;\n      let offset;\n\n      if (resync) {\n        offset = 0;\n        options.limit = this.state.channels.length;\n        if (this._unmounted) return;\n        this.setState({\n          offset: 0,\n        });\n      } else {\n        offset = this.state.offset;\n      }\n\n      if (this._unmounted) return;\n      this.setState({ refreshing: true });\n      this.props.logger('ChannelList component', 'queryChannels', {\n        tags: ['channellist'],\n        props: this.props,\n        state: this.state,\n        query: {\n          filters,\n          sort,\n          ...options,\n          offset,\n        },\n      });\n\n      const channelPromise = this.props.client.queryChannels(filters, sort, {\n        ...options,\n        offset,\n      });\n\n      try {\n        let channelQueryResponse = channelPromise;\n        if (isPromise(channelQueryResponse)) {\n          channelQueryResponse = await channelPromise;\n          if (offset === 0 && channelQueryResponse.length >= 1) {\n            if (this._unmounted) return;\n            this.props.setActiveChannel(channelQueryResponse[0]);\n          }\n        }\n\n        if (this._unmounted) return;\n        await this.setState((prevState) => {\n          let channels;\n          let channelIds;\n\n          if (resync) {\n            channels = [...channelQueryResponse];\n            channelIds = [...channelQueryResponse.map((c) => c.id)];\n          } else {\n            // Remove duplicate channels in worse case we get repeted channel from backend.\n            channelQueryResponse = channelQueryResponse.filter(\n              (c) => this.state.channelIds.indexOf(c.id) === -1,\n            );\n\n            channels = [...prevState.channels, ...channelQueryResponse];\n            channelIds = [\n              ...prevState.channelIds,\n              ...channelQueryResponse.map((c) => c.id),\n            ];\n          }\n\n          return {\n            channels, // not unique somehow needs more checking\n            channelIds,\n            loadingChannels: false,\n            offset: channels.length,\n            hasNextPage:\n              channelQueryResponse.length >=\n              (options.limit || DEFAULT_QUERY_CHANNELS_LIMIT)\n                ? true\n                : false,\n            refreshing: false,\n          };\n        });\n      } catch (e) {\n        console.warn(e);\n\n        if (this._unmounted) return;\n        this.setState({ error: e, refreshing: false });\n      }\n      this.queryActive = false;\n    };\n\n    listenToChanges() {\n      this.props.client.on(this.handleEvent);\n    }\n\n    handleEvent = async (e) => {\n      if (e.type === 'user.presence.changed') {\n        let newChannels = this.state.channels;\n\n        newChannels = newChannels.map((channel) => {\n          if (!channel.state.members[e.user.id]) return channel;\n\n          channel.state.members.setIn([e.user.id, 'user'], e.user);\n\n          return channel;\n        });\n\n        this.setState({ channels: [...newChannels] });\n      }\n\n      if (e.type === 'message.new') {\n        !this.props.lockChannelOrder && this.moveChannelUp(e.cid);\n      }\n\n      // make sure to re-render the channel list after connection is recovered\n      if (e.type === 'connection.recovered') {\n        this.queryChannels(true);\n      }\n\n      // move channel to start\n      if (e.type === 'notification.message_new') {\n        if (\n          this.props.onMessageNew &&\n          typeof this.props.onMessageNew === 'function'\n        ) {\n          this.props.onMessageNew(this, e);\n        } else {\n          const channel = await this.getChannel(e.channel.type, e.channel.id);\n\n          // move channel to starting position\n          if (this._unmounted) return;\n          this.setState((prevState) => ({\n            channels: uniqBy([channel, ...prevState.channels], 'cid'),\n            channelIds: uniqWith(\n              [channel.id, ...prevState.channelIds],\n              isEqual,\n            ),\n            offset: prevState.offset + 1,\n          }));\n        }\n      }\n\n      // add to channel\n      if (e.type === 'notification.added_to_channel') {\n        if (\n          this.props.onAddedToChannel &&\n          typeof this.props.onAddedToChannel === 'function'\n        ) {\n          this.props.onAddedToChannel(this, e);\n        } else {\n          const channel = await this.getChannel(e.channel.type, e.channel.id);\n\n          if (this._unmounted) return;\n          this.setState((prevState) => ({\n            channels: uniqBy([channel, ...prevState.channels], 'cid'),\n            channelIds: uniqWith(\n              [channel.id, ...prevState.channelIds],\n              isEqual,\n            ),\n            offset: prevState.offset + 1,\n          }));\n        }\n      }\n\n      // remove from channel\n      if (e.type === 'notification.removed_from_channel') {\n        if (\n          this.props.onRemovedFromChannel &&\n          typeof this.props.onRemovedFromChannel === 'function'\n        ) {\n          this.props.onRemovedFromChannel(this, e);\n        } else {\n          if (this._unmounted) return;\n          this.setState((prevState) => {\n            const channels = prevState.channels.filter(\n              (channel) => channel.cid !== e.channel.cid,\n            );\n            const channelIds = prevState.channelIds.filter(\n              (cid) => cid !== e.channel.cid,\n            );\n            return {\n              channels,\n              channelIds,\n            };\n          });\n        }\n      }\n\n      // Channel data is updated\n      if (e.type === 'channel.updated') {\n        const channels = this.state.channels;\n        const channelIndex = channels.findIndex(\n          (channel) => channel.cid === e.channel.cid,\n        );\n        channels[channelIndex].data = Immutable(e.channel);\n        this.setState({\n          channels: [...channels],\n        });\n\n        if (\n          this.props.onChannelUpdated &&\n          typeof this.props.onChannelUpdated === 'function'\n        )\n          this.props.onChannelUpdated(this, e);\n      }\n\n      // Channel is deleted\n      if (e.type === 'channel.deleted') {\n        if (\n          this.props.onChannelDeleted &&\n          typeof this.props.onChannelDeleted === 'function'\n        ) {\n          this.props.onChannelDeleted(this, e);\n        } else {\n          const channels = this.state.channels;\n          const channelIndex = channels.findIndex(\n            (channel) => channel.cid === e.channel.cid,\n          );\n          // Remove the deleted channel from the list.\n          channels.splice(channelIndex, 1);\n          this.setState({\n            channels: [...channels],\n          });\n        }\n      }\n\n      if (e.type === 'channel.truncated') {\n        this.setState((prevState) => ({\n          channels: [...prevState.channels],\n        }));\n\n        if (\n          this.props.onChannelTruncated &&\n          typeof this.props.onChannelTruncated === 'function'\n        )\n          this.props.onChannelTruncated(this, e);\n      }\n\n      return null;\n    };\n\n    getChannel = async (type, id) => {\n      const channel = this.props.client.channel(type, id);\n      await channel.watch();\n      return channel;\n    };\n\n    moveChannelUp = (cid) => {\n      if (this._unmounted) return;\n      const channels = this.state.channels;\n\n      // get channel index\n      const channelIndex = this.state.channels.findIndex(\n        (channel) => channel.cid === cid,\n      );\n      if (channelIndex <= 0) return;\n\n      // get channel from channels\n      const channel = channels[channelIndex];\n\n      //remove channel from current position\n      channels.splice(channelIndex, 1);\n      //add channel at the start\n      channels.unshift(channel);\n\n      // set new channel state\n      if (this._unmounted) return;\n      this.setState({\n        channels: [...channels],\n      });\n    };\n\n    loadNextPage = () => {\n      this._queryChannelsDebounced();\n    };\n\n    render() {\n      const context = {\n        loadNextPage: this.loadNextPage,\n      };\n      const List = this.props.List;\n      const props = { ...this.props, setActiveChannel: this.props.onSelect };\n\n      return (\n        <React.Fragment>\n          <List {...props} {...this.state} {...context} />\n        </React.Fragment>\n      );\n    }\n  },\n);\n\nexport { ChannelList };\n","import React from 'react';\n\nimport { withChannelContext } from '../context';\nimport { MessageList } from './MessageList';\nimport { MessageInput } from './MessageInput';\nimport PropTypes from 'prop-types';\nimport styled from '@stream-io/styled-components';\nimport { themed } from '../styles/theme';\n\nimport { Message } from './Message';\nimport { withTranslationAndStatics } from '../utils';\n\nconst NewThread = styled.View`\n  padding: 8px;\n  background-color: #f4f9ff;\n  margin: 10px;\n  border-radius: 4;\n  display: flex;\n  align-items: center;\n  ${({ theme }) => theme.thread.newThread.css};\n`;\n\nconst NewThreadText = styled.Text`\n  ${({ theme }) => theme.thread.newThread.text.css};\n`;\n\n/**\n * Thread - The Thread renders a parent message with a list of replies. Use the standard message list of the main channel's messages.\n * The thread is only used for the list of replies to a message.\n *\n * Thread is a consumer of [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)\n * Underlying MessageList, MessageInput and Message components can be customized using props:\n * - additionalParentMessageProps\n * - additionalMessageListProps\n * - additionalMessageInputProps\n *\n * @example ./docs/Thread.md\n * @extends Component\n */\nconst Thread = withChannelContext(\n  themed(\n    class Thread extends React.PureComponent {\n      static themePath = 'thread';\n      static propTypes = {\n        /** Make input focus on mounting thread */\n        autoFocus: PropTypes.bool,\n        /**\n         * **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)**\n         * */\n        channel: PropTypes.object.isRequired,\n        /**\n         *  **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)**\n         * */\n        Message: PropTypes.oneOfType([PropTypes.node, PropTypes.elementType]),\n        /**\n         * **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)**\n         * The thread (the parent [message object](https://getstream.io/chat/docs/#message_format)) */\n        thread: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n        /**\n         * **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)**\n         * The array of immutable messages to render. By default they are provided by parent Channel component */\n        threadMessages: PropTypes.array.isRequired,\n        /**\n         * **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)**\n         *\n         * Function which provides next page of thread messages.\n         * loadMoreThread is called when infinite scroll wants to load more messages\n         * */\n        loadMoreThread: PropTypes.func.isRequired,\n        /**\n         * **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)**\n         * If there are more messages available, set to false when the end of pagination is reached.\n         * */\n        threadHasMore: PropTypes.bool,\n        /**\n         * **Available from [channel context](https://getstream.github.io/stream-chat-react-native/#channelcontext)**\n         * If the thread is currently loading more messages. This is helpful to display a loading indicator on threadlist */\n        threadLoadingMore: PropTypes.bool,\n        /**\n         * Additional props for underlying Message component of parent message at the top.\n         * Available props - https://getstream.github.io/stream-chat-react-native/#message\n         * */\n        additionalParentMessageProps: PropTypes.object,\n        /**\n         * Additional props for underlying MessageList component.\n         * Available props - https://getstream.github.io/stream-chat-react-native/#messagelist\n         * */\n        additionalMessageListProps: PropTypes.object,\n        /**\n         * Additional props for underlying MessageInput component.\n         * Available props - https://getstream.github.io/stream-chat-react-native/#messageinput\n         * */\n        additionalMessageInputProps: PropTypes.object,\n      };\n\n      static defaultProps = {\n        threadHasMore: true,\n        threadLoadingMore: true,\n        autoFocus: true,\n      };\n\n      render() {\n        if (!this.props.thread) {\n          return null;\n        }\n\n        const parentID = this.props.thread.id;\n        const cid = this.props.channel.cid;\n\n        const key = `thread-${parentID}-${cid}`;\n        // We use a wrapper to make sure the key variable is set.\n        // this ensures that if you switch thread the component is recreated\n        return <ThreadInner {...this.props} key={key} />;\n      }\n    },\n  ),\n);\n\nconst ThreadInner = withTranslationAndStatics()(\n  class ThreadInner extends React.PureComponent {\n    static propTypes = {\n      /** Channel is passed via the Channel Context */\n      channel: PropTypes.object.isRequired,\n      /** the thread (just a message) that we're rendering */\n      thread: PropTypes.object.isRequired,\n    };\n\n    constructor(props) {\n      super(props);\n      this.messageList = React.createRef();\n    }\n\n    async componentDidMount() {\n      const parentID = this.props.thread.id;\n      if (parentID && this.props.thread.reply_count) {\n        await this.props.loadMoreThread();\n      }\n    }\n\n    render() {\n      if (!this.props.thread) {\n        return null;\n      }\n\n      const read = {};\n      const headerComponent = (\n        <React.Fragment>\n          <Message\n            message={this.props.thread}\n            initialMessage\n            threadList\n            readOnly\n            groupStyles={['single']}\n            Message={this.props.Message}\n            // TODO: remove the following line in next release, since we already have additionalParentMessageProps now.\n            {...this.props}\n            {...this.props.additionalParentMessageProps}\n          />\n          <NewThread>\n            <NewThreadText>\n              {this.props.t('chat.message.startThread')}\n            </NewThreadText>\n          </NewThread>\n        </React.Fragment>\n      );\n\n      return (\n        <React.Fragment>\n          <MessageList\n            messages={this.props.threadMessages}\n            HeaderComponent={headerComponent}\n            read={read}\n            threadList\n            loadMore={this.props.loadMoreThread}\n            hasMore={this.props.threadHasMore}\n            loadingMore={this.props.threadLoadingMore}\n            Message={this.props.Message}\n            {...this.props.additionalMessageListProps}\n          />\n          <MessageInput\n            parent={this.props.thread}\n            focus={this.props.autoFocus}\n            {...this.props.additionalMessageInputProps}\n          />\n        </React.Fragment>\n      );\n    }\n  },\n);\n\nexport { Thread };\n","import * as React from 'react';\n\nimport styled from '@stream-io/styled-components';\n\nconst Container = styled.View``;\n\nconst Icon = styled.View`\n  padding-top: 5;\n  align-self: center;\n  border-radius: 20;\n  align-items: center;\n  justify-content: center;\n  ${({ theme }) => theme.iconBadge.icon.css}\n`;\n\nconst IconInner = styled.View`\n  background-color: green;\n  justify-content: center;\n  align-items: center;\n  align-self: flex-start;\n  min-width: 15;\n  height: 15;\n  padding-left: 3;\n  padding-right: 3;\n  border-radius: 20;\n  ${({ theme }) => theme.iconBadge.iconInner.css}\n`;\n\nconst UnreadCount = styled.Text`\n  font-size: 10;\n  color: #ffffff;\n  ${({ theme }) => theme.iconBadge.unreadCount.css}\n`;\n\nexport class IconBadge extends React.Component {\n  render() {\n    const { children, showNumber, unread } = this.props;\n\n    return (\n      <Container>\n        {children}\n        {unread > 0 && (\n          <Icon>\n            <IconInner>\n              {showNumber && <UnreadCount>{unread}</UnreadCount>}\n            </IconInner>\n          </Icon>\n        )}\n      </Container>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { TouchableOpacity, Dimensions } from 'react-native';\n\nimport { ReactionPicker } from './ReactionPicker';\n\nexport class ReactionPickerWrapper extends React.PureComponent {\n  static propTypes = {\n    isMyMessage: PropTypes.func,\n    message: PropTypes.object,\n    offset: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    handleReaction: PropTypes.func,\n    emojiData: PropTypes.array,\n    style: PropTypes.any,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = { reactionPickerVisible: false };\n  }\n  _setReactionPickerPosition = () => {\n    const { isMyMessage, message, offset } = this.props;\n    const pos = isMyMessage(message) ? 'right' : 'left';\n    this.messageContainer.measureInWindow((x, y, width) => {\n      this.setState({\n        reactionPickerVisible: true,\n        rpTop: y - 60 + offset.top,\n        rpLeft: pos === 'left' ? x - 10 + offset.left : null,\n        rpRight:\n          pos === 'right'\n            ? Math.round(Dimensions.get('window').width) - (x + width + 10)\n            : null,\n      });\n    });\n  };\n\n  openReactionSelector = () => {\n    // Keyboard closes automatically whenever modal is opened (currently there is no way of avoiding this afaik)\n    // So we need to postpone the calculation for reaction picker position\n    // until after keyboard is closed completely. To achieve this, we close\n    // the keyboard forcefully and then calculate position of picker in callback.\n    this._setReactionPickerPosition();\n  };\n\n  render() {\n    const { handleReaction, message, emojiData, style } = this.props;\n    return (\n      <TouchableOpacity\n        onPress={this.openReactionSelector}\n        ref={(o) => (this.messageContainer = o)}\n      >\n        {this.props.children}\n        <ReactionPicker\n          reactionPickerVisible={this.state.reactionPickerVisible}\n          handleReaction={handleReaction}\n          hideReactionOwners={true}\n          latestReactions={message.latest_reactions}\n          reactionCounts={message.reaction_counts}\n          handleDismiss={() => {\n            this.setState({ reactionPickerVisible: false });\n          }}\n          style={style}\n          emojiData={emojiData}\n          rpLeft={this.state.rpLeft}\n          rpRight={this.state.rpRight}\n          rpTop={this.state.rpTop}\n        />\n      </TouchableOpacity>\n    );\n  }\n}\n"],"names":["Colors","primary","secondary","danger","light","textLight","textDark","textGrey","transparent","defaultTheme","colors","avatar","container","image","text","fallback","channelPreview","details","detailsTop","title","date","message","color","unreadColor","fontWeight","unreadFontWeight","closeButton","iconBadge","icon","iconInner","unreadCount","content","borderRadiusL","borderRadiusS","containerInner","metaContainer","metaText","errorContainer","backgroundColor","deletedContainer","deletedText","textContainer","leftBorderWidth","leftBorderColor","rightBorderWidth","rightBorderColor","markdown","status","spacer","deliveredContainer","deliveredCircle","checkMark","sendingContainer","sendingImage","readByContainer","readByCount","avatarWrapper","replies","messageRepliesText","file","size","actions","button","primaryBackgroundColor","defaultBackgroundColor","primaryBorderColor","defaultBorderColor","buttonText","primaryColor","defaultColor","card","cover","footer","gallery","width","halfSize","doubleSize","single","imageContainer","galleryContainer","header","reactionList","reactionCount","reactionPicker","containerView","column","emoji","actionSheet","titleContainer","titleText","buttonContainer","cancelButtonContainer","cancelButtonText","messageInput","conditionalPadding","inputBox","inputBoxContainer","attachButton","attachButtonIcon","sendButton","sendButtonIcon","imageUploadPreview","itemContainer","dismiss","dismissImage","upload","uploadProgressIndicator","overlay","suggestions","wrapper","maxHeight","itemHeight","separator","item","mention","name","command","top","messageList","listContainer","messageNotification","errorNotification","errorNotificationText","dateSeparator","line","dateText","messageSystem","eventIndicator","memberUpdateContainer","memberUpdateTextContainer","memberUpdateText","typingIndicatorContainer","spinner","thread","newThread","typingIndicator","fontSize","themed","OriginalComponent","themePath","Error","ThemedComponent","style","props","React","ThemeConsumer","themeProviderTheme","modifiedTheme","themeDiff","path","replaceCssShorthand","v","isPlainObject","m","mapValues","k","push","pop","lodashGet","join","css","merge","lodashSet","ThemeProvider","extraThemePaths","displayName","getDisplayName","WrappedComponent","BASE_AVATAR_FALLBACK_TEXT_SIZE","BASE_AVATAR_SIZE","AvatarContainer","styled","View","theme","AvatarImage","Image","AvatarFallback","AvatarText","Text","Avatar","imageError","setState","split","slice","map","charAt","initials","getInitials","state","uri","setError","PureComponent","PropTypes","string","number","object","Container","Name","MentionsItem","id","Component","propTypes","Top","Title","CommandsItem","args","description","renderText","styles","mentioned_users","trim","urls","anchorme","list","urlInfo","displayLink","truncate","encoded","replace","length","omission","mkdown","protocol","raw","newText","i","username","re","RegExp","markdownStyles","defaultMarkdownStyles","link","textDecorationLine","url","emojiData","capitalize","s","toUpperCase","FileState","Object","freeze","NO_FILE","UPLOADING","UPLOADED","UPLOAD_FAILED","ProgressIndicatorTypes","IN_PROGRESS","RETRY","ACITriggerSettings","users","onMentionSelectItem","commands","dataProvider","q","matchingUsers","filter","user","undefined","toLowerCase","indexOf","component","output","entity","key","caretPosition","callback","selectedCommands","c","sort","a","b","nameA","nameB","MESSAGE_ACTIONS","edit","reactions","reply","makeImageCompatibleUrl","newUrl","withTranslationAndStatics","ns","options","hoistStatics","withTranslation","withRef","InputBox","TextInput","AutoCompleteInput","isTrackingStarted","triggerSettings","currentTrigger","openSuggestions","closeSuggestions","fromUpdate","onChange","handleSuggestions","nativeEvent","selection","start","end","selectionStart","selectionEnd","triggers","newToken","computeCaretPosition","token","startToken","textToModify","startOfTokenPosition","search","allowWhitespace","newTokenString","newCaretPosition","modifiedText","substring","stopTracking","syncCaretPosition","position","tokenRegExp","keys","setTimeout","minChar","tokenMatch","exec","lastToken","find","index","afterWhitespace","match","actualToken","startTracking","updateSuggestions","value","previousChar","_createRegExp","prevProps","handleChange","data","onSelect","onSelectSuggestion","setInputBoxRef","t","handleSelectionChange","additionalTextInputProps","func","ChatContext","createContext","client","withChatContext","ContextAwareComponent","getContextAwareComponent","ChannelContext","withChannelContext","SuggestionsContext","withSuggestionsContext","MessageContentContext","withMessageContentContext","KeyboardContext","withKeyboardContext","context","originalComponent","Context","TouchableOpacity","alignment","Footer","Cover","Card","trimmedUrl","Linking","canOpenURL","then","supported","openURL","console","log","image_url","thumb_url","title_link","og_scrape_url","type","onLongPress","_goToURL","display","flexDirection","trimUrl","giphyLogo","Line","DateText","Date","DateSeparator","formatDate","Moment","format","isRequired","EmptyStateIndicator","listType","Indicator","MemberUpdateContainer","MemberUpdateTextContainer","MemberUpdateText","EventIndicator","event","received_at","img","wordMimeTypes","excelMimeTypes","powerpointMimeTypes","archiveFileTypes","codeFileTypes","mimeTypeToIconMap","iconPDF","iconDOC","iconXLS","iconPPT","iconTAR","mimeTypeToIcon","mimeType","FileIcon","React.createElement","height","Button","buttonStyle","rest","ButtonText","AttachmentActions","actionHandler","action","bind","array","CloseButton","closeRound","Single","GalleryContainer","ImageContainer","Gallery","viewerModalOpen","pictureIndex","images","Modal","alignItems","justifyContent","count","arrayOf","shape","HeaderContainer","HeaderButton","GalleryHeader","handleDismiss","FileContainer","groupStyle","FileDetails","FileTitle","FileSize","Attachment","attachment","AttachmentFileIcon","asset_url","mime_type","file_size","oneOf","oneOfType","node","elementType","FileAttachmentGroup","messageId","files","handleAction","Overlay","UploadProgressIndicator","active","children","left","right","bottom","ActivityIndicator","iconReload","bool","FILE_PREVIEW_HEIGHT","FILE_PREVIEW_PADDING","FileUploadPreview","retryUpload","padding","marginBottom","borderColor","borderWidth","paddingLeft","concat","removeFile","fileUploads","marginRight","marginLeft","FlatList","flex","_renderItem","IconSquare","onPress","borderRadius","ItemContainer","Dismiss","Upload","DismissImage","ImageUploadPreview","removeImage","imageUploads","KeyboardCompatibleView","e","keyboardHidingInProgressBeforeMeasure","_hidingKeyboardInProgress","keyboardHeight","endCoordinates","rootChannelView","measureInWindow","x","y","Dimensions","get","windowHeight","finalHeight","Platform","OS","StatusBar","currentHeight","Animated","timing","channelHeight","toValue","duration","setValue","_keyboardOpen","initialHeight","Promise","resolve","response","finished","o","layout","Keyboard","keyboardWillDismiss","dismissKeyboard","Value","keyboardDidShowListener","addListener","keyboardDidShow","keyboardDidHideListener","keyboardDidHide","remove","onLayout","getContext","setRootChannelView","LoadingErrorIndicator","Loader","AnimatedView","createAnimatedComponent","Circle","Spinner","rotateValue","loop","easing","Easing","linear","useNativeDriver","_start","transform","rotate","interpolate","inputRange","outputRange","LoadingText","LoadingIndicator","Spacer","StatusContainer","DeliveredContainer","DeliveredCircle","CheckMark","SendingContainer","SendingImage","ReadByContainer","MessageStatus","readBy","lastReceivedId","threadList","renderStatus","justReadByMe","loadingGif","lastReadUser","iconDeliveredUnseen","isThreadList","TouchableWrapper","visible","ReactionCount","reactionCounts","ImageWrapper","LeftTail","LeftCenter","LeftEnd","RightTail","RightCenter","RightEnd","Reactions","ReactionList","reactionsByType","emojiDataByType","forEach","reactionTypes","latestReactions","openReactionSelector","getTotalReactionCount","_renderReactions","leftTail","leftCenter","leftEnd","rightEnd","rightCenter","rightTail","leftAlign","ContainerView","Column","Emoji","ReactionPicker","filtered","getUsersPerReaction","hideReactionOwners","reactionPickerVisible","handleReaction","rpLeft","rpTop","rpRight","marginTop","Boolean","latestUser","getLatestUser","TextContainer","MessageTextContainer","withTheme","groupStyles","isMyMessage","MessageText","pos","hasAttachment","attachments","MessageRepliesText","MessageRepliesImage","MessageReplies","openThread","reply_count","iconPath","error","ContainerInner","MetaContainer","MetaText","DeletedContainer","DeletedText","FailedText","ActionSheetTitleContainer","ActionSheetTitleText","ActionSheetButtonContainer","ActionSheetButtonText","ActionSheetCancelButtonContainer","ActionSheetCancelButtonText","MessageContent","onThreadSelect","ActionSheet","show","handleDelete","handleEdit","messageContainer","Math","round","readOnly","_setReactionPickerPosition","Message","retrySendMessage","messageActions","reactionsEnabled","repliesEnabled","canEditMessage","canDeleteMessage","MessageFooter","showTime","hasReactions","latest_reactions","splice","deleted_at","contentProps","onMessageTouch","showActionSheet","activeOpacity","disabled","Immutable","reaction_counts","moment","created_at","onActionPress","actionSheetStyles","MessageAvatar","showAvatar","MessageSystem","hasMarginBottom","isVeryLastMessage","MessageSimple","forceAlign","showMessageStatus","lastMessage","channel","messages","handleRetry","role","isAdmin","preventDefault","flagMessage","setEditingState","deleteMessage","updateMessage","reactionType","userExistingReaction","currentUser","userID","own_reactions","reaction","warn","originalMessage","removeReaction","reactionChangePromise","deleteReaction","messageID","tmpReaction","message_id","addReaction","sendReaction","formData","sendAction","removeMessage","dismissKeyboardOnMessageTouch","loading","nextProps","shouldUpdate","deepequal","editing","actionsEnabled","actionProps","getConfig","handleFlag","handleMute","MessageNotificationText","MessageNotification","notificationOpacity","showNotification","opacity","Wrapper","min","Separator","SuggestionsItem","SuggestionsProvider","all","getInputBoxPosition","getChatBoxPosition","inputBoxPosition","chatBoxPosition","suggestionsBottomMargin","suggestionsLeftMargin","suggestionsWidth","suggestionsViewActive","suggestionsBackdropHeight","suggestionsTitle","messageInputBox","nodeHandleRoot","findNodeHandle","rootView","measureLayout","setInputBoxContainerRef","setRootView","SuggestionsView","backdropHeight","SuggestionsSeparator","renderItem","SuggestionsHeader","fail","NetInfo","fetch","addEventListener","pickImage","pickDocument","registerNativeHandlers","handlers","Chat","isConnected","wsConnection","onlineStatusChanged","notifyChatClient","unsubscribeNetInfo","logger","tags","_unmounted","setActiveChannel","isOnline","connectionRecovering","setConnectionListener","on","online","locale","off","handleEvent","ChannelInner","read_events","logChatPromiseExecution","markRead","threadMessages","threads","threadLoadingMore","parentID","oldMessages","oldestMessageID","limit","getReplies","id_lt","queryResponse","hasMore","_loadMoreThreadFinishedDebounced","threadHasMore","updatedMessage","extraState","addMessageSorted","parent_id","parent","extraFields","clientSideID","uuidv4","html","__html","messageData","sendMessage","messageResponse","filterErrorMessages","messagePreview","createMessagePreview","userAutocomplete","_sendMessage","asMutable","threadState","messageToImmutable","addToEventHistory","_setStateThrottled","watchers","read","typing","watcher_count","prevState","lastMessageId","eventHistory","loadingMore","oldestMessage","oldestID","perPage","query","_loadMoreFinishedDebounced","clearEditingState","_markReadThrottled","loadMore","_loadMoreThrottled","closeThread","loadMoreThread","members","kavEnabled","debounce","loadMoreFinished","leading","trailing","throttle","loadMoreThreadFinished","errored","initialized","watch","lastRead","copyChannelState","listenToChanges","cancel","countUnread","selectRegularMessages","core","renderLoadingError","renderLoading","trueOrFalse","renderComponent","Channel","cid","TypingText","TypingIndicator","dict","arr2","arr3","outStr","usernames","values","idx","constructTypingString","ListContainer","ErrorNotificationText","ErrorNotification","TypingIndicatorContainer","MessageList","newMessages","none","entries","messageDate","getDay","prevMessageDate","eventsNextToMessage","l","messageGroupStyles","previousMessage","nextMessage","userId","isTopMessage","isBottomMessage","noGroupByUser","newMessagesNotification","flatList","scrollToIndex","readData","readState","last_read","userLastReadMsgId","msg","updated_at","yOffset","contentOffset","removeNewMessageNotification","currentLastMessage","previousLastMessage","hasNewMessage","userScrolledUp","isOwner","scrollToBottom","getLastReceived","hasEventHistory","renderEmptyState","HeaderComponent","headerComponent","messagesWithDates","insertDates","getGroupStyles","getReadStates","reverse","showTypingIndicator","disableWhileEditing","zIndex","fl","handleScroll","toISOString","minIndexForVisible","autoscrollToTopThreshold","additionalFlatListProps","goToNewMessages","loadMoreThreshold","messageGrouping","SendButtonIcon","SendButton","iconEdit","iconSendNewMessage","generateRandomId","S4","random","toString","InputBoxContainer","AttachButton","AttachButtonIcon","MessageInput","imageOrder","fileOrder","attach","numberOfUploads","member","userMap","usersArray","mu","updateMessagePromise","uniq","err","maxNumberOfFiles","result","cancelled","lookup","startsWith","uploadNewImage","uploadNewFile","setIn","_uploadFile","doc","doDocUploadRequest","sendFile","_uploadImage","set","_id","filename","contentType","doImageUploadRequest","sendImage","keystroke","config","allCommands","attachActionSheet","hide","getMessageDetailsForState","focus","hasImagePicker","hasFilePicker","editingBoxStyles","paddingRight","shadowColor","shadowOpacity","shadowOffset","iconClose","_removeFile","_removeImage","_pickImage","_pickFile","iconAddAttachment","closeAttachActionSheet","iconGallery","iconFolder","getCommands","getUsers","onSelectItem","AttachmentActionSheetItem","Details","DetailsTop","unread","ChannelPreviewMessenger","createRef","otherMembers","isValidName","onSelectChannel","renderAvatar","latestMessage","ChannelPreview","isSame","handleNewMessageEvent","handleReadEvent","Preview","getLatestMessage","ChannelListMessenger","channels","loadNextPage","loadingChannels","renderChannels","objectOf","isPromise","thing","promise","DEFAULT_QUERY_CHANNELS_LIMIT","ChannelList","resync","queryActive","hasNextPage","filters","offset","refreshing","channelPromise","queryChannels","channelQueryResponse","channelIds","newChannels","lockChannelOrder","moveChannelUp","onMessageNew","getChannel","uniqBy","uniqWith","isEqual","onAddedToChannel","onRemovedFromChannel","channelIndex","findIndex","onChannelUpdated","onChannelDeleted","onChannelTruncated","unshift","_queryChannelsDebounced","menuButton","info","List","NewThread","NewThreadText","Thread","autoFocus","additionalParentMessageProps","additionalMessageListProps","additionalMessageInputProps","ThreadInner","Icon","IconInner","UnreadCount","IconBadge","showNumber","ReactionPickerWrapper","any"],"mappings":"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"}